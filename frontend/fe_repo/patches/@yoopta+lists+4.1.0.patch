diff --git a/node_modules/@yoopta/lists/dist/index.js b/node_modules/@yoopta/lists/dist/index.js
index d8ca640..5b5fd63 100644
--- a/node_modules/@yoopta/lists/dist/index.js
+++ b/node_modules/@yoopta/lists/dist/index.js
@@ -5,4 +5,4 @@ import{findPluginBlockBySelectionPath as e,buildBlockData as t,buildBlockElement
  * Copyright (c) 2014-2017, Jon Schlinkert.
  * Released under the MIT License.
  */
-function p(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){var t,r;return!1!==p(e)&&(void 0===(t=e.constructor)||!1!==p(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}var d=Symbol.for("immer-nothing"),u=Symbol.for("immer-draftable"),h=Symbol.for("immer-state");function y(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var g=Object.getPrototypeOf;function v(e){return!!e&&!!e[h]}function m(e){return!!e&&(w(e)||Array.isArray(e)||!!e[u]||!!e.constructor?.[u]||j(e)||k(e))}var b=Object.prototype.constructor.toString();function w(e){if(!e||"object"!=typeof e)return!1;const t=g(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===b}function x(e,t){0===_(e)?Reflect.ownKeys(e).forEach((r=>{t(r,e[r],e)})):e.forEach(((r,n)=>t(n,r,e)))}function _(e){const t=e[h];return t?t.type_:Array.isArray(e)?1:j(e)?2:k(e)?3:0}function O(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t,r){const n=_(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function j(e){return e instanceof Map}function k(e){return e instanceof Set}function E(e){return e.copy_||e.base_}function S(e,t){if(j(e))return new Map(e);if(k(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&w(e)){if(!g(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const r=Object.getOwnPropertyDescriptors(e);delete r[h];let n=Reflect.ownKeys(r);for(let t=0;t<n.length;t++){const o=n[t],s=r[o];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(g(e),r)}function N(e,t=!1){return T(e)||v(e)||!m(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=A),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>N(t,!0)))),e}function A(){y(2)}function T(e){return Object.isFrozen(e)}var C,L={};function B(e){const t=L[e];return t||y(0),t}function D(){return C}function z(e,t){t&&(B("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function R(e){q(e),e.drafts_.forEach(M),e.drafts_=null}function q(e){e===C&&(C=e.parent_)}function F(e){return C={drafts_:[],parent_:C,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M(e){const t=e[h];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function I(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[h].modified_&&(R(t),y(4)),m(e)&&(e=V(t,e),t.parent_||K(t,e)),t.patches_&&B("Patches").generateReplacementPatches_(r[h].base_,e,t.patches_,t.inversePatches_)):e=V(t,r,[]),R(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d?e:void 0}function V(e,t,r){if(T(t))return t;const n=t[h];if(!n)return x(t,((o,s)=>W(e,n,t,o,s,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return K(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let o=t,s=!1;3===n.type_&&(o=new Set(t),t.clear(),s=!0),x(o,((o,i)=>W(e,n,t,o,i,r,s))),K(e,t,!1),r&&e.patches_&&B("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function W(e,t,r,n,o,s,i){if(v(o)){const i=V(e,o,s&&t&&3!==t.type_&&!O(t.assigned_,n)?s.concat(n):void 0);if(P(r,n,i),!v(i))return;e.canAutoFreeze_=!1}else i&&r.add(o);if(m(o)&&!T(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;V(e,o),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||K(e,o)}}function K(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&N(t,r)}var U={get(e,t){if(t===h)return e;const r=E(e);if(!O(r,t))return function(e,t,r){const n=$(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!m(n)?n:n===Z(e.base_,t)?(X(e),e.copy_[t]=G(n,e)):n},has:(e,t)=>t in E(e),ownKeys:e=>Reflect.ownKeys(E(e)),set(e,t,r){const n=$(E(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Z(E(e),t),i=n?.[h];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((o=r)===(s=n)?0!==o||1/o==1/s:o!=o&&s!=s)&&(void 0!==r||O(e.base_,t)))return!0;X(e),H(e)}var o,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Z(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,X(e),H(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=E(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){y(11)},getPrototypeOf:e=>g(e.base_),setPrototypeOf(){y(12)}},J={};function Z(e,t){const r=e[h];return(r?E(r):e)[t]}function $(e,t){if(!(t in e))return;let r=g(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=g(r)}}function H(e){e.modified_||(e.modified_=!0,e.parent_&&H(e.parent_))}function X(e){e.copy_||(e.copy_=S(e.base_,e.scope_.immer_.useStrictShallowCopy_))}x(U,((e,t)=>{J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return J.set.call(this,e,t,void 0)},J.set=function(e,t,r){return U.set.call(this,e[0],t,r,e[0])};function G(e,t){const r=j(e)?B("MapSet").proxyMap_(e,t):k(e)?B("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:D(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,s=U;r&&(o=[n],s=J);const{revoke:i,proxy:a}=Proxy.revocable(o,s);return n.draft_=a,n.revoke_=i,a}(e,t);return(t?t.scope_:D()).drafts_.push(r),r}function Q(e){if(!m(e)||T(e))return e;const t=e[h];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=S(e,t.scope_.immer_.useStrictShallowCopy_)}else r=S(e,!0);return x(r,((e,t)=>{P(r,e,Q(t))})),t&&(t.finalized_=!1),r}var Y=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...o){return n.produce(e,(e=>t.call(this,e,...o)))}}let n;if("function"!=typeof t&&y(6),void 0!==r&&"function"!=typeof r&&y(7),m(e)){const o=F(this),s=G(e,void 0);let i=!0;try{n=t(s),i=!1}finally{i?R(o):q(o)}return z(o,r),I(n,o)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===d&&(n=void 0),this.autoFreeze_&&N(n,!0),r){const t=[],o=[];B("Patches").generateReplacementPatches_(e,n,t,o),r(t,o)}return n}y(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;return[this.produce(e,t,((e,t)=>{r=e,n=t})),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){m(e)||y(8),v(e)&&(e=function(e){v(e)||y(10);return Q(e)}(e));const t=F(this),r=G(e,void 0);return r[h].isManual_=!0,q(t),r}finishDraft(e,t){const r=e&&e[h];r&&r.isManual_||y(9);const{scope_:n}=r;return z(n,t),I(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=B("Patches").applyPatches_;return v(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},ee=Y.produce;Y.produceWithPatches.bind(Y),Y.setAutoFreeze.bind(Y),Y.setUseStrictShallowCopy.bind(Y),Y.applyPatches.bind(Y);var te=Y.createDraft.bind(Y),re=Y.finishDraft.bind(Y),ne={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=ne.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),s=e[r],i=t[r];return ne.equals(n,o)&&s>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return ne.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),s=e[r],i=t[r];return ne.equals(n,o)&&s<i},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===ne.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===ne.compare(e,t),isBefore:(e,t)=>-1===ne.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===ne.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===ne.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===ne.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===ne.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&ne.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ne.isAncestor(t,e)&&!ne.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:o="forward"}=r;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:s}=t;(ne.equals(s,n)||ne.endsBefore(s,n)||ne.isAncestor(s,n))&&(n[s.length-1]+=1);break;case"remove_node":var{path:i}=t;if(ne.equals(i,n)||ne.isAncestor(i,n))return null;ne.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:a,position:l}=t;ne.equals(a,n)||ne.endsBefore(a,n)?n[a.length-1]-=1:ne.isAncestor(a,n)&&(n[a.length-1]-=1,n[a.length]+=l);break;case"split_node":var{path:c,position:p}=t;if(ne.equals(c,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else ne.endsBefore(c,n)?n[c.length-1]+=1:ne.isAncestor(c,n)&&e[c.length]>=p&&(n[c.length-1]+=1,n[c.length]-=p);break;case"move_node":var{path:f,newPath:d}=t;if(ne.equals(f,d))return n;if(ne.isAncestor(f,n)||ne.equals(f,n)){var u=d.slice();return ne.endsBefore(f,d)&&f.length<d.length&&(u[f.length-1]-=1),u.concat(n.slice(f.length))}ne.isSibling(f,d)&&(ne.isAncestor(d,n)||ne.equals(d,n))?ne.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:ne.endsBefore(d,n)||ne.equals(d,n)||ne.isAncestor(d,n)?(ne.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):ne.endsBefore(f,n)&&(ne.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}return n}};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function se(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oe(t)?t:String(t)}function ie(e,t,r){return(t=se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce={transform(e,t){e.children=te(e.children);var r=e.selection&&te(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:o}=r,s=_e.parent(e,n),i=n[n.length-1];if(i>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(s.children.splice(i,0,o),t)for(var[a,l]of ge.points(t))t[l]=Ae.transform(a,r);break;case"insert_text":var{path:c,offset:p,text:f}=r;if(0===f.length)break;var d=_e.leaf(e,c),u=d.text.slice(0,p),h=d.text.slice(p);if(d.text=u+f+h,t)for(var[y,g]of ge.points(t))t[g]=Ae.transform(y,r);break;case"merge_node":var{path:v}=r,m=_e.get(e,v),b=ne.previous(v),w=_e.get(e,b),x=_e.parent(e,v),_=v[v.length-1];if(qe.isText(m)&&qe.isText(w))w.text+=m.text;else{if(qe.isText(m)||qe.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interfaces: ").concat(Ce.stringify(m)," ").concat(Ce.stringify(w)));w.children.push(...m.children)}if(x.children.splice(_,1),t)for(var[O,P]of ge.points(t))t[P]=Ae.transform(O,r);break;case"move_node":var{path:j,newPath:k}=r;if(ne.isAncestor(j,k))throw new Error("Cannot move a path [".concat(j,"] to new path [").concat(k,"] because the destination is inside itself."));var E=_e.get(e,j),S=_e.parent(e,j),N=j[j.length-1];S.children.splice(N,1);var A=ne.transform(j,r),T=_e.get(e,ne.parent(A)),C=A[A.length-1];if(T.children.splice(C,0,E),t)for(var[L,B]of ge.points(t))t[B]=Ae.transform(L,r);break;case"remove_node":var{path:D}=r,z=D[D.length-1];if(_e.parent(e,D).children.splice(z,1),t)for(var[R,q]of ge.points(t)){var F=Ae.transform(R,r);if(null!=t&&null!=F)t[q]=F;else{var M=void 0,I=void 0;for(var[V,W]of _e.texts(e)){if(-1!==ne.compare(W,D)){I=[V,W];break}M=[V,W]}var K=!1;M&&I&&(K=ne.equals(I[1],D)?!ne.hasPrevious(I[1]):ne.common(M[1],D).length<ne.common(I[1],D).length),M&&!K?(R.path=M[1],R.offset=M[0].text.length):I?(R.path=I[1],R.offset=0):t=null}}break;case"remove_text":var{path:U,offset:J,text:Z}=r;if(0===Z.length)break;var $=_e.leaf(e,U),H=$.text.slice(0,J),X=$.text.slice(J+Z.length);if($.text=H+X,t)for(var[G,Q]of ge.points(t))t[Q]=Ae.transform(G,r);break;case"set_node":var{path:Y,properties:ee,newProperties:te}=r;if(0===Y.length)throw new Error("Cannot set properties on the root node!");var re=_e.get(e,Y);for(var oe in te){if("children"===oe||"text"===oe)throw new Error('Cannot set the "'.concat(oe,'" property of nodes!'));var se=te[oe];null==se?delete re[oe]:re[oe]=se}for(var ie in ee)te.hasOwnProperty(ie)||delete re[ie];break;case"set_selection":var{newProperties:ae}=r;if(null==ae)t=ae;else{if(null==t){if(!ge.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ce.stringify(ae)," when there is no current selection."));t=le({},ae)}for(var ce in ae){var pe=ae[ce];if(null==pe){if("anchor"===ce||"focus"===ce)throw new Error('Cannot remove the "'.concat(ce,'" selection property'));delete t[ce]}else t[ce]=pe}}break;case"split_node":var{path:fe,position:de,properties:ue}=r;if(0===fe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fe,"] because the root node cannot be split."));var he,ye=_e.get(e,fe),ve=_e.parent(e,fe),me=fe[fe.length-1];if(qe.isText(ye)){var be=ye.text.slice(0,de),we=ye.text.slice(de);ye.text=be,he=le(le({},ue),{},{text:we})}else{var xe=ye.children.slice(0,de),Oe=ye.children.slice(de);ye.children=xe,he=le(le({},ue),{},{children:Oe})}if(ve.children.splice(me+1,0,he),t)for(var[Pe,je]of ge.points(t))t[je]=Ae.transform(Pe,r)}return t})(e,r,t)}finally{e.children=re(e.children),e.selection=r?v(r)?re(r):r:null}}},pe={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},fe={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},de=(e,t)=>{for(var r in e){var n=e[r],o=t[r];if(f(n)&&f(o)){if(!de(n,o))return!1}else if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==o[s])return!1}else if(n!==o)return!1}for(var i in t)if(void 0===e[i]&&void 0!==t[i])return!1;return!0};function ue(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var he=["anchor","focus"];function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ge={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return ge.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=ge.edges(e);return t},equals:(e,t)=>Ae.equals(e.anchor,t.anchor)&&Ae.equals(e.focus,t.focus),includes(e,t){if(ge.isRange(t)){if(ge.includes(e,t.anchor)||ge.includes(e,t.focus))return!0;var[r,n]=ge.edges(e),[o,s]=ge.edges(t);return Ae.isBefore(r,o)&&Ae.isAfter(n,s)}var[i,a]=ge.edges(e),l=!1,c=!1;return Ae.isPoint(t)?(l=Ae.compare(t,i)>=0,c=Ae.compare(t,a)<=0):(l=ne.compare(t,i.path)>=0,c=ne.compare(t,a.path)<=0),l&&c},intersection(e,t){var r=ue(e,he),[n,o]=ge.edges(e),[s,i]=ge.edges(t),a=Ae.isBefore(n,s)?s:n,l=Ae.isBefore(o,i)?o:i;return Ae.isBefore(l,a)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:a,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return Ae.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return Ae.equals(t,r)},isExpanded:e=>!ge.isCollapsed(e),isForward:e=>!ge.isBackward(e),isRange:e=>f(e)&&Ae.isPoint(e.anchor)&&Ae.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ge.edges(e);return t},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ee(e,(e=>{if(null===e)return null;var n,o,{affinity:s="inward"}=r;if("inward"===s){var i=ge.isCollapsed(e);ge.isForward(e)?(n="forward",o=i?n:"backward"):(n="backward",o=i?n:"forward")}else"outward"===s?ge.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=s,o=s);var a=Ae.transform(e.anchor,t,{affinity:n}),l=Ae.transform(e.focus,t,{affinity:o});if(!a||!l)return null;e.anchor=a,e.focus=l}))}},ve=e=>f(e)&&_e.isNodeList(e.children)&&!Ee.isEditor(e),me={isAncestor:e=>f(e)&&_e.isNodeList(e.children),isElement:ve,isElementList:e=>Array.isArray(e)&&e.every((e=>me.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return ve(e)&&e[r]===t},matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},be=["children"],we=["text"],xe=new WeakMap,_e={ancestor(e,t){var r=_e.get(e,t);if(qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Ce.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of ne.ancestors(t,r)){var o=[_e.ancestor(e,n),n];yield o}}()},child(e,t){if(qe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Ce.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Ce.stringify(e)));return r},children(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,o=_e.ancestor(e,t),{children:s}=o,i=n?s.length-1:0;n?i>=0:i<s.length;){var a=_e.child(o,i),l=t.concat(i);yield[a,l],i=n?i-1:i+1}}()},common(e,t,r){var n=ne.common(t,r);return[_e.get(e,n),n]},descendant(e,t){var r=_e.get(e,t);if(Ee.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Ce.stringify(r)));return r},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(e,t))0!==n.length&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(e,t))me.isElement(r)&&(yield[r,n])}()},extractProps:e=>me.isAncestor(e)?ue(e,be):ue(e,we),first(e,t){for(var r=t.slice(),n=_e.get(e,r);n&&!qe.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(qe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ce.stringify(e)));return ee({children:e.children},(e=>{var[r,n]=ge.edges(t),o=_e.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!ge.includes(t,r)}});for(var[,s]of o){if(!ge.includes(t,s)){var i=_e.parent(e,s),a=s[s.length-1];i.children.splice(a,1)}if(ne.equals(s,n.path)){var l=_e.leaf(e,s);l.text=l.text.slice(0,n.offset)}if(ne.equals(s,r.path)){var c=_e.leaf(e,s);c.text=c.text.slice(r.offset)}}Ee.isEditor(e)&&(e.selection=null)})).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(qe.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Ce.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(qe.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>qe.isText(e)||me.isElement(e)||Ee.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=xe.get(e);if(void 0!==t)return t;var r=e.every((e=>_e.isNode(e)));return xe.set(e,r),r},last(e,t){for(var r=t.slice(),n=_e.get(e,r);n&&!qe.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=_e.get(e,t);if(!qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Ce.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of ne.levels(t,r)){var o=_e.get(e,n);yield[o,n]}}()},matches:(e,t)=>me.isElement(e)&&me.isElementProps(t)&&me.matches(e,t)||qe.isText(e)&&qe.isTextProps(t)&&qe.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:o=[],to:s}=t,i=new Set,a=[],l=e;!s||!(n?ne.isBefore(a,s):ne.isAfter(a,s));)if(i.has(l)||(yield[l,a]),i.has(l)||qe.isText(l)||0===l.children.length||null!=r&&!1!==r([l,a])){if(0===a.length)break;if(!n){var c=ne.next(a);if(_e.has(e,c)){a=c,l=_e.get(e,a);continue}}if(n&&0!==a[a.length-1])a=ne.previous(a),l=_e.get(e,a);else a=ne.parent(a),l=_e.get(e,a),i.add(l)}else{i.add(l);var p=n?l.children.length-1:0;ne.isAncestor(a,o)&&(p=o[a.length]),a=a.concat(p),l=_e.get(e,a)}}()},parent(e,t){var r=ne.parent(t),n=_e.get(e,r);if(qe.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>qe.isText(e)?e.text:e.children.map(_e.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(e,t))qe.isText(r)&&(yield[r,n])}()}};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je={isNodeOperation:e=>je.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!f(e))return!1;switch(e.type){case"insert_node":case"remove_node":return ne.isPath(e.path)&&_e.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&ne.isPath(e.path);case"merge_node":return"number"==typeof e.position&&ne.isPath(e.path)&&f(e.properties);case"move_node":return ne.isPath(e.path)&&ne.isPath(e.newPath);case"set_node":return ne.isPath(e.path)&&f(e.properties)&&f(e.newProperties);case"set_selection":return null===e.properties&&ge.isRange(e.newProperties)||null===e.newProperties&&ge.isRange(e.properties)||f(e.properties)&&f(e.newProperties);case"split_node":return ne.isPath(e.path)&&"number"==typeof e.position&&f(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>je.isOperation(e))),isSelectionOperation:e=>je.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>je.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Pe(Pe({},e),{},{type:"remove_node"});case"insert_text":return Pe(Pe({},e),{},{type:"remove_text"});case"merge_node":return Pe(Pe({},e),{},{type:"split_node",path:ne.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(ne.equals(t,r))return e;if(ne.isSibling(r,t))return Pe(Pe({},e),{},{path:t,newPath:r});var n=ne.transform(r,e),o=ne.transform(ne.next(r),e);return Pe(Pe({},e),{},{path:n,newPath:o});case"remove_node":return Pe(Pe({},e),{},{type:"insert_node"});case"remove_text":return Pe(Pe({},e),{},{type:"insert_text"});case"set_node":var{properties:s,newProperties:i}=e;return Pe(Pe({},e),{},{properties:i,newProperties:s});case"set_selection":var{properties:a,newProperties:l}=e;return Pe(Pe({},e),{},null==a?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:a}:{properties:l,newProperties:a});case"split_node":return Pe(Pe({},e),{},{type:"merge_node",path:ne.next(e.path)})}}},ke=new WeakMap,Ee={above:(e,t)=>e.above(t),addMark(e,t,r){e.addMark(t,r)},after:(e,t,r)=>e.after(t,r),before:(e,t,r)=>e.before(t,r),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,r)=>e.isEdge(t,r),isEditor:e=>(e=>{var t=ke.get(e);if(void 0!==t)return t;if(!f(e))return!1;var r="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||f(e.marks))&&(null===e.selection||ge.isRange(e.selection))&&_e.isNodeList(e.children)&&je.isOperationList(e.operations);return ke.set(e,r),r})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,r)=>e.isEnd(t,r),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,r)=>e.isStart(t,r),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,r)=>e.leaf(t,r),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,r)=>e.node(t,r),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,r)=>e.parent(t,r),path:(e,t,r)=>e.path(t,r),pathRef:(e,t,r)=>e.pathRef(t,r),pathRefs:e=>e.pathRefs(),point:(e,t,r)=>e.point(t,r),pointRef:(e,t,r)=>e.pointRef(t,r),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,r)=>e.range(t,r),rangeRef:(e,t,r)=>e.rangeRef(t,r),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,r)=>e.string(t,r),unhangRange:(e,t,r)=>e.unhangRange(t,r),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)}};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae={compare(e,t){var r=ne.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===Ae.compare(e,t),isBefore:(e,t)=>-1===Ae.compare(e,t),equals:(e,t)=>e.offset===t.offset&&ne.equals(e.path,t.path),isPoint:e=>f(e)&&"number"==typeof e.offset&&ne.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ee(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=r,{path:o,offset:s}=e;switch(t.type){case"insert_node":case"move_node":e.path=ne.transform(o,t,r);break;case"insert_text":ne.equals(t.path,o)&&(t.offset<s||t.offset===s&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":ne.equals(t.path,o)&&(e.offset+=t.position),e.path=ne.transform(o,t,r);break;case"remove_text":ne.equals(t.path,o)&&t.offset<=s&&(e.offset-=Math.min(s-t.offset,t.text.length));break;case"remove_node":if(ne.equals(t.path,o)||ne.isAncestor(t.path,o))return null;e.path=ne.transform(o,t,r);break;case"split_node":if(ne.equals(t.path,o)){if(t.position===s&&null==n)return null;(t.position<s||t.position===s&&"forward"===n)&&(e.offset-=t.position,e.path=ne.transform(o,t,Ne(Ne({},r),{},{affinity:"forward"})))}else e.path=ne.transform(o,t,r)}}))}},Te=void 0,Ce={setScrubber(e){Te=e},stringify:e=>JSON.stringify(e,Te)},Le=["text"],Be=["anchor","focus"];function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re,qe={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function o(e){return ue(e,Le)}return de(n?o(e):e,n?o(t):t)},isText:e=>f(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>qe.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[ze({},e)];for(var n of t){var o=ue(n,Be),[s,i]=ge.edges(n),a=[],l=0,c=s.offset,p=i.offset;for(var f of r){var{length:d}=f.text,u=l;if(l+=d,c<=u&&l<=p)Object.assign(f,o),a.push(f);else if(c!==p&&(c===l||p===u)||c>l||p<u||p===u&&0!==u)a.push(f);else{var h=f,y=void 0,g=void 0;if(p<l){var v=p-u;g=ze(ze({},h),{},{text:h.text.slice(v)}),h=ze(ze({},h),{},{text:h.text.slice(0,v)})}if(c>u){var m=c-u;y=ze(ze({},h),{},{text:h.text.slice(0,m)}),h=ze(ze({},h),{},{text:h.text.slice(m)})}Object.assign(h,o),y&&a.push(y),a.push(h),g&&a.push(g)}}r=a}return r}},Fe=e=>e.selection?e.selection:e.children.length>0?Ee.end(e,[]):[0];!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(Re||(Re={})),Re.L,Re.L,Re.V,Re.LV,Re.LVT,Re.LV,Re.V,Re.V,Re.T,Re.LVT,Re.T,Re.T,Re.Any,Re.Extend,Re.ZWJ,Re.Any,Re.SpacingMark,Re.Prepend,Re.Any,Re.ZWJ,Re.ExtPict,Re.RI,Re.RI;var Me={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ee.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:o=Fe(e)}=r;if(ne.isPath(o)&&(o=Ee.range(e,o)),ge.isRange(o))if(ge.isCollapsed(o))o=o.anchor;else{var s=ge.end(o);if(!n&&Ee.void(e,{at:s}))return;var i=ge.start(o),a=Ee.pointRef(e,i),l=Ee.pointRef(e,s);We.delete(e,{at:o,voids:n});var c=a.unref(),p=l.unref();o=c||p,We.setSelection(e,{anchor:o,focus:o})}if(!(!n&&Ee.void(e,{at:o})||Ee.elementReadOnly(e,{at:o}))){var{path:f,offset:d}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}}))}};function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We=Ve(Ve(Ve(Ve({},ce),pe),fe),Me);function Ke(n,o,{hotkeys:s,defaultBlock:i}){return a=>{Ee.withoutNormalizing(o,(()=>{var l;const c=e(n);if(!o.selection||!c)return;const p=o.selection,{anchor:f}=p;if(s.isCmdEnter(a)){const e=Ee.above(o,{at:f,match:e=>!Ee.isEditor(e)&&me.isElement(e)&&"todo-list"===e.type,mode:"highest"});if(!e)return;const[t]=e,r=(null===(l=t.props)||void 0===l?void 0:l.checked)||!1;n.blocks.TodoList.updateElement(c.id,"todo-list",{checked:!r})}else if(s.isEnter(a)){a.preventDefault();const e=Ee.above(o,{at:f,match:e=>!Ee.isEditor(e)&&me.isElement(e)&&("numbered-list"===e.type||"bulleted-list"===e.type||"todo-list"===e.type),mode:"highest"});if(!e)return;const[s,l]=e,p=Ee.isEnd(o,f,l),d=Ee.isStart(o,f,l),u=Ee.string(o,l),h=0===c.meta.depth,y=u.trim().length>0;if(!y){if(h){const e=c.meta.order;return n.deleteBlock({blockId:c.id}),void n.insertBlock(i,{at:[e],focus:!0})}return void n.decreaseBlockDepth({blockId:c.id})}if(d){const e=t({type:c.type,meta:{order:c.meta.order,depth:c.meta.depth},value:[r({type:s.type,props:{nodeType:"block"}})]});return void n.insertBlock(e,{at:[c.meta.order],focus:!1})}if(y&&!d&&!p)return void n.splitBlock({slate:o,focus:!0});const g=t({type:c.type,meta:{order:c.meta.order+1,depth:c.meta.depth},value:[r({type:s.type,props:{nodeType:"block"}})]});n.insertBlock(g,{at:[c.meta.order+1],focus:!0})}else;}))}}const Ue={BulletedList:new n({type:"BulletedList",elements:{"bulleted-list":{render:({attributes:e,element:t,children:r,HTMLAttributes:n={}})=>{const{className:o=""}=n,s=c(n,["className"]);return a("div",Object.assign({"data-element-type":t.type,className:`yoo-lists-ml-[10px] yoo-lists-flex yoo-lists-items-center yoo-lists-pl-4 yoo-lists-space-x-1 yoo-lists-py-[2px] yoo-lists-text-[16px] yoo-lists-leading-7 yoo-lists-relative yoopta-bulleted-list ${o}`},s,e,{children:[l("span",Object.assign({className:"yoo-lists-min-w-[10px] yoo-lists-w-auto yoo-lists-select-none yoo-lists-absolute yoo-lists-left-0 yoo-lists-top-[0px] yoo-lists-font-bold",contentEditable:!1},{children:"•"})),l("span",Object.assign({className:"yoo-lists-flex-grow yoo-lists-ml-0"},{children:r}))]}))}}},options:{display:{title:"Bulleted List",description:"Create bullet list"},shortcuts:["-"]},events:{onKeyDown:Ke},parsers:{html:{deserialize:{nodeNames:["UL"],parse(e){if("UL"===e.nodeName){const r=e.querySelectorAll("li"),n=Array.from(r).filter((e=>{const t=e.textContent||"";return!/\[\s*\S?\s*\]/.test(t)})).map((e=>{const r=e.textContent||"";return t({id:o(),type:"BulletedList",value:[{id:o(),type:"bulleted-list",children:[{text:r}],props:{nodeType:"block"}}],meta:{order:0,depth:0}})}));if(n.length>1)return n}}}}}}),NumberedList:new n({type:"NumberedList",elements:{"numbered-list":{render:({attributes:e,children:t,element:r,blockId:n,HTMLAttributes:o={}})=>{const{className:p=""}=o,f=c(o,["className"]),d=s(n),u=i(),h=Object.keys(u.children).filter((e=>{const t=u.children[e];return t.meta.depth===d.meta.depth&&"NumberedList"===t.type})).findIndex((e=>e===n))+1;return a("div",Object.assign({"data-element-type":r.type,className:`yoo-lists-ml-[10px] yoo-lists-flex yoo-lists-items-center yoo-lists-pl-4 yoo-lists-space-x-1 yoo-lists-py-[2px] yoo-lists-text-[16px] yoo-lists-relative yoo-lists-leading-[28px] yoopta-numbered-list ${p}`},f,e,{children:[a("span",Object.assign({className:"yoo-lists-min-w-[10px] yoo-lists-w-auto yoo-lists-select-none yoo-lists-absolute yoo-lists-left-0 yoo-lists-top-[2px]",contentEditable:!1},{children:[h,"."]})),l("span",Object.assign({className:"yoo-lists-flex-grow"},{children:t}))]}))},props:{nodeType:"block"}}},options:{display:{title:"Numbered List",description:"Create list with numbering"},shortcuts:["1."]},events:{onKeyDown:Ke},parsers:{html:{deserialize:{nodeNames:["OL"],parse(e){if("OL"===e.nodeName){const r=e.querySelectorAll("li"),n=Array.from(r).filter((e=>{const t=e.textContent||"";return!/\[\s*\S?\s*\]/.test(t)})).map(((e,r)=>{const n=e.textContent||"";return t({id:o(),type:"NumberedList",value:[{id:o(),type:"numbered-list",children:[{text:n}],props:{nodeType:"block"}}],meta:{order:0,depth:0}})}));if(n.length>1)return n}}}}}}),TodoList:new n({type:"TodoList",elements:{"todo-list":{render:({attributes:e,element:t,children:r,blockId:n,HTMLAttributes:o={}})=>{const s=i(),{className:p=""}=o,f=c(o,["className"]),{checked:d=!1}=t.props||{},u={textDecoration:d?"line-through":"none"};return a("div",Object.assign({"data-element-type":t.type,className:`yoo-lists-ml-[10px] yoo-lists-flex yoo-lists-items-center yoo-lists-pl-4 yoo-lists-space-x-1 yoo-lists-py-[2px] yoo-lists-text-[16px] yoo-lists-leading-[28px] yoo-lists-relative yoopta-todo-list ${p}`,"data-checked":d},f,e,{children:[l("span",Object.assign({onClick:()=>s.blocks.TodoList.updateElement(n,"todo-list",{checked:!d}),contentEditable:!1,className:"yoo-lists-select-none yoo-lists-cursor-pointer yoo-lists-absolute yoo-lists-left-0 yoo-lists-top-[4px]"},{children:l("input",{type:"checkbox",className:"yoo-lists-form-checkbox yoo-lists-min-w-[10px] yoo-lists-w-auto",checked:d,disabled:s.readOnly})})),l("div",Object.assign({className:"yoo-lists-flex-grow",style:u},{children:r}))]}))},props:{checked:!1}}},options:{display:{title:"Todo List",description:"Track tasks"},shortcuts:["[]"]},events:{onKeyDown:Ke},parsers:{html:{deserialize:{nodeNames:[],parse(e){if("OL"===e.nodeName||"UL"===e.nodeName){const r=e.querySelectorAll("li"),n=Array.from(r).filter((e=>{const t=e.textContent||"";return/\[\s*\S?\s*\]/.test(t)})).map((e=>{const r=e.textContent||"",n=/\[\s*x\s*\]/i.test(r),s=r.replace(/\[\s*\S?\s*\]/,"").trim();return t({id:o(),type:"TodoList",value:[{id:o(),type:"todo-list",children:[{text:s}],props:{nodeType:"block",checked:n}}],meta:{order:0,depth:0}})}));if(n.length>1)return n}}}}}})};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("#yoopta-editor .yoo-lists-absolute{position:absolute}#yoopta-editor .yoo-lists-relative{position:relative}#yoopta-editor .yoo-lists-left-0{left:0}#yoopta-editor .yoo-lists-top-\\[0px\\]{top:0}#yoopta-editor .yoo-lists-top-\\[2px\\]{top:2px}#yoopta-editor .yoo-lists-top-\\[4px\\]{top:4px}#yoopta-editor .yoo-lists-ml-0{margin-left:0}#yoopta-editor .yoo-lists-ml-\\[10px\\]{margin-left:10px}#yoopta-editor .yoo-lists-flex{display:flex}#yoopta-editor .yoo-lists-w-auto{width:auto}#yoopta-editor .yoo-lists-min-w-\\[10px\\]{min-width:10px}#yoopta-editor .yoo-lists-flex-grow{flex-grow:1}#yoopta-editor .yoo-lists-cursor-pointer{cursor:pointer}#yoopta-editor .yoo-lists-select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}#yoopta-editor .yoo-lists-items-center{align-items:center}#yoopta-editor .yoo-lists-space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.25rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.25rem*var(--tw-space-x-reverse))}#yoopta-editor .yoo-lists-py-\\[2px\\]{padding-bottom:2px;padding-top:2px}#yoopta-editor .yoo-lists-pl-4{padding-left:1rem}#yoopta-editor .yoo-lists-text-\\[16px\\]{font-size:16px}#yoopta-editor .yoo-lists-font-bold{font-weight:700}#yoopta-editor .yoo-lists-leading-7{line-height:1.75rem}#yoopta-editor .yoo-lists-leading-\\[28px\\]{line-height:28px}");const Je=Ue.NumberedList,Ze=Ue.BulletedList,$e=Ue.TodoList;export{Ze as BulletedList,Je as NumberedList,$e as TodoList,Ue as default};
+function p(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){var t,r;return!1!==p(e)&&(void 0===(t=e.constructor)||!1!==p(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}var d=Symbol.for("immer-nothing"),u=Symbol.for("immer-draftable"),h=Symbol.for("immer-state");function y(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var g=Object.getPrototypeOf;function v(e){return!!e&&!!e[h]}function m(e){return!!e&&(w(e)||Array.isArray(e)||!!e[u]||!!e.constructor?.[u]||j(e)||k(e))}var b=Object.prototype.constructor.toString();function w(e){if(!e||"object"!=typeof e)return!1;const t=g(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===b}function x(e,t){0===_(e)?Reflect.ownKeys(e).forEach((r=>{t(r,e[r],e)})):e.forEach(((r,n)=>t(n,r,e)))}function _(e){const t=e[h];return t?t.type_:Array.isArray(e)?1:j(e)?2:k(e)?3:0}function O(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t,r){const n=_(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function j(e){return e instanceof Map}function k(e){return e instanceof Set}function E(e){return e.copy_||e.base_}function S(e,t){if(j(e))return new Map(e);if(k(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&w(e)){if(!g(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const r=Object.getOwnPropertyDescriptors(e);delete r[h];let n=Reflect.ownKeys(r);for(let t=0;t<n.length;t++){const o=n[t],s=r[o];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(g(e),r)}function N(e,t=!1){return T(e)||v(e)||!m(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=A),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>N(t,!0)))),e}function A(){y(2)}function T(e){return Object.isFrozen(e)}var C,L={};function B(e){const t=L[e];return t||y(0),t}function D(){return C}function z(e,t){t&&(B("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function R(e){q(e),e.drafts_.forEach(M),e.drafts_=null}function q(e){e===C&&(C=e.parent_)}function F(e){return C={drafts_:[],parent_:C,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M(e){const t=e[h];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function I(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[h].modified_&&(R(t),y(4)),m(e)&&(e=V(t,e),t.parent_||K(t,e)),t.patches_&&B("Patches").generateReplacementPatches_(r[h].base_,e,t.patches_,t.inversePatches_)):e=V(t,r,[]),R(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d?e:void 0}function V(e,t,r){if(T(t))return t;const n=t[h];if(!n)return x(t,((o,s)=>W(e,n,t,o,s,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return K(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let o=t,s=!1;3===n.type_&&(o=new Set(t),t.clear(),s=!0),x(o,((o,i)=>W(e,n,t,o,i,r,s))),K(e,t,!1),r&&e.patches_&&B("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function W(e,t,r,n,o,s,i){if(v(o)){const i=V(e,o,s&&t&&3!==t.type_&&!O(t.assigned_,n)?s.concat(n):void 0);if(P(r,n,i),!v(i))return;e.canAutoFreeze_=!1}else i&&r.add(o);if(m(o)&&!T(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;V(e,o),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||K(e,o)}}function K(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&N(t,r)}var U={get(e,t){if(t===h)return e;const r=E(e);if(!O(r,t))return function(e,t,r){const n=$(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!m(n)?n:n===Z(e.base_,t)?(X(e),e.copy_[t]=G(n,e)):n},has:(e,t)=>t in E(e),ownKeys:e=>Reflect.ownKeys(E(e)),set(e,t,r){const n=$(E(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Z(E(e),t),i=n?.[h];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((o=r)===(s=n)?0!==o||1/o==1/s:o!=o&&s!=s)&&(void 0!==r||O(e.base_,t)))return!0;X(e),H(e)}var o,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Z(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,X(e),H(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=E(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){y(11)},getPrototypeOf:e=>g(e.base_),setPrototypeOf(){y(12)}},J={};function Z(e,t){const r=e[h];return(r?E(r):e)[t]}function $(e,t){if(!(t in e))return;let r=g(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=g(r)}}function H(e){e.modified_||(e.modified_=!0,e.parent_&&H(e.parent_))}function X(e){e.copy_||(e.copy_=S(e.base_,e.scope_.immer_.useStrictShallowCopy_))}x(U,((e,t)=>{J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return J.set.call(this,e,t,void 0)},J.set=function(e,t,r){return U.set.call(this,e[0],t,r,e[0])};function G(e,t){const r=j(e)?B("MapSet").proxyMap_(e,t):k(e)?B("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:D(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,s=U;r&&(o=[n],s=J);const{revoke:i,proxy:a}=Proxy.revocable(o,s);return n.draft_=a,n.revoke_=i,a}(e,t);return(t?t.scope_:D()).drafts_.push(r),r}function Q(e){if(!m(e)||T(e))return e;const t=e[h];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=S(e,t.scope_.immer_.useStrictShallowCopy_)}else r=S(e,!0);return x(r,((e,t)=>{P(r,e,Q(t))})),t&&(t.finalized_=!1),r}var Y=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...o){return n.produce(e,(e=>t.call(this,e,...o)))}}let n;if("function"!=typeof t&&y(6),void 0!==r&&"function"!=typeof r&&y(7),m(e)){const o=F(this),s=G(e,void 0);let i=!0;try{n=t(s),i=!1}finally{i?R(o):q(o)}return z(o,r),I(n,o)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===d&&(n=void 0),this.autoFreeze_&&N(n,!0),r){const t=[],o=[];B("Patches").generateReplacementPatches_(e,n,t,o),r(t,o)}return n}y(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;return[this.produce(e,t,((e,t)=>{r=e,n=t})),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){m(e)||y(8),v(e)&&(e=function(e){v(e)||y(10);return Q(e)}(e));const t=F(this),r=G(e,void 0);return r[h].isManual_=!0,q(t),r}finishDraft(e,t){const r=e&&e[h];r&&r.isManual_||y(9);const{scope_:n}=r;return z(n,t),I(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=B("Patches").applyPatches_;return v(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},ee=Y.produce;Y.produceWithPatches.bind(Y),Y.setAutoFreeze.bind(Y),Y.setUseStrictShallowCopy.bind(Y),Y.applyPatches.bind(Y);var te=Y.createDraft.bind(Y),re=Y.finishDraft.bind(Y),ne={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=ne.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),s=e[r],i=t[r];return ne.equals(n,o)&&s>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return ne.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),s=e[r],i=t[r];return ne.equals(n,o)&&s<i},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===ne.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===ne.compare(e,t),isBefore:(e,t)=>-1===ne.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===ne.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===ne.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===ne.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===ne.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&ne.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ne.isAncestor(t,e)&&!ne.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:o="forward"}=r;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:s}=t;(ne.equals(s,n)||ne.endsBefore(s,n)||ne.isAncestor(s,n))&&(n[s.length-1]+=1);break;case"remove_node":var{path:i}=t;if(ne.equals(i,n)||ne.isAncestor(i,n))return null;ne.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:a,position:l}=t;ne.equals(a,n)||ne.endsBefore(a,n)?n[a.length-1]-=1:ne.isAncestor(a,n)&&(n[a.length-1]-=1,n[a.length]+=l);break;case"split_node":var{path:c,position:p}=t;if(ne.equals(c,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else ne.endsBefore(c,n)?n[c.length-1]+=1:ne.isAncestor(c,n)&&e[c.length]>=p&&(n[c.length-1]+=1,n[c.length]-=p);break;case"move_node":var{path:f,newPath:d}=t;if(ne.equals(f,d))return n;if(ne.isAncestor(f,n)||ne.equals(f,n)){var u=d.slice();return ne.endsBefore(f,d)&&f.length<d.length&&(u[f.length-1]-=1),u.concat(n.slice(f.length))}ne.isSibling(f,d)&&(ne.isAncestor(d,n)||ne.equals(d,n))?ne.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:ne.endsBefore(d,n)||ne.equals(d,n)||ne.isAncestor(d,n)?(ne.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):ne.endsBefore(f,n)&&(ne.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}return n}};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function se(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oe(t)?t:String(t)}function ie(e,t,r){return(t=se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce={transform(e,t){e.children=te(e.children);var r=e.selection&&te(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:o}=r,s=_e.parent(e,n),i=n[n.length-1];if(i>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(s.children.splice(i,0,o),t)for(var[a,l]of ge.points(t))t[l]=Ae.transform(a,r);break;case"insert_text":var{path:c,offset:p,text:f}=r;if(0===f.length)break;var d=_e.leaf(e,c),u=d.text.slice(0,p),h=d.text.slice(p);if(d.text=u+f+h,t)for(var[y,g]of ge.points(t))t[g]=Ae.transform(y,r);break;case"merge_node":var{path:v}=r,m=_e.get(e,v),b=ne.previous(v),w=_e.get(e,b),x=_e.parent(e,v),_=v[v.length-1];if(qe.isText(m)&&qe.isText(w))w.text+=m.text;else{if(qe.isText(m)||qe.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interfaces: ").concat(Ce.stringify(m)," ").concat(Ce.stringify(w)));w.children.push(...m.children)}if(x.children.splice(_,1),t)for(var[O,P]of ge.points(t))t[P]=Ae.transform(O,r);break;case"move_node":var{path:j,newPath:k}=r;if(ne.isAncestor(j,k))throw new Error("Cannot move a path [".concat(j,"] to new path [").concat(k,"] because the destination is inside itself."));var E=_e.get(e,j),S=_e.parent(e,j),N=j[j.length-1];S.children.splice(N,1);var A=ne.transform(j,r),T=_e.get(e,ne.parent(A)),C=A[A.length-1];if(T.children.splice(C,0,E),t)for(var[L,B]of ge.points(t))t[B]=Ae.transform(L,r);break;case"remove_node":var{path:D}=r,z=D[D.length-1];if(_e.parent(e,D).children.splice(z,1),t)for(var[R,q]of ge.points(t)){var F=Ae.transform(R,r);if(null!=t&&null!=F)t[q]=F;else{var M=void 0,I=void 0;for(var[V,W]of _e.texts(e)){if(-1!==ne.compare(W,D)){I=[V,W];break}M=[V,W]}var K=!1;M&&I&&(K=ne.equals(I[1],D)?!ne.hasPrevious(I[1]):ne.common(M[1],D).length<ne.common(I[1],D).length),M&&!K?(R.path=M[1],R.offset=M[0].text.length):I?(R.path=I[1],R.offset=0):t=null}}break;case"remove_text":var{path:U,offset:J,text:Z}=r;if(0===Z.length)break;var $=_e.leaf(e,U),H=$.text.slice(0,J),X=$.text.slice(J+Z.length);if($.text=H+X,t)for(var[G,Q]of ge.points(t))t[Q]=Ae.transform(G,r);break;case"set_node":var{path:Y,properties:ee,newProperties:te}=r;if(0===Y.length)throw new Error("Cannot set properties on the root node!");var re=_e.get(e,Y);for(var oe in te){if("children"===oe||"text"===oe)throw new Error('Cannot set the "'.concat(oe,'" property of nodes!'));var se=te[oe];null==se?delete re[oe]:re[oe]=se}for(var ie in ee)te.hasOwnProperty(ie)||delete re[ie];break;case"set_selection":var{newProperties:ae}=r;if(null==ae)t=ae;else{if(null==t){if(!ge.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ce.stringify(ae)," when there is no current selection."));t=le({},ae)}for(var ce in ae){var pe=ae[ce];if(null==pe){if("anchor"===ce||"focus"===ce)throw new Error('Cannot remove the "'.concat(ce,'" selection property'));delete t[ce]}else t[ce]=pe}}break;case"split_node":var{path:fe,position:de,properties:ue}=r;if(0===fe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fe,"] because the root node cannot be split."));var he,ye=_e.get(e,fe),ve=_e.parent(e,fe),me=fe[fe.length-1];if(qe.isText(ye)){var be=ye.text.slice(0,de),we=ye.text.slice(de);ye.text=be,he=le(le({},ue),{},{text:we})}else{var xe=ye.children.slice(0,de),Oe=ye.children.slice(de);ye.children=xe,he=le(le({},ue),{},{children:Oe})}if(ve.children.splice(me+1,0,he),t)for(var[Pe,je]of ge.points(t))t[je]=Ae.transform(Pe,r)}return t})(e,r,t)}finally{e.children=re(e.children),e.selection=r?v(r)?re(r):r:null}}},pe={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},fe={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},de=(e,t)=>{for(var r in e){var n=e[r],o=t[r];if(f(n)&&f(o)){if(!de(n,o))return!1}else if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==o[s])return!1}else if(n!==o)return!1}for(var i in t)if(void 0===e[i]&&void 0!==t[i])return!1;return!0};function ue(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var he=["anchor","focus"];function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ge={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return ge.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=ge.edges(e);return t},equals:(e,t)=>Ae.equals(e.anchor,t.anchor)&&Ae.equals(e.focus,t.focus),includes(e,t){if(ge.isRange(t)){if(ge.includes(e,t.anchor)||ge.includes(e,t.focus))return!0;var[r,n]=ge.edges(e),[o,s]=ge.edges(t);return Ae.isBefore(r,o)&&Ae.isAfter(n,s)}var[i,a]=ge.edges(e),l=!1,c=!1;return Ae.isPoint(t)?(l=Ae.compare(t,i)>=0,c=Ae.compare(t,a)<=0):(l=ne.compare(t,i.path)>=0,c=ne.compare(t,a.path)<=0),l&&c},intersection(e,t){var r=ue(e,he),[n,o]=ge.edges(e),[s,i]=ge.edges(t),a=Ae.isBefore(n,s)?s:n,l=Ae.isBefore(o,i)?o:i;return Ae.isBefore(l,a)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:a,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return Ae.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return Ae.equals(t,r)},isExpanded:e=>!ge.isCollapsed(e),isForward:e=>!ge.isBackward(e),isRange:e=>f(e)&&Ae.isPoint(e.anchor)&&Ae.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ge.edges(e);return t},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ee(e,(e=>{if(null===e)return null;var n,o,{affinity:s="inward"}=r;if("inward"===s){var i=ge.isCollapsed(e);ge.isForward(e)?(n="forward",o=i?n:"backward"):(n="backward",o=i?n:"forward")}else"outward"===s?ge.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=s,o=s);var a=Ae.transform(e.anchor,t,{affinity:n}),l=Ae.transform(e.focus,t,{affinity:o});if(!a||!l)return null;e.anchor=a,e.focus=l}))}},ve=e=>f(e)&&_e.isNodeList(e.children)&&!Ee.isEditor(e),me={isAncestor:e=>f(e)&&_e.isNodeList(e.children),isElement:ve,isElementList:e=>Array.isArray(e)&&e.every((e=>me.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return ve(e)&&e[r]===t},matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},be=["children"],we=["text"],xe=new WeakMap,_e={ancestor(e,t){var r=_e.get(e,t);if(qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Ce.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of ne.ancestors(t,r)){var o=[_e.ancestor(e,n),n];yield o}}()},child(e,t){if(qe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Ce.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Ce.stringify(e)));return r},children(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,o=_e.ancestor(e,t),{children:s}=o,i=n?s.length-1:0;n?i>=0:i<s.length;){var a=_e.child(o,i),l=t.concat(i);yield[a,l],i=n?i-1:i+1}}()},common(e,t,r){var n=ne.common(t,r);return[_e.get(e,n),n]},descendant(e,t){var r=_e.get(e,t);if(Ee.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Ce.stringify(r)));return r},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(e,t))0!==n.length&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(e,t))me.isElement(r)&&(yield[r,n])}()},extractProps:e=>me.isAncestor(e)?ue(e,be):ue(e,we),first(e,t){for(var r=t.slice(),n=_e.get(e,r);n&&!qe.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(qe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ce.stringify(e)));return ee({children:e.children},(e=>{var[r,n]=ge.edges(t),o=_e.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!ge.includes(t,r)}});for(var[,s]of o){if(!ge.includes(t,s)){var i=_e.parent(e,s),a=s[s.length-1];i.children.splice(a,1)}if(ne.equals(s,n.path)){var l=_e.leaf(e,s);l.text=l.text.slice(0,n.offset)}if(ne.equals(s,r.path)){var c=_e.leaf(e,s);c.text=c.text.slice(r.offset)}}Ee.isEditor(e)&&(e.selection=null)})).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(qe.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Ce.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(qe.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>qe.isText(e)||me.isElement(e)||Ee.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=xe.get(e);if(void 0!==t)return t;var r=e.every((e=>_e.isNode(e)));return xe.set(e,r),r},last(e,t){for(var r=t.slice(),n=_e.get(e,r);n&&!qe.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=_e.get(e,t);if(!qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Ce.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of ne.levels(t,r)){var o=_e.get(e,n);yield[o,n]}}()},matches:(e,t)=>me.isElement(e)&&me.isElementProps(t)&&me.matches(e,t)||qe.isText(e)&&qe.isTextProps(t)&&qe.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:o=[],to:s}=t,i=new Set,a=[],l=e;!s||!(n?ne.isBefore(a,s):ne.isAfter(a,s));)if(i.has(l)||(yield[l,a]),i.has(l)||qe.isText(l)||0===l.children.length||null!=r&&!1!==r([l,a])){if(0===a.length)break;if(!n){var c=ne.next(a);if(_e.has(e,c)){a=c,l=_e.get(e,a);continue}}if(n&&0!==a[a.length-1])a=ne.previous(a),l=_e.get(e,a);else a=ne.parent(a),l=_e.get(e,a),i.add(l)}else{i.add(l);var p=n?l.children.length-1:0;ne.isAncestor(a,o)&&(p=o[a.length]),a=a.concat(p),l=_e.get(e,a)}}()},parent(e,t){var r=ne.parent(t),n=_e.get(e,r);if(qe.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>qe.isText(e)?e.text:e.children.map(_e.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[r,n]of _e.nodes(e,t))qe.isText(r)&&(yield[r,n])}()}};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je={isNodeOperation:e=>je.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!f(e))return!1;switch(e.type){case"insert_node":case"remove_node":return ne.isPath(e.path)&&_e.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&ne.isPath(e.path);case"merge_node":return"number"==typeof e.position&&ne.isPath(e.path)&&f(e.properties);case"move_node":return ne.isPath(e.path)&&ne.isPath(e.newPath);case"set_node":return ne.isPath(e.path)&&f(e.properties)&&f(e.newProperties);case"set_selection":return null===e.properties&&ge.isRange(e.newProperties)||null===e.newProperties&&ge.isRange(e.properties)||f(e.properties)&&f(e.newProperties);case"split_node":return ne.isPath(e.path)&&"number"==typeof e.position&&f(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>je.isOperation(e))),isSelectionOperation:e=>je.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>je.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Pe(Pe({},e),{},{type:"remove_node"});case"insert_text":return Pe(Pe({},e),{},{type:"remove_text"});case"merge_node":return Pe(Pe({},e),{},{type:"split_node",path:ne.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(ne.equals(t,r))return e;if(ne.isSibling(r,t))return Pe(Pe({},e),{},{path:t,newPath:r});var n=ne.transform(r,e),o=ne.transform(ne.next(r),e);return Pe(Pe({},e),{},{path:n,newPath:o});case"remove_node":return Pe(Pe({},e),{},{type:"insert_node"});case"remove_text":return Pe(Pe({},e),{},{type:"insert_text"});case"set_node":var{properties:s,newProperties:i}=e;return Pe(Pe({},e),{},{properties:i,newProperties:s});case"set_selection":var{properties:a,newProperties:l}=e;return Pe(Pe({},e),{},null==a?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:a}:{properties:l,newProperties:a});case"split_node":return Pe(Pe({},e),{},{type:"merge_node",path:ne.next(e.path)})}}},ke=new WeakMap,Ee={above:(e,t)=>e.above(t),addMark(e,t,r){e.addMark(t,r)},after:(e,t,r)=>e.after(t,r),before:(e,t,r)=>e.before(t,r),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,r)=>e.isEdge(t,r),isEditor:e=>(e=>{var t=ke.get(e);if(void 0!==t)return t;if(!f(e))return!1;var r="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||f(e.marks))&&(null===e.selection||ge.isRange(e.selection))&&_e.isNodeList(e.children)&&je.isOperationList(e.operations);return ke.set(e,r),r})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,r)=>e.isEnd(t,r),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,r)=>e.isStart(t,r),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,r)=>e.leaf(t,r),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,r)=>e.node(t,r),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,r)=>e.parent(t,r),path:(e,t,r)=>e.path(t,r),pathRef:(e,t,r)=>e.pathRef(t,r),pathRefs:e=>e.pathRefs(),point:(e,t,r)=>e.point(t,r),pointRef:(e,t,r)=>e.pointRef(t,r),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,r)=>e.range(t,r),rangeRef:(e,t,r)=>e.rangeRef(t,r),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,r)=>e.string(t,r),unhangRange:(e,t,r)=>e.unhangRange(t,r),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)}};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae={compare(e,t){var r=ne.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===Ae.compare(e,t),isBefore:(e,t)=>-1===Ae.compare(e,t),equals:(e,t)=>e.offset===t.offset&&ne.equals(e.path,t.path),isPoint:e=>f(e)&&"number"==typeof e.offset&&ne.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ee(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=r,{path:o,offset:s}=e;switch(t.type){case"insert_node":case"move_node":e.path=ne.transform(o,t,r);break;case"insert_text":ne.equals(t.path,o)&&(t.offset<s||t.offset===s&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":ne.equals(t.path,o)&&(e.offset+=t.position),e.path=ne.transform(o,t,r);break;case"remove_text":ne.equals(t.path,o)&&t.offset<=s&&(e.offset-=Math.min(s-t.offset,t.text.length));break;case"remove_node":if(ne.equals(t.path,o)||ne.isAncestor(t.path,o))return null;e.path=ne.transform(o,t,r);break;case"split_node":if(ne.equals(t.path,o)){if(t.position===s&&null==n)return null;(t.position<s||t.position===s&&"forward"===n)&&(e.offset-=t.position,e.path=ne.transform(o,t,Ne(Ne({},r),{},{affinity:"forward"})))}else e.path=ne.transform(o,t,r)}}))}},Te=void 0,Ce={setScrubber(e){Te=e},stringify:e=>JSON.stringify(e,Te)},Le=["text"],Be=["anchor","focus"];function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re,qe={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function o(e){return ue(e,Le)}return de(n?o(e):e,n?o(t):t)},isText:e=>f(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>qe.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[ze({},e)];for(var n of t){var o=ue(n,Be),[s,i]=ge.edges(n),a=[],l=0,c=s.offset,p=i.offset;for(var f of r){var{length:d}=f.text,u=l;if(l+=d,c<=u&&l<=p)Object.assign(f,o),a.push(f);else if(c!==p&&(c===l||p===u)||c>l||p<u||p===u&&0!==u)a.push(f);else{var h=f,y=void 0,g=void 0;if(p<l){var v=p-u;g=ze(ze({},h),{},{text:h.text.slice(v)}),h=ze(ze({},h),{},{text:h.text.slice(0,v)})}if(c>u){var m=c-u;y=ze(ze({},h),{},{text:h.text.slice(0,m)}),h=ze(ze({},h),{},{text:h.text.slice(m)})}Object.assign(h,o),y&&a.push(y),a.push(h),g&&a.push(g)}}r=a}return r}},Fe=e=>e.selection?e.selection:e.children.length>0?Ee.end(e,[]):[0];!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(Re||(Re={})),Re.L,Re.L,Re.V,Re.LV,Re.LVT,Re.LV,Re.V,Re.V,Re.T,Re.LVT,Re.T,Re.T,Re.Any,Re.Extend,Re.ZWJ,Re.Any,Re.SpacingMark,Re.Prepend,Re.Any,Re.ZWJ,Re.ExtPict,Re.RI,Re.RI;var Me={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ee.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:o=Fe(e)}=r;if(ne.isPath(o)&&(o=Ee.range(e,o)),ge.isRange(o))if(ge.isCollapsed(o))o=o.anchor;else{var s=ge.end(o);if(!n&&Ee.void(e,{at:s}))return;var i=ge.start(o),a=Ee.pointRef(e,i),l=Ee.pointRef(e,s);We.delete(e,{at:o,voids:n});var c=a.unref(),p=l.unref();o=c||p,We.setSelection(e,{anchor:o,focus:o})}if(!(!n&&Ee.void(e,{at:o})||Ee.elementReadOnly(e,{at:o}))){var{path:f,offset:d}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}}))}};function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We=Ve(Ve(Ve(Ve({},ce),pe),fe),Me);function Ke(n,o,{hotkeys:s,defaultBlock:i}){return a=>{Ee.withoutNormalizing(o,(()=>{var l;const c=e(n);if(!o.selection||!c)return;const p=o.selection,{anchor:f}=p;if(s.isCmdEnter(a)){const e=Ee.above(o,{at:f,match:e=>!Ee.isEditor(e)&&me.isElement(e)&&"todo-list"===e.type,mode:"highest"});if(!e)return;const[t]=e,r=(null===(l=t.props)||void 0===l?void 0:l.checked)||!1;n.blocks.TodoList.updateElement(c.id,"todo-list",{checked:!r})}else if(s.isEnter(a)){a.preventDefault();const e=Ee.above(o,{at:f,match:e=>!Ee.isEditor(e)&&me.isElement(e)&&("numbered-list"===e.type||"bulleted-list"===e.type||"todo-list"===e.type),mode:"highest"});if(!e)return;const[s,l]=e,p=Ee.isEnd(o,f,l),d=Ee.isStart(o,f,l),u=Ee.string(o,l),h=0===c.meta.depth,y=u.trim().length>0;if(!y){if(h){const e=c.meta.order;return n.deleteBlock({blockId:c.id}),void n.insertBlock(i,{at:[e],focus:!0})}return void n.decreaseBlockDepth({blockId:c.id})}if(d){const e=t({type:c.type,meta:{order:c.meta.order,depth:c.meta.depth},value:[r({type:s.type,props:{nodeType:"block"}})]});return void n.insertBlock(e,{at:[c.meta.order],focus:!1})}if(y&&!d&&!p)return void n.splitBlock({slate:o,focus:!0});const g=t({type:c.type,meta:{order:c.meta.order+1,depth:c.meta.depth},value:[r({type:s.type,props:{nodeType:"block"}})]});n.insertBlock(g,{at:[c.meta.order+1],focus:!0})}else;}))}}const Ue={BulletedList:new n({type:"BulletedList",elements:{"bulleted-list":{render:({attributes:e,element:t,children:r,HTMLAttributes:n={}})=>{const{className:o=""}=n,s=c(n,["className"]);return a("div",Object.assign({"data-element-type":t.type,className:`yoo-lists-ml-[10px] yoo-lists-flex yoo-lists-items-center yoo-lists-pl-4 yoo-lists-space-x-1 yoo-lists-py-[2px] yoo-lists-text-[16px] yoo-lists-leading-7 yoo-lists-relative yoopta-bulleted-list ${o}`},s,e,{children:[l("span",Object.assign({className:"yoo-lists-min-w-[10px] yoo-lists-w-auto yoo-lists-select-none yoo-lists-absolute yoo-lists-left-0 yoo-lists-top-[0px] yoo-lists-font-bold",contentEditable:!1},{children:"•"})),l("span",Object.assign({className:"yoo-lists-flex-grow yoo-lists-ml-0"},{children:r}))]}))}}},options:{display:{title:"글머리 기호 목록",description:"간단한 글머리 기호 목록을 생성하세요."},shortcuts:["-"]},events:{onKeyDown:Ke},parsers:{html:{deserialize:{nodeNames:["UL"],parse(e){if("UL"===e.nodeName){const r=e.querySelectorAll("li"),n=Array.from(r).filter((e=>{const t=e.textContent||"";return!/\[\s*\S?\s*\]/.test(t)})).map((e=>{const r=e.textContent||"";return t({id:o(),type:"BulletedList",value:[{id:o(),type:"bulleted-list",children:[{text:r}],props:{nodeType:"block"}}],meta:{order:0,depth:0}})}));if(n.length>1)return n}}}}}}),NumberedList:new n({type:"NumberedList",elements:{"numbered-list":{render:({attributes:e,children:t,element:r,blockId:n,HTMLAttributes:o={}})=>{const{className:p=""}=o,f=c(o,["className"]),d=s(n),u=i(),h=Object.keys(u.children).filter((e=>{const t=u.children[e];return t.meta.depth===d.meta.depth&&"NumberedList"===t.type})).findIndex((e=>e===n))+1;return a("div",Object.assign({"data-element-type":r.type,className:`yoo-lists-ml-[10px] yoo-lists-flex yoo-lists-items-center yoo-lists-pl-4 yoo-lists-space-x-1 yoo-lists-py-[2px] yoo-lists-text-[16px] yoo-lists-relative yoo-lists-leading-[28px] yoopta-numbered-list ${p}`},f,e,{children:[a("span",Object.assign({className:"yoo-lists-min-w-[10px] yoo-lists-w-auto yoo-lists-select-none yoo-lists-absolute yoo-lists-left-0 yoo-lists-top-[2px]",contentEditable:!1},{children:[h,"."]})),l("span",Object.assign({className:"yoo-lists-flex-grow"},{children:t}))]}))},props:{nodeType:"block"}}},options:{display:{title:"번호 매기기 목록",description:"번호가 매겨진 목록을 생성하세요."},shortcuts:["1."]},events:{onKeyDown:Ke},parsers:{html:{deserialize:{nodeNames:["OL"],parse(e){if("OL"===e.nodeName){const r=e.querySelectorAll("li"),n=Array.from(r).filter((e=>{const t=e.textContent||"";return!/\[\s*\S?\s*\]/.test(t)})).map(((e,r)=>{const n=e.textContent||"";return t({id:o(),type:"NumberedList",value:[{id:o(),type:"numbered-list",children:[{text:n}],props:{nodeType:"block"}}],meta:{order:0,depth:0}})}));if(n.length>1)return n}}}}}}),TodoList:new n({type:"TodoList",elements:{"todo-list":{render:({attributes:e,element:t,children:r,blockId:n,HTMLAttributes:o={}})=>{const s=i(),{className:p=""}=o,f=c(o,["className"]),{checked:d=!1}=t.props||{},u={textDecoration:d?"line-through":"none"};return a("div",Object.assign({"data-element-type":t.type,className:`yoo-lists-ml-[10px] yoo-lists-flex yoo-lists-items-center yoo-lists-pl-4 yoo-lists-space-x-1 yoo-lists-py-[2px] yoo-lists-text-[16px] yoo-lists-leading-[28px] yoo-lists-relative yoopta-todo-list ${p}`,"data-checked":d},f,e,{children:[l("span",Object.assign({onClick:()=>s.blocks.TodoList.updateElement(n,"todo-list",{checked:!d}),contentEditable:!1,className:"yoo-lists-select-none yoo-lists-cursor-pointer yoo-lists-absolute yoo-lists-left-0 yoo-lists-top-[4px]"},{children:l("input",{type:"checkbox",className:"yoo-lists-form-checkbox yoo-lists-min-w-[10px] yoo-lists-w-auto",checked:d,disabled:s.readOnly})})),l("div",Object.assign({className:"yoo-lists-flex-grow",style:u},{children:r}))]}))},props:{checked:!1}}},options:{display:{title:"할 일 목록",description:"할 일목록으로 작업을 추적하세요."},shortcuts:["[]"]},events:{onKeyDown:Ke},parsers:{html:{deserialize:{nodeNames:[],parse(e){if("OL"===e.nodeName||"UL"===e.nodeName){const r=e.querySelectorAll("li"),n=Array.from(r).filter((e=>{const t=e.textContent||"";return/\[\s*\S?\s*\]/.test(t)})).map((e=>{const r=e.textContent||"",n=/\[\s*x\s*\]/i.test(r),s=r.replace(/\[\s*\S?\s*\]/,"").trim();return t({id:o(),type:"TodoList",value:[{id:o(),type:"todo-list",children:[{text:s}],props:{nodeType:"block",checked:n}}],meta:{order:0,depth:0}})}));if(n.length>1)return n}}}}}})};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("#yoopta-editor .yoo-lists-absolute{position:absolute}#yoopta-editor .yoo-lists-relative{position:relative}#yoopta-editor .yoo-lists-left-0{left:0}#yoopta-editor .yoo-lists-top-\\[0px\\]{top:0}#yoopta-editor .yoo-lists-top-\\[2px\\]{top:2px}#yoopta-editor .yoo-lists-top-\\[4px\\]{top:4px}#yoopta-editor .yoo-lists-ml-0{margin-left:0}#yoopta-editor .yoo-lists-ml-\\[10px\\]{margin-left:10px}#yoopta-editor .yoo-lists-flex{display:flex}#yoopta-editor .yoo-lists-w-auto{width:auto}#yoopta-editor .yoo-lists-min-w-\\[10px\\]{min-width:10px}#yoopta-editor .yoo-lists-flex-grow{flex-grow:1}#yoopta-editor .yoo-lists-cursor-pointer{cursor:pointer}#yoopta-editor .yoo-lists-select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}#yoopta-editor .yoo-lists-items-center{align-items:center}#yoopta-editor .yoo-lists-space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.25rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.25rem*var(--tw-space-x-reverse))}#yoopta-editor .yoo-lists-py-\\[2px\\]{padding-bottom:2px;padding-top:2px}#yoopta-editor .yoo-lists-pl-4{padding-left:1rem}#yoopta-editor .yoo-lists-text-\\[16px\\]{font-size:16px}#yoopta-editor .yoo-lists-font-bold{font-weight:700}#yoopta-editor .yoo-lists-leading-7{line-height:1.75rem}#yoopta-editor .yoo-lists-leading-\\[28px\\]{line-height:28px}");const Je=Ue.NumberedList,Ze=Ue.BulletedList,$e=Ue.TodoList;export{Ze as BulletedList,Je as NumberedList,$e as TodoList,Ue as default};
