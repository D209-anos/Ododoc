diff --git a/node_modules/@yoopta/toolbar/dist/index.js b/node_modules/@yoopta/toolbar/dist/index.js
index 559f7cb..7e829c7 100644
--- a/node_modules/@yoopta/toolbar/dist/index.js
+++ b/node_modules/@yoopta/toolbar/dist/index.js
@@ -1,4 +1,5 @@
-import{jsx as e,jsxs as t,Fragment as o}from"react/jsx-runtime";import*as n from"react";import r,{forwardRef as i,createElement as a,createContext as l,useMemo as s,useContext as c,useCallback as u,Children as f,isValidElement as d,cloneElement as p,Fragment as h,useLayoutEffect as g,useEffect as y,useRef as m,useState as v}from"react";import*as b from"react-dom";import{createPortal as w}from"react-dom";import{getRootBlockElement as x,useYooptaTools as O,findSlateBySelectionPath as C,HOTKEYS as _,useYooptaEditor as E}from"@yoopta/editor";function P(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}var k=["color"],j=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,k);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),R=["color"],S=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,R);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),T=["color"],A=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,T);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),N=["color"],F=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,N);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.10505 12C4.70805 12 4.4236 11.912 4.25171 11.736C4.0839 11.5559 4 11.2715 4 10.8827V4.11733C4 3.72033 4.08595 3.43588 4.25784 3.26398C4.43383 3.08799 4.71623 3 5.10505 3C6.42741 3 8.25591 3 9.02852 3C10.1373 3 11.0539 3.98153 11.0539 5.1846C11.0539 6.08501 10.6037 6.81855 9.70327 7.23602C10.8657 7.44851 11.5176 8.62787 11.5176 9.48128C11.5176 10.5125 10.9902 12 9.27734 12C8.77742 12 6.42626 12 5.10505 12ZM8.37891 8.00341H5.8V10.631H8.37891C8.9 10.631 9.6296 10.1211 9.6296 9.29877C9.6296 8.47643 8.9 8.00341 8.37891 8.00341ZM5.8 4.36903V6.69577H8.17969C8.53906 6.69577 9.27734 6.35939 9.27734 5.50002C9.27734 4.64064 8.48047 4.36903 8.17969 4.36903H5.8Z",fill:n}))})),L=["color"],D=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,L);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.67494 3.50017C5.67494 3.25164 5.87641 3.05017 6.12494 3.05017H10.6249C10.8735 3.05017 11.0749 3.25164 11.0749 3.50017C11.0749 3.7487 10.8735 3.95017 10.6249 3.95017H9.00587L7.2309 11.05H8.87493C9.12345 11.05 9.32493 11.2515 9.32493 11.5C9.32493 11.7486 9.12345 11.95 8.87493 11.95H4.37493C4.1264 11.95 3.92493 11.7486 3.92493 11.5C3.92493 11.2515 4.1264 11.05 4.37493 11.05H5.99397L7.76894 3.95017H6.12494C5.87641 3.95017 5.67494 3.7487 5.67494 3.50017Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),M=["color"],B=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,M);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.00003 3.25C5.00003 2.97386 4.77617 2.75 4.50003 2.75C4.22389 2.75 4.00003 2.97386 4.00003 3.25V7.10003H2.49998C2.27906 7.10003 2.09998 7.27912 2.09998 7.50003C2.09998 7.72094 2.27906 7.90003 2.49998 7.90003H4.00003V8.55C4.00003 10.483 5.56703 12.05 7.50003 12.05C9.43303 12.05 11 10.483 11 8.55V7.90003H12.5C12.7209 7.90003 12.9 7.72094 12.9 7.50003C12.9 7.27912 12.7209 7.10003 12.5 7.10003H11V3.25C11 2.97386 10.7762 2.75 10.5 2.75C10.2239 2.75 10 2.97386 10 3.25V7.10003H5.00003V3.25ZM5.00003 7.90003V8.55C5.00003 9.93071 6.11932 11.05 7.50003 11.05C8.88074 11.05 10 9.93071 10 8.55V7.90003H5.00003Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),I=["color"],z=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,I);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.00001 2.75C5.00001 2.47386 4.77615 2.25 4.50001 2.25C4.22387 2.25 4.00001 2.47386 4.00001 2.75V8.05C4.00001 9.983 5.56702 11.55 7.50001 11.55C9.43301 11.55 11 9.983 11 8.05V2.75C11 2.47386 10.7762 2.25 10.5 2.25C10.2239 2.25 10 2.47386 10 2.75V8.05C10 9.43071 8.88072 10.55 7.50001 10.55C6.1193 10.55 5.00001 9.43071 5.00001 8.05V2.75ZM3.49998 13.1001C3.27906 13.1001 3.09998 13.2791 3.09998 13.5001C3.09998 13.721 3.27906 13.9001 3.49998 13.9001H11.5C11.7209 13.9001 11.9 13.721 11.9 13.5001C11.9 13.2791 11.7209 13.1001 11.5 13.1001H3.49998Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}));function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},V.apply(this,arguments)}function q(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(null==e||e(n),!1===o||!n.defaultPrevented)return null==t?void 0:t(n)}}function H(e,t=[]){let o=[];const n=()=>{const t=o.map((e=>l(e)));return function(o){const n=(null==o?void 0:o[e])||t;return s((()=>({[`__scope${e}`]:{...o,[e]:n}})),[o,n])}};return n.scopeName=e,[function(t,n){const r=l(n),i=o.length;function u(t){const{scope:o,children:n,...l}=t,c=(null==o?void 0:o[e][i])||r,u=s((()=>l),Object.values(l));return a(c.Provider,{value:u},n)}return o=[...o,n],u.displayName=t+"Provider",[u,function(o,a){const l=(null==a?void 0:a[e][i])||r,s=c(l);if(s)return s;if(void 0!==n)return n;throw new Error(`\`${o}\` must be used within \`${t}\``)}]},W(n,...t)]}function W(...e){const t=e[0];if(1===e.length)return t;const o=()=>{const o=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=o.reduce(((t,{useScope:o,scopeName:n})=>({...t,...o(e)[`__scope${n}`]})),{});return s((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return o.scopeName=t.scopeName,o}function G(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function $(...e){return u(G(...e),e)}const Z=i(((e,t)=>{const{children:o,...n}=e,r=f.toArray(o),i=r.find(Y);if(i){const e=i.props.children,o=r.map((t=>t===i?f.count(e)>1?f.only(null):d(e)?e.props.children:null:t));return a(U,V({},n,{ref:t}),d(e)?p(e,void 0,o):null)}return a(U,V({},n,{ref:t}),o)}));Z.displayName="Slot";const U=i(((e,t)=>{const{children:o,...n}=e;return d(o)?p(o,{...J(n,o.props),ref:t?G(t,o.ref):o.ref}):f.count(o)>1?f.only(null):null}));U.displayName="SlotClone";const K=({children:e})=>a(h,null,e);function Y(e){return d(e)&&e.type===K}function J(e,t){const o={...t};for(const n in t){const r=e[n],i=t[n];/^on[A-Z]/.test(n)?r&&i?o[n]=(...e)=>{i(...e),r(...e)}:r&&(o[n]=r):"style"===n?o[n]={...r,...i}:"className"===n&&(o[n]=[r,i].filter(Boolean).join(" "))}return{...e,...o}}const X=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?g:()=>{},Q=n["useId".toString()]||(()=>{});let ee=0;const te=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const o=i(((e,o)=>{const{asChild:n,...r}=e,i=n?Z:t;return y((()=>{window[Symbol.for("radix-ui")]=!0}),[]),a(i,V({},r,{ref:o}))}));return o.displayName=`Primitive.${t}`,{...e,[t]:o}}),{});function oe(e){const t=m(e);return y((()=>{t.current=e})),s((()=>(...e)=>{var o;return null===(o=t.current)||void 0===o?void 0:o.call(t,...e)}),[])}function ne({prop:e,defaultProp:t,onChange:o=(()=>{})}){const[n,r]=function({defaultProp:e,onChange:t}){const o=v(e),[n]=o,r=m(n),i=oe(t);return y((()=>{r.current!==n&&(i(n),r.current=n)}),[n,r,i]),o}({defaultProp:t,onChange:o}),i=void 0!==e,a=i?e:n,l=oe(o);return[a,u((t=>{if(i){const o="function"==typeof t?t(e):t;o!==e&&l(o)}else r(t)}),[i,e,r,l])]}const re=l(void 0);function ie(e){const t=c(re);return e||t||"ltr"}const ae="rovingFocusGroup.onEntryFocus",le={bubbles:!1,cancelable:!0},se="RovingFocusGroup",[ce,ue,fe]=function(e){const t=e+"CollectionProvider",[o,n]=H(t),[i,a]=o(t,{collectionRef:{current:null},itemMap:new Map}),l=e+"CollectionSlot",s=e+"CollectionItemSlot",c="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:o}=e,n=r.useRef(null),a=r.useRef(new Map).current;return r.createElement(i,{scope:t,itemMap:a,collectionRef:n},o)},Slot:r.forwardRef(((e,t)=>{const{scope:o,children:n}=e,i=$(t,a(l,o).collectionRef);return r.createElement(Z,{ref:i},n)})),ItemSlot:r.forwardRef(((e,t)=>{const{scope:o,children:n,...i}=e,l=r.useRef(null),u=$(t,l),f=a(s,o);return r.useEffect((()=>(f.itemMap.set(l,{ref:l,...i}),()=>{f.itemMap.delete(l)}))),r.createElement(Z,{[c]:"",ref:u},n)}))},function(t){const o=a(e+"CollectionConsumer",t);return r.useCallback((()=>{const e=o.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`));return Array.from(o.itemMap.values()).sort(((e,o)=>t.indexOf(e.ref.current)-t.indexOf(o.ref.current)))}),[o.collectionRef,o.itemMap])},n]}(se),[de,pe]=H(se,[fe]),[he,ge]=de(se),ye=i(((e,t)=>a(ce.Provider,{scope:e.__scopeRovingFocusGroup},a(ce.Slot,{scope:e.__scopeRovingFocusGroup},a(me,V({},e,{ref:t})))))),me=i(((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:r=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:f,...d}=e,p=m(null),h=$(t,p),g=ie(i),[b=null,w]=ne({prop:l,defaultProp:s,onChange:c}),[x,O]=v(!1),C=oe(f),_=ue(o),E=m(!1),[P,k]=v(0);return y((()=>{const e=p.current;if(e)return e.addEventListener(ae,C),()=>e.removeEventListener(ae,C)}),[C]),a(he,{scope:o,orientation:n,dir:g,loop:r,currentTabStopId:b,onItemFocus:u((e=>w(e)),[w]),onItemShiftTab:u((()=>O(!0)),[]),onFocusableItemAdd:u((()=>k((e=>e+1))),[]),onFocusableItemRemove:u((()=>k((e=>e-1))),[])},a(te.div,V({tabIndex:x||0===P?-1:0,"data-orientation":n},d,{ref:h,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,(()=>{E.current=!0})),onFocus:q(e.onFocus,(e=>{const t=!E.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(ae,le);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=_().filter((e=>e.focusable));we([e.find((e=>e.active)),e.find((e=>e.id===b)),...e].filter(Boolean).map((e=>e.ref.current)))}}E.current=!1})),onBlur:q(e.onBlur,(()=>O(!1)))})))})),ve=i(((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:r=!0,active:i=!1,tabStopId:l,...s}=e,c=function(e){const[t,o]=n.useState(Q());return X((()=>{e||o((e=>null!=e?e:String(ee++)))}),[e]),e||(t?`radix-${t}`:"")}(),u=l||c,f=ge("RovingFocusGroupItem",o),d=f.currentTabStopId===u,p=ue(o),{onFocusableItemAdd:h,onFocusableItemRemove:g}=f;return y((()=>{if(r)return h(),()=>g()}),[r,h,g]),a(ce.ItemSlot,{scope:o,id:u,focusable:r,active:i},a(te.span,V({tabIndex:d?0:-1,"data-orientation":f.orientation},s,{ref:t,onMouseDown:q(e.onMouseDown,(e=>{r?f.onItemFocus(u):e.preventDefault()})),onFocus:q(e.onFocus,(()=>f.onItemFocus(u))),onKeyDown:q(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,o){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,o);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:be[n]}(e,f.orientation,f.dir);if(void 0!==t){e.preventDefault();let r=p().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const i=r.indexOf(e.currentTarget);r=f.loop?(n=i+1,(o=r).map(((e,t)=>o[(n+t)%o.length]))):r.slice(i+1)}setTimeout((()=>we(r)))}var o,n}))})))})),be={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function we(e){const t=document.activeElement;for(const o of e){if(o===t)return;if(o.focus(),document.activeElement!==t)return}}const xe=ye,Oe=ve,Ce="horizontal",_e=["horizontal","vertical"],Ee=i(((e,t)=>{const{decorative:o,orientation:n=Ce,...r}=e,i=Pe(n)?n:Ce,l=o?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return a(te.div,V({"data-orientation":i},l,r,{ref:t}))}));function Pe(e){return _e.includes(e)}Ee.propTypes={orientation(e,t,o){const n=e[t],r=String(n);return n&&!Pe(n)?new Error(function(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to \`${Ce}\`.`}(r,o)):null}};const ke=Ee,je=i(((e,t)=>{const{pressed:o,defaultPressed:n=!1,onPressedChange:r,...i}=e,[l=!1,s]=ne({prop:o,onChange:r,defaultProp:n});return a(te.button,V({type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0},i,{ref:t,onClick:q(e.onClick,(()=>{e.disabled||s(!l)}))}))})),Re="ToggleGroup",[Se,Te]=H(Re,[pe]),Ae=pe(),Ne=r.forwardRef(((e,t)=>{const{type:o,...n}=e;if("single"===o){const e=n;return r.createElement(De,V({},e,{ref:t}))}if("multiple"===o){const e=n;return r.createElement(Me,V({},e,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${Re}\``)})),[Fe,Le]=Se(Re),De=r.forwardRef(((e,t)=>{const{value:o,defaultValue:n,onValueChange:i=(()=>{}),...a}=e,[l,s]=ne({prop:o,defaultProp:n,onChange:i});return r.createElement(Fe,{scope:e.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:s,onItemDeactivate:r.useCallback((()=>s("")),[s])},r.createElement(ze,V({},a,{ref:t})))})),Me=r.forwardRef(((e,t)=>{const{value:o,defaultValue:n,onValueChange:i=(()=>{}),...a}=e,[l=[],s]=ne({prop:o,defaultProp:n,onChange:i}),c=r.useCallback((e=>s(((t=[])=>[...t,e]))),[s]),u=r.useCallback((e=>s(((t=[])=>t.filter((t=>t!==e))))),[s]);return r.createElement(Fe,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:c,onItemDeactivate:u},r.createElement(ze,V({},a,{ref:t})))})),[Be,Ie]=Se(Re),ze=r.forwardRef(((e,t)=>{const{__scopeToggleGroup:o,disabled:n=!1,rovingFocus:i=!0,orientation:a,dir:l,loop:s=!0,...c}=e,u=Ae(o),f=ie(l),d={role:"group",dir:f,...c};return r.createElement(Be,{scope:o,rovingFocus:i,disabled:n},i?r.createElement(xe,V({asChild:!0},u,{orientation:a,dir:f,loop:s}),r.createElement(te.div,V({},d,{ref:t}))):r.createElement(te.div,V({},d,{ref:t})))})),Ve="ToggleGroupItem",qe=r.forwardRef(((e,t)=>{const o=Le(Ve,e.__scopeToggleGroup),n=Ie(Ve,e.__scopeToggleGroup),i=Ae(e.__scopeToggleGroup),a=o.value.includes(e.value),l=n.disabled||e.disabled,s={...e,pressed:a,disabled:l},c=r.useRef(null);return n.rovingFocus?r.createElement(Oe,V({asChild:!0},i,{focusable:!l,active:a,ref:c}),r.createElement(He,V({},s,{ref:t}))):r.createElement(He,V({},s,{ref:t}))})),He=r.forwardRef(((e,t)=>{const{__scopeToggleGroup:o,value:n,...i}=e,a=Le(Ve,o),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s="single"===a.type?l:void 0;return r.createElement(je,V({},s,i,{ref:t,onPressedChange:e=>{e?a.onItemActivate(n):a.onItemDeactivate(n)}}))})),We=Ne,Ge=qe,$e="Toolbar",[Ze,Ue]=H($e,[pe,Te]),Ke=pe(),Ye=Te(),[Je,Xe]=Ze($e),Qe=i(((e,t)=>{const{__scopeToolbar:o,orientation:n="horizontal",dir:r,loop:i=!0,...l}=e,s=Ke(o),c=ie(r);return a(Je,{scope:o,orientation:n,dir:c},a(xe,V({asChild:!0},s,{orientation:n,dir:c,loop:i}),a(te.div,V({role:"toolbar","aria-orientation":n,dir:c},l,{ref:t}))))})),et=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Xe("ToolbarSeparator",o);return a(ke,V({orientation:"horizontal"===r.orientation?"vertical":"horizontal"},n,{ref:t}))})),tt=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Ke(o);return a(Oe,V({asChild:!0},r,{focusable:!e.disabled}),a(te.button,V({type:"button"},n,{ref:t})))})),ot=Qe,nt=et,rt=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Xe("ToolbarToggleGroup",o),i=Ye(o);return a(We,V({"data-orientation":r.orientation,dir:r.dir},i,n,{ref:t,rovingFocus:!1}))})),it=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Ye(o),i={__scopeToolbar:e.__scopeToolbar};return a(tt,V({asChild:!0},i),a(Ge,V({},r,n,{ref:t})))}));function at(e){return ct(e)?(e.nodeName||"").toLowerCase():"#document"}function lt(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function st(e){var t;return null==(t=(ct(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ct(e){return e instanceof Node||e instanceof lt(e).Node}function ut(e){return e instanceof Element||e instanceof lt(e).Element}function ft(e){return e instanceof HTMLElement||e instanceof lt(e).HTMLElement}function dt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof lt(e).ShadowRoot)}function pt(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=vt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function ht(e){return["table","td","th"].includes(at(e))}function gt(e){const t=yt(),o=vt(e);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!t&&!!o.backdropFilter&&"none"!==o.backdropFilter||!t&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((e=>(o.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(o.contain||"").includes(e)))}function yt(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function mt(e){return["html","body","#document"].includes(at(e))}function vt(e){return lt(e).getComputedStyle(e)}function bt(e){return ut(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wt(e){if("html"===at(e))return e;const t=e.assignedSlot||e.parentNode||dt(e)&&e.host||st(e);return dt(t)?t.host:t}function xt(e){const t=wt(e);return mt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ft(t)&&pt(t)?t:xt(t)}function Ot(e,t,o){var n;void 0===t&&(t=[]),void 0===o&&(o=!0);const r=xt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=lt(r);return i?t.concat(a,a.visualViewport||[],pt(r)?r:[],a.frameElement&&o?Ot(a.frameElement):[]):t.concat(r,Ot(r,[],o))}const Ct=Math.min,_t=Math.max,Et=Math.round,Pt=Math.floor,kt=e=>({x:e,y:e}),jt={left:"right",right:"left",bottom:"top",top:"bottom"},Rt={start:"end",end:"start"};function St(e,t,o){return _t(e,Ct(t,o))}function Tt(e,t){return"function"==typeof e?e(t):e}function At(e){return e.split("-")[0]}function Nt(e){return e.split("-")[1]}function Ft(e){return"x"===e?"y":"x"}function Lt(e){return"y"===e?"height":"width"}function Dt(e){return["top","bottom"].includes(At(e))?"y":"x"}function Mt(e){return Ft(Dt(e))}function Bt(e){return e.replace(/start|end/g,(e=>Rt[e]))}function It(e){return e.replace(/left|right|bottom|top/g,(e=>jt[e]))}function zt(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Vt(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function qt(e,t,o){let{reference:n,floating:r}=e;const i=Dt(t),a=Mt(t),l=Lt(a),s=At(t),c="y"===i,u=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,d=n[l]/2-r[l]/2;let p;switch(s){case"top":p={x:u,y:n.y-r.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-r.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Nt(t)){case"start":p[a]-=d*(o&&c?-1:1);break;case"end":p[a]+=d*(o&&c?-1:1)}return p}async function Ht(e,t){var o;void 0===t&&(t={});const{x:n,y:r,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Tt(t,e),h=zt(p),g=l[d?"floating"===f?"reference":"floating":f],y=Vt(await i.getClippingRect({element:null==(o=await(null==i.isElement?void 0:i.isElement(g)))||o?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),m="floating"===f?{...a.floating,x:n,y:r}:a.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),b=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},w=Vt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:s}):m);return{top:(y.top-w.top+h.top)/b.y,bottom:(w.bottom-y.bottom+h.bottom)/b.y,left:(y.left-w.left+h.left)/b.x,right:(w.right-y.right+h.right)/b.x}}function Wt(e){const t=Ct(...e.map((e=>e.left))),o=Ct(...e.map((e=>e.top)));return{x:t,y:o,width:_t(...e.map((e=>e.right)))-t,height:_t(...e.map((e=>e.bottom)))-o}}const Gt=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:i,placement:a,middlewareData:l}=t,s=await async function(e,t){const{placement:o,platform:n,elements:r}=e,i=await(null==n.isRTL?void 0:n.isRTL(r.floating)),a=At(o),l=Nt(o),s="y"===Dt(o),c=["left","top"].includes(a)?-1:1,u=i&&s?-1:1,f=Tt(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:h}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&"number"==typeof h&&(p="end"===l?-1*h:h),s?{x:p*u,y:d*c}:{x:d*c,y:p*u}}(t,e);return a===(null==(o=l.offset)?void 0:o.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}};function $t(e){const t=vt(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=ft(e),i=r?e.offsetWidth:o,a=r?e.offsetHeight:n,l=Et(o)!==i||Et(n)!==a;return l&&(o=i,n=a),{width:o,height:n,$:l}}function Zt(e){return ut(e)?e:e.contextElement}function Ut(e){const t=Zt(e);if(!ft(t))return kt(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:i}=$t(t);let a=(i?Et(o.width):o.width)/n,l=(i?Et(o.height):o.height)/r;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const Kt=kt(0);function Yt(e){const t=lt(e);return yt()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Kt}function Jt(e,t,o,n){void 0===t&&(t=!1),void 0===o&&(o=!1);const r=e.getBoundingClientRect(),i=Zt(e);let a=kt(1);t&&(n?ut(n)&&(a=Ut(n)):a=Ut(e));const l=function(e,t,o){return void 0===t&&(t=!1),!(!o||t&&o!==lt(e))&&t}(i,o,n)?Yt(i):kt(0);let s=(r.left+l.x)/a.x,c=(r.top+l.y)/a.y,u=r.width/a.x,f=r.height/a.y;if(i){const e=lt(i),t=n&&ut(n)?lt(n):n;let o=e,r=o.frameElement;for(;r&&n&&t!==o;){const e=Ut(r),t=r.getBoundingClientRect(),n=vt(r),i=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;s*=e.x,c*=e.y,u*=e.x,f*=e.y,s+=i,c+=a,o=lt(r),r=o.frameElement}}return Vt({width:u,height:f,x:s,y:c})}const Xt=[":popover-open",":modal"];function Qt(e){return Xt.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function eo(e){return Jt(st(e)).left+bt(e).scrollLeft}function to(e,t,o){let n;if("viewport"===t)n=function(e,t){const o=lt(e),n=st(e),r=o.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,s=0;if(r){i=r.width,a=r.height;const e=yt();(!e||e&&"fixed"===t)&&(l=r.offsetLeft,s=r.offsetTop)}return{width:i,height:a,x:l,y:s}}(e,o);else if("document"===t)n=function(e){const t=st(e),o=bt(e),n=e.ownerDocument.body,r=_t(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_t(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-o.scrollLeft+eo(e);const l=-o.scrollTop;return"rtl"===vt(n).direction&&(a+=_t(t.clientWidth,n.clientWidth)-r),{width:r,height:i,x:a,y:l}}(st(e));else if(ut(t))n=function(e,t){const o=Jt(e,!0,"fixed"===t),n=o.top+e.clientTop,r=o.left+e.clientLeft,i=ft(e)?Ut(e):kt(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:n*i.y}}(t,o);else{const o=Yt(e);n={...t,x:t.x-o.x,y:t.y-o.y}}return Vt(n)}function oo(e,t){const o=wt(e);return!(o===t||!ut(o)||mt(o))&&("fixed"===vt(o).position||oo(o,t))}function no(e,t,o){const n=ft(t),r=st(t),i="fixed"===o,a=Jt(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const s=kt(0);if(n||!n&&!i)if(("body"!==at(t)||pt(r))&&(l=bt(t)),n){const e=Jt(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else r&&(s.x=eo(r));return{x:a.left+l.scrollLeft-s.x,y:a.top+l.scrollTop-s.y,width:a.width,height:a.height}}function ro(e,t){return ft(e)&&"fixed"!==vt(e).position?t?t(e):e.offsetParent:null}function io(e,t){const o=lt(e);if(!ft(e)||Qt(e))return o;let n=ro(e,t);for(;n&&ht(n)&&"static"===vt(n).position;)n=ro(n,t);return n&&("html"===at(n)||"body"===at(n)&&"static"===vt(n).position&&!gt(n))?o:n||function(e){let t=wt(e);for(;ft(t)&&!mt(t);){if(gt(t))return t;t=wt(t)}return null}(e)||o}const ao={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const i="fixed"===r,a=st(n),l=!!t&&Qt(t.floating);if(n===a||l&&i)return o;let s={scrollLeft:0,scrollTop:0},c=kt(1);const u=kt(0),f=ft(n);if((f||!f&&!i)&&(("body"!==at(n)||pt(a))&&(s=bt(n)),ft(n))){const e=Jt(n);c=Ut(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-s.scrollLeft*c.x+u.x,y:o.y*c.y-s.scrollTop*c.y+u.y}},getDocumentElement:st,getClippingRect:function(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[..."clippingAncestors"===o?function(e,t){const o=t.get(e);if(o)return o;let n=Ot(e,[],!1).filter((e=>ut(e)&&"body"!==at(e))),r=null;const i="fixed"===vt(e).position;let a=i?wt(e):e;for(;ut(a)&&!mt(a);){const t=vt(a),o=gt(a);o||"fixed"!==t.position||(r=null),(i?!o&&!r:!o&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||pt(a)&&!o&&oo(e,a))?n=n.filter((e=>e!==a)):r=t,a=wt(a)}return t.set(e,n),n}(t,this._c):[].concat(o),n],a=i[0],l=i.reduce(((e,o)=>{const n=to(t,o,r);return e.top=_t(n.top,e.top),e.right=Ct(n.right,e.right),e.bottom=Ct(n.bottom,e.bottom),e.left=_t(n.left,e.left),e}),to(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:io,getElementRects:async function(e){const t=this.getOffsetParent||io,o=this.getDimensions;return{reference:no(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:o}=$t(e);return{width:t,height:o}},getScale:Ut,isElement:ut,isRTL:function(e){return"rtl"===vt(e).direction}};function lo(e,t,o,n){void 0===n&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=n,c=Zt(e),u=r||i?[...c?Ot(c):[],...Ot(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",o,{passive:!0}),i&&e.addEventListener("resize",o)}));const f=c&&l?function(e,t){let o,n=null;const r=st(e);function i(){var e;clearTimeout(o),null==(e=n)||e.disconnect(),n=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),i();const{left:c,top:u,width:f,height:d}=e.getBoundingClientRect();if(l||t(),!f||!d)return;const p={rootMargin:-Pt(u)+"px "+-Pt(r.clientWidth-(c+f))+"px "+-Pt(r.clientHeight-(u+d))+"px "+-Pt(c)+"px",threshold:_t(0,Ct(1,s))||1};let h=!0;function g(e){const t=e[0].intersectionRatio;if(t!==s){if(!h)return a();t?a(!1,t):o=setTimeout((()=>{a(!1,1e-7)}),100)}h=!1}try{n=new IntersectionObserver(g,{...p,root:r.ownerDocument})}catch(e){n=new IntersectionObserver(g,p)}n.observe(e)}(!0),i}(c,o):null;let d,p=-1,h=null;a&&(h=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),o()})),c&&!s&&h.observe(c),h.observe(t));let g=s?Jt(e):null;return s&&function t(){const n=Jt(e);!g||n.x===g.x&&n.y===g.y&&n.width===g.width&&n.height===g.height||o();g=n,d=requestAnimationFrame(t)}(),o(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",o),i&&e.removeEventListener("resize",o)})),null==f||f(),null==(e=h)||e.disconnect(),h=null,s&&cancelAnimationFrame(d)}}const so=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:o}=e;return{x:t,y:o}}},...s}=Tt(e,t),c={x:o,y:n},u=await Ht(t,s),f=Dt(At(r)),d=Ft(f);let p=c[d],h=c[f];if(i){const e="y"===d?"bottom":"right";p=St(p+u["y"===d?"top":"left"],p,p-u[e])}if(a){const e="y"===f?"bottom":"right";h=St(h+u["y"===f?"top":"left"],h,h-u[e])}const g=l.fn({...t,[d]:p,[f]:h});return{...g,data:{x:g.x-o,y:g.y-n}}}}},co=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...y}=Tt(e,t);if(null!=(o=i.arrow)&&o.alignmentOffset)return{};const m=At(r),v=At(l)===l,b=await(null==s.isRTL?void 0:s.isRTL(c.floating)),w=d||(v||!g?[It(l)]:function(e){const t=It(e);return[Bt(e),t,Bt(t)]}(l));d||"none"===h||w.push(...function(e,t,o,n){const r=Nt(e);let i=function(e,t,o){const n=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?i:a;default:return[]}}(At(e),"start"===o,n);return r&&(i=i.map((e=>e+"-"+r)),t&&(i=i.concat(i.map(Bt)))),i}(l,g,h,b));const x=[l,...w],O=await Ht(t,y),C=[];let _=(null==(n=i.flip)?void 0:n.overflows)||[];if(u&&C.push(O[m]),f){const e=function(e,t,o){void 0===o&&(o=!1);const n=Nt(e),r=Mt(e),i=Lt(r);let a="x"===r?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=It(a)),[a,It(a)]}(r,a,b);C.push(O[e[0]],O[e[1]])}if(_=[..._,{placement:r,overflows:C}],!C.every((e=>e<=0))){var E,P;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let o=null==(P=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:P.placement;if(!o)switch(p){case"bestFit":{var k;const e=null==(k=_.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(o=e);break}case"initialPlacement":o=l}if(r!==o)return{reset:{placement:o}}}return{}}}},uo=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:o,elements:n,rects:r,platform:i,strategy:a}=t,{padding:l=2,x:s,y:c}=Tt(e,t),u=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(n.reference))||[]),f=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),o=[];let n=null;for(let e=0;e<t.length;e++){const r=t[e];!n||r.y-n.y>n.height/2?o.push([r]):o[o.length-1].push(r),n=r}return o.map((e=>Vt(Wt(e))))}(u),d=Vt(Wt(u)),p=zt(l);const h=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===f.length&&f[0].left>f[1].right&&null!=s&&null!=c)return f.find((e=>s>e.left-p.left&&s<e.right+p.right&&c>e.top-p.top&&c<e.bottom+p.bottom))||d;if(f.length>=2){if("y"===Dt(o)){const e=f[0],t=f[f.length-1],n="top"===At(o),r=e.top,i=t.bottom,a=n?e.left:t.left,l=n?e.right:t.right;return{top:r,bottom:i,left:a,right:l,width:l-a,height:i-r,x:a,y:r}}const e="left"===At(o),t=_t(...f.map((e=>e.right))),n=Ct(...f.map((e=>e.left))),r=f.filter((o=>e?o.left===n:o.right===t)),i=r[0].top,a=r[r.length-1].bottom;return{top:i,bottom:a,left:n,right:t,width:t-n,height:a-i,x:n,y:i}}return d}},floating:n.floating,strategy:a});return r.reference.x!==h.reference.x||r.reference.y!==h.reference.y||r.reference.width!==h.reference.width||r.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},fo=(e,t,o)=>{const n=new Map,r={platform:ao,...o},i={...r.platform,_c:n};return(async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:a}=o,l=i.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:f}=qt(c,n,s),d=n,p={},h=0;for(let o=0;o<l.length;o++){const{name:i,fn:g}=l[o],{x:y,y:m,data:v,reset:b}=await g({x:u,y:f,initialPlacement:n,placement:d,strategy:r,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=y?y:u,f=null!=m?m:f,p={...p,[i]:{...p[i],...v}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),({x:u,y:f}=qt(c,d,s))),o=-1)}return{x:u,y:f,placement:d,strategy:r,middlewareData:p}})(e,t,{...r,platform:i})};var po="undefined"!=typeof document?g:y;function ho(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;0!=n--;)if(!ho(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;0!=n--;){const o=r[n];if(("_owner"!==o||!e.$$typeof)&&!ho(e[o],t[o]))return!1}return!0}return e!=e&&t!=t}function go(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yo(e,t){const o=go(e);return Math.round(t*o)/o}function mo(e){const t=n.useRef(e);return po((()=>{t.current=e})),t}
+import{jsx as e,jsxs as t,Fragment as o}from"react/jsx-runtime";import*as n from"react";import r,{forwardRef as i,createElement as a,createContext as l,useMemo as s,useContext as c,useCallback as u,Children as f,isValidElement as d,cloneElement as p,Fragment as h,useLayoutEffect as g,useEffect as y,useRef as m,useState as v}from"react";import*as b from"react-dom";import{createPortal as w}from"react-dom";import{getRootBlockElement as x,useYooptaTools as O,findSlateBySelectionPath as C,HOTKEYS as _,useYooptaEditor as E}from"@yoopta/editor";function P(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}var k=["color"],j=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,k);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),R=["color"],S=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,R);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),T=["color"],A=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,T);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),N=["color"],F=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,N);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.10505 12C4.70805 12 4.4236 11.912 4.25171 11.736C4.0839 11.5559 4 11.2715 4 10.8827V4.11733C4 3.72033 4.08595 3.43588 4.25784 3.26398C4.43383 3.08799 4.71623 3 5.10505 3C6.42741 3 8.25591 3 9.02852 3C10.1373 3 11.0539 3.98153 11.0539 5.1846C11.0539 6.08501 10.6037 6.81855 9.70327 7.23602C10.8657 7.44851 11.5176 8.62787 11.5176 9.48128C11.5176 10.5125 10.9902 12 9.27734 12C8.77742 12 6.42626 12 5.10505 12ZM8.37891 8.00341H5.8V10.631H8.37891C8.9 10.631 9.6296 10.1211 9.6296 9.29877C9.6296 8.47643 8.9 8.00341 8.37891 8.00341ZM5.8 4.36903V6.69577H8.17969C8.53906 6.69577 9.27734 6.35939 9.27734 5.50002C9.27734 4.64064 8.48047 4.36903 8.17969 4.36903H5.8Z",fill:n}))})),L=["color"],D=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,L);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.67494 3.50017C5.67494 3.25164 5.87641 3.05017 6.12494 3.05017H10.6249C10.8735 3.05017 11.0749 3.25164 11.0749 3.50017C11.0749 3.7487 10.8735 3.95017 10.6249 3.95017H9.00587L7.2309 11.05H8.87493C9.12345 11.05 9.32493 11.2515 9.32493 11.5C9.32493 11.7486 9.12345 11.95 8.87493 11.95H4.37493C4.1264 11.95 3.92493 11.7486 3.92493 11.5C3.92493 11.2515 4.1264 11.05 4.37493 11.05H5.99397L7.76894 3.95017H6.12494C5.87641 3.95017 5.67494 3.7487 5.67494 3.50017Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),M=["color"],B=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,M);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.00003 3.25C5.00003 2.97386 4.77617 2.75 4.50003 2.75C4.22389 2.75 4.00003 2.97386 4.00003 3.25V7.10003H2.49998C2.27906 7.10003 2.09998 7.27912 2.09998 7.50003C2.09998 7.72094 2.27906 7.90003 2.49998 7.90003H4.00003V8.55C4.00003 10.483 5.56703 12.05 7.50003 12.05C9.43303 12.05 11 10.483 11 8.55V7.90003H12.5C12.7209 7.90003 12.9 7.72094 12.9 7.50003C12.9 7.27912 12.7209 7.10003 12.5 7.10003H11V3.25C11 2.97386 10.7762 2.75 10.5 2.75C10.2239 2.75 10 2.97386 10 3.25V7.10003H5.00003V3.25ZM5.00003 7.90003V8.55C5.00003 9.93071 6.11932 11.05 7.50003 11.05C8.88074 11.05 10 9.93071 10 8.55V7.90003H5.00003Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))})),I=["color"],z=i((function(e,t){var o=e.color,n=void 0===o?"currentColor":o,r=P(e,I);return a("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),a("path",{d:"M5.00001 2.75C5.00001 2.47386 4.77615 2.25 4.50001 2.25C4.22387 2.25 4.00001 2.47386 4.00001 2.75V8.05C4.00001 9.983 5.56702 11.55 7.50001 11.55C9.43301 11.55 11 9.983 11 8.05V2.75C11 2.47386 10.7762 2.25 10.5 2.25C10.2239 2.25 10 2.47386 10 2.75V8.05C10 9.43071 8.88072 10.55 7.50001 10.55C6.1193 10.55 5.00001 9.43071 5.00001 8.05V2.75ZM3.49998 13.1001C3.27906 13.1001 3.09998 13.2791 3.09998 13.5001C3.09998 13.721 3.27906 13.9001 3.49998 13.9001H11.5C11.7209 13.9001 11.9 13.721 11.9 13.5001C11.9 13.2791 11.7209 13.1001 11.5 13.1001H3.49998Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}));function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},V.apply(this,arguments)}function q(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(null==e||e(n),!1===o||!n.defaultPrevented)return null==t?void 0:t(n)}}function H(e,t=[]){let o=[];const n=()=>{const t=o.map((e=>l(e)));return function(o){const n=(null==o?void 0:o[e])||t;return s((()=>({[`__scope${e}`]:{...o,[e]:n}})),[o,n])}};return n.scopeName=e,[function(t,n){const r=l(n),i=o.length;function u(t){const{scope:o,children:n,...l}=t,c=(null==o?void 0:o[e][i])||r,u=s((()=>l),Object.values(l));return a(c.Provider,{value:u},n)}return o=[...o,n],u.displayName=t+"Provider",[u,function(o,a){const l=(null==a?void 0:a[e][i])||r,s=c(l);if(s)return s;if(void 0!==n)return n;throw new Error(`\`${o}\` must be used within \`${t}\``)}]},W(n,...t)]}function W(...e){const t=e[0];if(1===e.length)return t;const o=()=>{const o=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const n=o.reduce(((t,{useScope:o,scopeName:n})=>({...t,...o(e)[`__scope${n}`]})),{});return s((()=>({[`__scope${t.scopeName}`]:n})),[n])}};return o.scopeName=t.scopeName,o}function G(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function $(...e){return u(G(...e),e)}const Z=i(((e,t)=>{const{children:o,...n}=e,r=f.toArray(o),i=r.find(Y);if(i){const e=i.props.children,o=r.map((t=>t===i?f.count(e)>1?f.only(null):d(e)?e.props.children:null:t));return a(U,V({},n,{ref:t}),d(e)?p(e,void 0,o):null)}return a(U,V({},n,{ref:t}),o)}));Z.displayName="Slot";const U=i(((e,t)=>{const{children:o,...n}=e;return d(o)?p(o,{...J(n,o.props),ref:t?G(t,o.ref):o.ref}):f.count(o)>1?f.only(null):null}));U.displayName="SlotClone";const K=({children:e})=>a(h,null,e);function Y(e){return d(e)&&e.type===K}function J(e,t){const o={...t};for(const n in t){const r=e[n],i=t[n];/^on[A-Z]/.test(n)?r&&i?o[n]=(...e)=>{i(...e),r(...e)}:r&&(o[n]=r):"style"===n?o[n]={...r,...i}:"className"===n&&(o[n]=[r,i].filter(Boolean).join(" "))}return{...e,...o}}const X=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?g:()=>{},Q=n["useId".toString()]||(()=>{});let ee=0;const te=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const o=i(((e,o)=>{const{asChild:n,...r}=e,i=n?Z:t;return y((()=>{window[Symbol.for("radix-ui")]=!0}),[]),a(i,V({},r,{ref:o}))}));return o.displayName=`Primitive.${t}`,{...e,[t]:o}}),{});function oe(e){const t=m(e);return y((()=>{t.current=e})),s((()=>(...e)=>{var o;return null===(o=t.current)||void 0===o?void 0:o.call(t,...e)}),[])}function ne({prop:e,defaultProp:t,onChange:o=(()=>{})}){const[n,r]=function({defaultProp:e,onChange:t}){const o=v(e),[n]=o,r=m(n),i=oe(t);return y((()=>{r.current!==n&&(i(n),r.current=n)}),[n,r,i]),o}({defaultProp:t,onChange:o}),i=void 0!==e,a=i?e:n,l=oe(o);return[a,u((t=>{if(i){const o="function"==typeof t?t(e):t;o!==e&&l(o)}else r(t)}),[i,e,r,l])]}const re=l(void 0);function ie(e){const t=c(re);return e||t||"ltr"}const ae="rovingFocusGroup.onEntryFocus",le={bubbles:!1,cancelable:!0},se="RovingFocusGroup",[ce,ue,fe]=function(e){const t=e+"CollectionProvider",[o,n]=H(t),[i,a]=o(t,{collectionRef:{current:null},itemMap:new Map}),l=e+"CollectionSlot",s=e+"CollectionItemSlot",c="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:o}=e,n=r.useRef(null),a=r.useRef(new Map).current;return r.createElement(i,{scope:t,itemMap:a,collectionRef:n},o)},Slot:r.forwardRef(((e,t)=>{const{scope:o,children:n}=e,i=$(t,a(l,o).collectionRef);return r.createElement(Z,{ref:i},n)})),ItemSlot:r.forwardRef(((e,t)=>{const{scope:o,children:n,...i}=e,l=r.useRef(null),u=$(t,l),f=a(s,o);return r.useEffect((()=>(f.itemMap.set(l,{ref:l,...i}),()=>{f.itemMap.delete(l)}))),r.createElement(Z,{[c]:"",ref:u},n)}))},function(t){const o=a(e+"CollectionConsumer",t);return r.useCallback((()=>{const e=o.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`));return Array.from(o.itemMap.values()).sort(((e,o)=>t.indexOf(e.ref.current)-t.indexOf(o.ref.current)))}),[o.collectionRef,o.itemMap])},n]}(se),[de,pe]=H(se,[fe]),[he,ge]=de(se),ye=i(((e,t)=>a(ce.Provider,{scope:e.__scopeRovingFocusGroup},a(ce.Slot,{scope:e.__scopeRovingFocusGroup},a(me,V({},e,{ref:t})))))),me=i(((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:r=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:f,...d}=e,p=m(null),h=$(t,p),g=ie(i),[b=null,w]=ne({prop:l,defaultProp:s,onChange:c}),[x,O]=v(!1),C=oe(f),_=ue(o),E=m(!1),[P,k]=v(0);return y((()=>{const e=p.current;if(e)return e.addEventListener(ae,C),()=>e.removeEventListener(ae,C)}),[C]),a(he,{scope:o,orientation:n,dir:g,loop:r,currentTabStopId:b,onItemFocus:u((e=>w(e)),[w]),onItemShiftTab:u((()=>O(!0)),[]),onFocusableItemAdd:u((()=>k((e=>e+1))),[]),onFocusableItemRemove:u((()=>k((e=>e-1))),[])},a(te.div,V({tabIndex:x||0===P?-1:0,"data-orientation":n},d,{ref:h,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,(()=>{E.current=!0})),onFocus:q(e.onFocus,(e=>{const t=!E.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(ae,le);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=_().filter((e=>e.focusable));we([e.find((e=>e.active)),e.find((e=>e.id===b)),...e].filter(Boolean).map((e=>e.ref.current)))}}E.current=!1})),onBlur:q(e.onBlur,(()=>O(!1)))})))})),ve=i(((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:r=!0,active:i=!1,tabStopId:l,...s}=e,c=function(e){const[t,o]=n.useState(Q());return X((()=>{e||o((e=>null!=e?e:String(ee++)))}),[e]),e||(t?`radix-${t}`:"")}(),u=l||c,f=ge("RovingFocusGroupItem",o),d=f.currentTabStopId===u,p=ue(o),{onFocusableItemAdd:h,onFocusableItemRemove:g}=f;return y((()=>{if(r)return h(),()=>g()}),[r,h,g]),a(ce.ItemSlot,{scope:o,id:u,focusable:r,active:i},a(te.span,V({tabIndex:d?0:-1,"data-orientation":f.orientation},s,{ref:t,onMouseDown:q(e.onMouseDown,(e=>{r?f.onItemFocus(u):e.preventDefault()})),onFocus:q(e.onFocus,(()=>f.onItemFocus(u))),onKeyDown:q(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,o){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,o);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:be[n]}(e,f.orientation,f.dir);if(void 0!==t){e.preventDefault();let r=p().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const i=r.indexOf(e.currentTarget);r=f.loop?(n=i+1,(o=r).map(((e,t)=>o[(n+t)%o.length]))):r.slice(i+1)}setTimeout((()=>we(r)))}var o,n}))})))})),be={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function we(e){const t=document.activeElement;for(const o of e){if(o===t)return;if(o.focus(),document.activeElement!==t)return}}const xe=ye,Oe=ve,Ce="horizontal",_e=["horizontal","vertical"],Ee=i(((e,t)=>{const{decorative:o,orientation:n=Ce,...r}=e,i=Pe(n)?n:Ce,l=o?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return a(te.div,V({"data-orientation":i},l,r,{ref:t}))}));function Pe(e){return _e.includes(e)}Ee.propTypes={orientation(e,t,o){const n=e[t],r=String(n);return n&&!Pe(n)?new Error(function(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to \`${Ce}\`.`}(r,o)):null}};const ke=Ee,je=i(((e,t)=>{const{pressed:o,defaultPressed:n=!1,onPressedChange:r,...i}=e,[l=!1,s]=ne({prop:o,onChange:r,defaultProp:n});return a(te.button,V({type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0},i,{ref:t,onClick:q(e.onClick,(()=>{e.disabled||s(!l)}))}))})),Re="ToggleGroup",[Se,Te]=H(Re,[pe]),Ae=pe(),Ne=r.forwardRef(((e,t)=>{const{type:o,...n}=e;if("single"===o){const e=n;return r.createElement(De,V({},e,{ref:t}))}if("multiple"===o){const e=n;return r.createElement(Me,V({},e,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${Re}\``)})),[Fe,Le]=Se(Re),De=r.forwardRef(((e,t)=>{const{value:o,defaultValue:n,onValueChange:i=(()=>{}),...a}=e,[l,s]=ne({prop:o,defaultProp:n,onChange:i});return r.createElement(Fe,{scope:e.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:s,onItemDeactivate:r.useCallback((()=>s("")),[s])},r.createElement(ze,V({},a,{ref:t})))})),Me=r.forwardRef(((e,t)=>{const{value:o,defaultValue:n,onValueChange:i=(()=>{}),...a}=e,[l=[],s]=ne({prop:o,defaultProp:n,onChange:i}),c=r.useCallback((e=>s(((t=[])=>[...t,e]))),[s]),u=r.useCallback((e=>s(((t=[])=>t.filter((t=>t!==e))))),[s]);return r.createElement(Fe,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:c,onItemDeactivate:u},r.createElement(ze,V({},a,{ref:t})))})),[Be,Ie]=Se(Re),ze=r.forwardRef(((e,t)=>{const{__scopeToggleGroup:o,disabled:n=!1,rovingFocus:i=!0,orientation:a,dir:l,loop:s=!0,...c}=e,u=Ae(o),f=ie(l),d={role:"group",dir:f,...c};return r.createElement(Be,{scope:o,rovingFocus:i,disabled:n},i?r.createElement(xe,V({asChild:!0},u,{orientation:a,dir:f,loop:s}),r.createElement(te.div,V({},d,{ref:t}))):r.createElement(te.div,V({},d,{ref:t})))})),Ve="ToggleGroupItem",qe=r.forwardRef(((e,t)=>{const o=Le(Ve,e.__scopeToggleGroup),n=Ie(Ve,e.__scopeToggleGroup),i=Ae(e.__scopeToggleGroup),a=o.value.includes(e.value),l=n.disabled||e.disabled,s={...e,pressed:a,disabled:l},c=r.useRef(null);return n.rovingFocus?r.createElement(Oe,V({asChild:!0},i,{focusable:!l,active:a,ref:c}),r.createElement(He,V({},s,{ref:t}))):r.createElement(He,V({},s,{ref:t}))})),He=r.forwardRef(((e,t)=>{const{__scopeToggleGroup:o,value:n,...i}=e,a=Le(Ve,o),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s="single"===a.type?l:void 0;return r.createElement(je,V({},s,i,{ref:t,onPressedChange:e=>{e?a.onItemActivate(n):a.onItemDeactivate(n)}}))})),We=Ne,Ge=qe,$e="Toolbar",[Ze,Ue]=H($e,[pe,Te]),Ke=pe(),Ye=Te(),[Je,Xe]=Ze($e),Qe=i(((e,t)=>{const{__scopeToolbar:o,orientation:n="horizontal",dir:r,loop:i=!0,...l}=e,s=Ke(o),c=ie(r);return a(Je,{scope:o,orientation:n,dir:c},a(xe,V({asChild:!0},s,{orientation:n,dir:c,loop:i}),a(te.div,V({role:"toolbar","aria-orientation":n,dir:c},l,{ref:t}))))})),et=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Xe("ToolbarSeparator",o);return a(ke,V({orientation:"horizontal"===r.orientation?"vertical":"horizontal"},n,{ref:t}))})),tt=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Ke(o);return a(Oe,V({asChild:!0},r,{focusable:!e.disabled}),a(te.button,V({type:"button"},n,{ref:t})))})),ot=Qe,nt=et,rt=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Xe("ToolbarToggleGroup",o),i=Ye(o);return a(We,V({"data-orientation":r.orientation,dir:r.dir},i,n,{ref:t,rovingFocus:!1}))})),it=i(((e,t)=>{const{__scopeToolbar:o,...n}=e,r=Ye(o),i={__scopeToolbar:e.__scopeToolbar};return a(tt,V({asChild:!0},i),a(Ge,V({},r,n,{ref:t})))}));function at(e){return ct(e)?(e.nodeName||"").toLowerCase():"#document"}function lt(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function st(e){var t;return null==(t=(ct(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ct(e){return e instanceof Node||e instanceof lt(e).Node}function ut(e){return e instanceof Element||e instanceof lt(e).Element}function ft(e){return e instanceof HTMLElement||e instanceof lt(e).HTMLElement}function dt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof lt(e).ShadowRoot)}function pt(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=vt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function ht(e){return["table","td","th"].includes(at(e))}function gt(e){const t=yt(),o=vt(e);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!t&&!!o.backdropFilter&&"none"!==o.backdropFilter||!t&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((e=>(o.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(o.contain||"").includes(e)))}function yt(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function mt(e){return["html","body","#document"].includes(at(e))}function vt(e){return lt(e).getComputedStyle(e)}function bt(e){return ut(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wt(e){if("html"===at(e))return e;const t=e.assignedSlot||e.parentNode||dt(e)&&e.host||st(e);return dt(t)?t.host:t}function xt(e){const t=wt(e);return mt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ft(t)&&pt(t)?t:xt(t)}function Ot(e,t,o){var n;void 0===t&&(t=[]),void 0===o&&(o=!0);const r=xt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=lt(r);return i?t.concat(a,a.visualViewport||[],pt(r)?r:[],a.frameElement&&o?Ot(a.frameElement):[]):t.concat(r,Ot(r,[],o))}const Ct=Math.min,_t=Math.max,Et=Math.round,Pt=Math.floor,kt=e=>({x:e,y:e}),jt={left:"right",right:"left",bottom:"top",top:"bottom"},Rt={start:"end",end:"start"};function St(e,t,o){return _t(e,Ct(t,o))}function Tt(e,t){return"function"==typeof e?e(t):e}function At(e){return e.split("-")[0]}function Nt(e){return e.split("-")[1]}function Ft(e){return"x"===e?"y":"x"}function Lt(e){return"y"===e?"height":"width"}function Dt(e){return["top","bottom"].includes(At(e))?"y":"x"}function Mt(e){return Ft(Dt(e))}function Bt(e){return e.replace(/start|end/g,(e=>Rt[e]))}function It(e){return e.replace(/left|right|bottom|top/g,(e=>jt[e]))}function zt(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Vt(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function qt(e,t,o){let{reference:n,floating:r}=e;const i=Dt(t),a=Mt(t),l=Lt(a),s=At(t),c="y"===i,u=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,d=n[l]/2-r[l]/2;let p;switch(s){case"top":p={x:u,y:n.y-r.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-r.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Nt(t)){case"start":p[a]-=d*(o&&c?-1:1);break;case"end":p[a]+=d*(o&&c?-1:1)}return p}async function Ht(e,t){var o;void 0===t&&(t={});const{x:n,y:r,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Tt(t,e),h=zt(p),g=l[d?"floating"===f?"reference":"floating":f],y=Vt(await i.getClippingRect({element:null==(o=await(null==i.isElement?void 0:i.isElement(g)))||o?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),m="floating"===f?{...a.floating,x:n,y:r}:a.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),b=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},w=Vt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:s}):m);return{top:(y.top-w.top+h.top)/b.y,bottom:(w.bottom-y.bottom+h.bottom)/b.y,left:(y.left-w.left+h.left)/b.x,right:(w.right-y.right+h.right)/b.x}}function Wt(e){const t=Ct(...e.map((e=>e.left))),o=Ct(...e.map((e=>e.top)));return{x:t,y:o,width:_t(...e.map((e=>e.right)))-t,height:_t(...e.map((e=>e.bottom)))-o}}const Gt=function(mainAxis, crossAxis) {void 0 === mainAxis && (mainAxis = 0);void 0 === crossAxis && (crossAxis = 0);return {name: "offset",options: { mainAxis, crossAxis },async fn(t) {var o, n;const { x: r, y: i, placement: a, middlewareData: l } = t;const s = await async function(e, t) {const { placement: o, platform: n, elements: r } = e;const i = await (null == n.isRTL ? void 0 : n.isRTL(r.floating));const a = At(o),l = Nt(o),s = "y" === Dt(o),c = ["left", "top"].includes(a) ? -1 : 1,u = i && s ? -1 : 1,f = Tt(t, e);let { mainAxis: d, crossAxis: p, alignmentAxis: h } = "number" == typeof f? { mainAxis: f, crossAxis: 0, alignmentAxis: null }: { mainAxis: 0, crossAxis: 0, alignmentAxis: null, ...f };l && "number" == typeof h && (p = "end" === l ? -1 * h : h);return s ? { x: p * u, y: d * c } : { x: d * c, y: p * u };}(t, { mainAxis, crossAxis });return a === (null == (o = l.offset) ? void 0 : o.placement) &&null != (n = l.arrow) &&n.alignmentOffset? {}: { x: r + s.x, y: i + s.y, data: { ...s, placement: a } };}};
+};function $t(e){const t=vt(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=ft(e),i=r?e.offsetWidth:o,a=r?e.offsetHeight:n,l=Et(o)!==i||Et(n)!==a;return l&&(o=i,n=a),{width:o,height:n,$:l}}function Zt(e){return ut(e)?e:e.contextElement}function Ut(e){const t=Zt(e);if(!ft(t))return kt(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:i}=$t(t);let a=(i?Et(o.width):o.width)/n,l=(i?Et(o.height):o.height)/r;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const Kt=kt(0);function Yt(e){const t=lt(e);return yt()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Kt}function Jt(e,t,o,n){void 0===t&&(t=!1),void 0===o&&(o=!1);const r=e.getBoundingClientRect(),i=Zt(e);let a=kt(1);t&&(n?ut(n)&&(a=Ut(n)):a=Ut(e));const l=function(e,t,o){return void 0===t&&(t=!1),!(!o||t&&o!==lt(e))&&t}(i,o,n)?Yt(i):kt(0);let s=(r.left+l.x)/a.x,c=(r.top+l.y)/a.y,u=r.width/a.x,f=r.height/a.y;if(i){const e=lt(i),t=n&&ut(n)?lt(n):n;let o=e,r=o.frameElement;for(;r&&n&&t!==o;){const e=Ut(r),t=r.getBoundingClientRect(),n=vt(r),i=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;s*=e.x,c*=e.y,u*=e.x,f*=e.y,s+=i,c+=a,o=lt(r),r=o.frameElement}}return Vt({width:u,height:f,x:s,y:c})}const Xt=[":popover-open",":modal"];function Qt(e){return Xt.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function eo(e){return Jt(st(e)).left+bt(e).scrollLeft}function to(e,t,o){let n;if("viewport"===t)n=function(e,t){const o=lt(e),n=st(e),r=o.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,s=0;if(r){i=r.width,a=r.height;const e=yt();(!e||e&&"fixed"===t)&&(l=r.offsetLeft,s=r.offsetTop)}return{width:i,height:a,x:l,y:s}}(e,o);else if("document"===t)n=function(e){const t=st(e),o=bt(e),n=e.ownerDocument.body,r=_t(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_t(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-o.scrollLeft+eo(e);const l=-o.scrollTop;return"rtl"===vt(n).direction&&(a+=_t(t.clientWidth,n.clientWidth)-r),{width:r,height:i,x:a,y:l}}(st(e));else if(ut(t))n=function(e,t){const o=Jt(e,!0,"fixed"===t),n=o.top+e.clientTop,r=o.left+e.clientLeft,i=ft(e)?Ut(e):kt(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:n*i.y}}(t,o);else{const o=Yt(e);n={...t,x:t.x-o.x,y:t.y-o.y}}return Vt(n)}function oo(e,t){const o=wt(e);return!(o===t||!ut(o)||mt(o))&&("fixed"===vt(o).position||oo(o,t))}function no(e,t,o){const n=ft(t),r=st(t),i="fixed"===o,a=Jt(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const s=kt(0);if(n||!n&&!i)if(("body"!==at(t)||pt(r))&&(l=bt(t)),n){const e=Jt(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else r&&(s.x=eo(r));return{x:a.left+l.scrollLeft-s.x,y:a.top+l.scrollTop-s.y,width:a.width,height:a.height}}function ro(e,t){return ft(e)&&"fixed"!==vt(e).position?t?t(e):e.offsetParent:null}function io(e,t){const o=lt(e);if(!ft(e)||Qt(e))return o;let n=ro(e,t);for(;n&&ht(n)&&"static"===vt(n).position;)n=ro(n,t);return n&&("html"===at(n)||"body"===at(n)&&"static"===vt(n).position&&!gt(n))?o:n||function(e){let t=wt(e);for(;ft(t)&&!mt(t);){if(gt(t))return t;t=wt(t)}return null}(e)||o}const ao={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const i="fixed"===r,a=st(n),l=!!t&&Qt(t.floating);if(n===a||l&&i)return o;let s={scrollLeft:0,scrollTop:0},c=kt(1);const u=kt(0),f=ft(n);if((f||!f&&!i)&&(("body"!==at(n)||pt(a))&&(s=bt(n)),ft(n))){const e=Jt(n);c=Ut(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-s.scrollLeft*c.x+u.x,y:o.y*c.y-s.scrollTop*c.y+u.y}},getDocumentElement:st,getClippingRect:function(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[..."clippingAncestors"===o?function(e,t){const o=t.get(e);if(o)return o;let n=Ot(e,[],!1).filter((e=>ut(e)&&"body"!==at(e))),r=null;const i="fixed"===vt(e).position;let a=i?wt(e):e;for(;ut(a)&&!mt(a);){const t=vt(a),o=gt(a);o||"fixed"!==t.position||(r=null),(i?!o&&!r:!o&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||pt(a)&&!o&&oo(e,a))?n=n.filter((e=>e!==a)):r=t,a=wt(a)}return t.set(e,n),n}(t,this._c):[].concat(o),n],a=i[0],l=i.reduce(((e,o)=>{const n=to(t,o,r);return e.top=_t(n.top,e.top),e.right=Ct(n.right,e.right),e.bottom=Ct(n.bottom,e.bottom),e.left=_t(n.left,e.left),e}),to(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:io,getElementRects:async function(e){const t=this.getOffsetParent||io,o=this.getDimensions;return{reference:no(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:o}=$t(e);return{width:t,height:o}},getScale:Ut,isElement:ut,isRTL:function(e){return"rtl"===vt(e).direction}};function lo(e,t,o,n){void 0===n&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=n,c=Zt(e),u=r||i?[...c?Ot(c):[],...Ot(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",o,{passive:!0}),i&&e.addEventListener("resize",o)}));const f=c&&l?function(e,t){let o,n=null;const r=st(e);function i(){var e;clearTimeout(o),null==(e=n)||e.disconnect(),n=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),i();const{left:c,top:u,width:f,height:d}=e.getBoundingClientRect();if(l||t(),!f||!d)return;const p={rootMargin:-Pt(u)+"px "+-Pt(r.clientWidth-(c+f))+"px "+-Pt(r.clientHeight-(u+d))+"px "+-Pt(c)+"px",threshold:_t(0,Ct(1,s))||1};let h=!0;function g(e){const t=e[0].intersectionRatio;if(t!==s){if(!h)return a();t?a(!1,t):o=setTimeout((()=>{a(!1,1e-7)}),100)}h=!1}try{n=new IntersectionObserver(g,{...p,root:r.ownerDocument})}catch(e){n=new IntersectionObserver(g,p)}n.observe(e)}(!0),i}(c,o):null;let d,p=-1,h=null;a&&(h=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),o()})),c&&!s&&h.observe(c),h.observe(t));let g=s?Jt(e):null;return s&&function t(){const n=Jt(e);!g||n.x===g.x&&n.y===g.y&&n.width===g.width&&n.height===g.height||o();g=n,d=requestAnimationFrame(t)}(),o(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",o),i&&e.removeEventListener("resize",o)})),null==f||f(),null==(e=h)||e.disconnect(),h=null,s&&cancelAnimationFrame(d)}}const so=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:o}=e;return{x:t,y:o}}},...s}=Tt(e,t),c={x:o,y:n},u=await Ht(t,s),f=Dt(At(r)),d=Ft(f);let p=c[d],h=c[f];if(i){const e="y"===d?"bottom":"right";p=St(p+u["y"===d?"top":"left"],p,p-u[e])}if(a){const e="y"===f?"bottom":"right";h=St(h+u["y"===f?"top":"left"],h,h-u[e])}const g=l.fn({...t,[d]:p,[f]:h});return{...g,data:{x:g.x-o,y:g.y-n}}}}},co=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...y}=Tt(e,t);if(null!=(o=i.arrow)&&o.alignmentOffset)return{};const m=At(r),v=At(l)===l,b=await(null==s.isRTL?void 0:s.isRTL(c.floating)),w=d||(v||!g?[It(l)]:function(e){const t=It(e);return[Bt(e),t,Bt(t)]}(l));d||"none"===h||w.push(...function(e,t,o,n){const r=Nt(e);let i=function(e,t,o){const n=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?i:a;default:return[]}}(At(e),"start"===o,n);return r&&(i=i.map((e=>e+"-"+r)),t&&(i=i.concat(i.map(Bt)))),i}(l,g,h,b));const x=[l,...w],O=await Ht(t,y),C=[];let _=(null==(n=i.flip)?void 0:n.overflows)||[];if(u&&C.push(O[m]),f){const e=function(e,t,o){void 0===o&&(o=!1);const n=Nt(e),r=Mt(e),i=Lt(r);let a="x"===r?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=It(a)),[a,It(a)]}(r,a,b);C.push(O[e[0]],O[e[1]])}if(_=[..._,{placement:r,overflows:C}],!C.every((e=>e<=0))){var E,P;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let o=null==(P=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:P.placement;if(!o)switch(p){case"bestFit":{var k;const e=null==(k=_.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(o=e);break}case"initialPlacement":o=l}if(r!==o)return{reset:{placement:o}}}return{}}}},uo=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:o,elements:n,rects:r,platform:i,strategy:a}=t,{padding:l=2,x:s,y:c}=Tt(e,t),u=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(n.reference))||[]),f=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),o=[];let n=null;for(let e=0;e<t.length;e++){const r=t[e];!n||r.y-n.y>n.height/2?o.push([r]):o[o.length-1].push(r),n=r}return o.map((e=>Vt(Wt(e))))}(u),d=Vt(Wt(u)),p=zt(l);const h=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===f.length&&f[0].left>f[1].right&&null!=s&&null!=c)return f.find((e=>s>e.left-p.left&&s<e.right+p.right&&c>e.top-p.top&&c<e.bottom+p.bottom))||d;if(f.length>=2){if("y"===Dt(o)){const e=f[0],t=f[f.length-1],n="top"===At(o),r=e.top,i=t.bottom,a=n?e.left:t.left,l=n?e.right:t.right;return{top:r,bottom:i,left:a,right:l,width:l-a,height:i-r,x:a,y:r}}const e="left"===At(o),t=_t(...f.map((e=>e.right))),n=Ct(...f.map((e=>e.left))),r=f.filter((o=>e?o.left===n:o.right===t)),i=r[0].top,a=r[r.length-1].bottom;return{top:i,bottom:a,left:n,right:t,width:t-n,height:a-i,x:n,y:i}}return d}},floating:n.floating,strategy:a});return r.reference.x!==h.reference.x||r.reference.y!==h.reference.y||r.reference.width!==h.reference.width||r.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},fo=(e,t,o)=>{const n=new Map,r={platform:ao,...o},i={...r.platform,_c:n};return(async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:a}=o,l=i.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:f}=qt(c,n,s),d=n,p={},h=0;for(let o=0;o<l.length;o++){const{name:i,fn:g}=l[o],{x:y,y:m,data:v,reset:b}=await g({x:u,y:f,initialPlacement:n,placement:d,strategy:r,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=y?y:u,f=null!=m?m:f,p={...p,[i]:{...p[i],...v}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),({x:u,y:f}=qt(c,d,s))),o=-1)}return{x:u,y:f,placement:d,strategy:r,middlewareData:p}})(e,t,{...r,platform:i})};var po="undefined"!=typeof document?g:y;function ho(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;0!=n--;)if(!ho(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;0!=n--;){const o=r[n];if(("_owner"!==o||!e.$$typeof)&&!ho(e[o],t[o]))return!1}return!0}return e!=e&&t!=t}function go(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yo(e,t){const o=go(e);return Math.round(t*o)/o}function mo(e){const t=n.useRef(e);return po((()=>{t.current=e})),t}
 /*!
 * tabbable 6.2.0
 * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
@@ -10,4 +11,4 @@ var vo=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[hr
  * Copyright (c) 2014-2017, Jon Schlinkert.
  * Released under the MIT License.
  */
-function yn(e){return"[object Object]"===Object.prototype.toString.call(e)}function mn(e){var t,o;return!1!==yn(e)&&(void 0===(t=e.constructor)||!1!==yn(o=t.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}var vn=Symbol.for("immer-nothing"),bn=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function xn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var On=Object.getPrototypeOf;function Cn(e){return!!e&&!!e[wn]}function _n(e){return!!e&&(Pn(e)||Array.isArray(e)||!!e[bn]||!!e.constructor?.[bn]||Tn(e)||An(e))}var En=Object.prototype.constructor.toString();function Pn(e){if(!e||"object"!=typeof e)return!1;const t=On(e);if(null===t)return!0;const o=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return o===Object||"function"==typeof o&&Function.toString.call(o)===En}function kn(e,t){0===jn(e)?Reflect.ownKeys(e).forEach((o=>{t(o,e[o],e)})):e.forEach(((o,n)=>t(n,o,e)))}function jn(e){const t=e[wn];return t?t.type_:Array.isArray(e)?1:Tn(e)?2:An(e)?3:0}function Rn(e,t){return 2===jn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Sn(e,t,o){const n=jn(e);2===n?e.set(t,o):3===n?e.add(o):e[t]=o}function Tn(e){return e instanceof Map}function An(e){return e instanceof Set}function Nn(e){return e.copy_||e.base_}function Fn(e,t){if(Tn(e))return new Map(e);if(An(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Pn(e)){if(!On(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const o=Object.getOwnPropertyDescriptors(e);delete o[wn];let n=Reflect.ownKeys(o);for(let t=0;t<n.length;t++){const r=n[t],i=o[r];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(o[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[r]})}return Object.create(On(e),o)}function Ln(e,t=!1){return Mn(e)||Cn(e)||!_n(e)||(jn(e)>1&&(e.set=e.add=e.clear=e.delete=Dn),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>Ln(t,!0)))),e}function Dn(){xn(2)}function Mn(e){return Object.isFrozen(e)}var Bn,In={};function zn(e){const t=In[e];return t||xn(0),t}function Vn(){return Bn}function qn(e,t){t&&(zn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hn(e){Wn(e),e.drafts_.forEach($n),e.drafts_=null}function Wn(e){e===Bn&&(Bn=e.parent_)}function Gn(e){return Bn={drafts_:[],parent_:Bn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $n(e){const t=e[wn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Zn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const o=t.drafts_[0];return void 0!==e&&e!==o?(o[wn].modified_&&(Hn(t),xn(4)),_n(e)&&(e=Un(t,e),t.parent_||Yn(t,e)),t.patches_&&zn("Patches").generateReplacementPatches_(o[wn].base_,e,t.patches_,t.inversePatches_)):e=Un(t,o,[]),Hn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vn?e:void 0}function Un(e,t,o){if(Mn(t))return t;const n=t[wn];if(!n)return kn(t,((r,i)=>Kn(e,n,t,r,i,o))),t;if(n.scope_!==e)return t;if(!n.modified_)return Yn(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let r=t,i=!1;3===n.type_&&(r=new Set(t),t.clear(),i=!0),kn(r,((r,a)=>Kn(e,n,t,r,a,o,i))),Yn(e,t,!1),o&&e.patches_&&zn("Patches").generatePatches_(n,o,e.patches_,e.inversePatches_)}return n.copy_}function Kn(e,t,o,n,r,i,a){if(Cn(r)){const a=Un(e,r,i&&t&&3!==t.type_&&!Rn(t.assigned_,n)?i.concat(n):void 0);if(Sn(o,n,a),!Cn(a))return;e.canAutoFreeze_=!1}else a&&o.add(r);if(_n(r)&&!Mn(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Un(e,r),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(o,n)||Yn(e,r)}}function Yn(e,t,o=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ln(t,o)}var Jn={get(e,t){if(t===wn)return e;const o=Nn(e);if(!Rn(o,t))return function(e,t,o){const n=er(t,o);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,o,t);const n=o[t];return e.finalized_||!_n(n)?n:n===Qn(e.base_,t)?(or(e),e.copy_[t]=nr(n,e)):n},has:(e,t)=>t in Nn(e),ownKeys:e=>Reflect.ownKeys(Nn(e)),set(e,t,o){const n=er(Nn(e),t);if(n?.set)return n.set.call(e.draft_,o),!0;if(!e.modified_){const n=Qn(Nn(e),t),a=n?.[wn];if(a&&a.base_===o)return e.copy_[t]=o,e.assigned_[t]=!1,!0;if(((r=o)===(i=n)?0!==r||1/r==1/i:r!=r&&i!=i)&&(void 0!==o||Rn(e.base_,t)))return!0;or(e),tr(e)}var r,i;return e.copy_[t]===o&&(void 0!==o||t in e.copy_)||Number.isNaN(o)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=o,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Qn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,or(e),tr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const o=Nn(e),n=Reflect.getOwnPropertyDescriptor(o,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:o[t]}:n},defineProperty(){xn(11)},getPrototypeOf:e=>On(e.base_),setPrototypeOf(){xn(12)}},Xn={};function Qn(e,t){const o=e[wn];return(o?Nn(o):e)[t]}function er(e,t){if(!(t in e))return;let o=On(e);for(;o;){const e=Object.getOwnPropertyDescriptor(o,t);if(e)return e;o=On(o)}}function tr(e){e.modified_||(e.modified_=!0,e.parent_&&tr(e.parent_))}function or(e){e.copy_||(e.copy_=Fn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}kn(Jn,((e,t)=>{Xn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Xn.deleteProperty=function(e,t){return Xn.set.call(this,e,t,void 0)},Xn.set=function(e,t,o){return Jn.set.call(this,e[0],t,o,e[0])};function nr(e,t){const o=Tn(e)?zn("MapSet").proxyMap_(e,t):An(e)?zn("MapSet").proxySet_(e,t):function(e,t){const o=Array.isArray(e),n={type_:o?1:0,scope_:t?t.scope_:Vn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,i=Jn;o&&(r=[n],i=Xn);const{revoke:a,proxy:l}=Proxy.revocable(r,i);return n.draft_=l,n.revoke_=a,l}(e,t);return(t?t.scope_:Vn()).drafts_.push(o),o}function rr(e){if(!_n(e)||Mn(e))return e;const t=e[wn];let o;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,o=Fn(e,t.scope_.immer_.useStrictShallowCopy_)}else o=Fn(e,!0);return kn(o,((e,t)=>{Sn(o,e,rr(t))})),t&&(t.finalized_=!1),o}var ir=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,o)=>{if("function"==typeof e&&"function"!=typeof t){const o=t;t=e;const n=this;return function(e=o,...r){return n.produce(e,(e=>t.call(this,e,...r)))}}let n;if("function"!=typeof t&&xn(6),void 0!==o&&"function"!=typeof o&&xn(7),_n(e)){const r=Gn(this),i=nr(e,void 0);let a=!0;try{n=t(i),a=!1}finally{a?Hn(r):Wn(r)}return qn(r,o),Zn(n,r)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===vn&&(n=void 0),this.autoFreeze_&&Ln(n,!0),o){const t=[],r=[];zn("Patches").generateReplacementPatches_(e,n,t,r),o(t,r)}return n}xn(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...o)=>this.produceWithPatches(t,(t=>e(t,...o)));let o,n;return[this.produce(e,t,((e,t)=>{o=e,n=t})),o,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_n(e)||xn(8),Cn(e)&&(e=function(e){Cn(e)||xn(10);return rr(e)}(e));const t=Gn(this),o=nr(e,void 0);return o[wn].isManual_=!0,Wn(t),o}finishDraft(e,t){const o=e&&e[wn];o&&o.isManual_||xn(9);const{scope_:n}=o;return qn(n,t),Zn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let o;for(o=t.length-1;o>=0;o--){const n=t[o];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}o>-1&&(t=t.slice(o+1));const n=zn("Patches").applyPatches_;return Cn(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},ar=ir.produce;ir.produceWithPatches.bind(ir),ir.setAutoFreeze.bind(ir),ir.setUseStrictShallowCopy.bind(ir),ir.applyPatches.bind(ir);var lr=ir.createDraft.bind(ir),sr=ir.finishDraft.bind(ir),cr={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:o=!1}=t,n=cr.levels(e,t);return n=o?n.slice(1):n.slice(0,-1)},common(e,t){for(var o=[],n=0;n<e.length&&n<t.length;n++){var r=e[n];if(r!==t[n])break;o.push(r)}return o},compare(e,t){for(var o=Math.min(e.length,t.length),n=0;n<o;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var o=e.length-1,n=e.slice(0,o),r=t.slice(0,o),i=e[o],a=t[o];return cr.equals(n,r)&&i>a},endsAt(e,t){var o=e.length,n=e.slice(0,o),r=t.slice(0,o);return cr.equals(n,r)},endsBefore(e,t){var o=e.length-1,n=e.slice(0,o),r=t.slice(0,o),i=e[o],a=t[o];return cr.equals(n,r)&&i<a},equals:(e,t)=>e.length===t.length&&e.every(((e,o)=>e===t[o])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===cr.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===cr.compare(e,t),isBefore:(e,t)=>-1===cr.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===cr.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===cr.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===cr.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===cr.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var o=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&cr.equals(o,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:o=!1}=t,n=[],r=0;r<=e.length;r++)n.push(e.slice(0,r));return o&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!cr.isAncestor(t,e)&&!cr.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:r="forward"}=o;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:i}=t;(cr.equals(i,n)||cr.endsBefore(i,n)||cr.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(cr.equals(a,n)||cr.isAncestor(a,n))return null;cr.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var{path:l,position:s}=t;cr.equals(l,n)||cr.endsBefore(l,n)?n[l.length-1]-=1:cr.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=s);break;case"split_node":var{path:c,position:u}=t;if(cr.equals(c,n)){if("forward"===r)n[n.length-1]+=1;else if("backward"!==r)return null}else cr.endsBefore(c,n)?n[c.length-1]+=1:cr.isAncestor(c,n)&&e[c.length]>=u&&(n[c.length-1]+=1,n[c.length]-=u);break;case"move_node":var{path:f,newPath:d}=t;if(cr.equals(f,d))return n;if(cr.isAncestor(f,n)||cr.equals(f,n)){var p=d.slice();return cr.endsBefore(f,d)&&f.length<d.length&&(p[f.length-1]-=1),p.concat(n.slice(f.length))}cr.isSibling(f,d)&&(cr.isAncestor(d,n)||cr.equals(d,n))?cr.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:cr.endsBefore(d,n)||cr.equals(d,n)||cr.isAncestor(d,n)?(cr.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):cr.endsBefore(f,n)&&(cr.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}return n}};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function fr(e){var t=function(e,t){if("object"!==ur(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ur(t)?t:String(t)}function dr(e,t,o){return(t=fr(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function pr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function hr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):pr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var gr={transform(e,t){e.children=lr(e.children);var o=e.selection&&lr(e.selection);try{o=((e,t,o)=>{switch(o.type){case"insert_node":var{path:n,node:r}=o,i=jr.parent(e,n),a=n[n.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(i.children.splice(a,0,r),t)for(var[l,s]of Or.points(t))t[s]=Dr.transform(l,o);break;case"insert_text":var{path:c,offset:u,text:f}=o;if(0===f.length)break;var d=jr.leaf(e,c),p=d.text.slice(0,u),h=d.text.slice(u);if(d.text=p+f+h,t)for(var[g,y]of Or.points(t))t[y]=Dr.transform(g,o);break;case"merge_node":var{path:m}=o,v=jr.get(e,m),b=cr.previous(m),w=jr.get(e,b),x=jr.parent(e,m),O=m[m.length-1];if(Wr.isText(v)&&Wr.isText(w))w.text+=v.text;else{if(Wr.isText(v)||Wr.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(Br.stringify(v)," ").concat(Br.stringify(w)));w.children.push(...v.children)}if(x.children.splice(O,1),t)for(var[C,_]of Or.points(t))t[_]=Dr.transform(C,o);break;case"move_node":var{path:E,newPath:P}=o;if(cr.isAncestor(E,P))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(P,"] because the destination is inside itself."));var k=jr.get(e,E),j=jr.parent(e,E),R=E[E.length-1];j.children.splice(R,1);var S=cr.transform(E,o),T=jr.get(e,cr.parent(S)),A=S[S.length-1];if(T.children.splice(A,0,k),t)for(var[N,F]of Or.points(t))t[F]=Dr.transform(N,o);break;case"remove_node":var{path:L}=o,D=L[L.length-1];if(jr.parent(e,L).children.splice(D,1),t)for(var[M,B]of Or.points(t)){var I=Dr.transform(M,o);if(null!=t&&null!=I)t[B]=I;else{var z=void 0,V=void 0;for(var[q,H]of jr.texts(e)){if(-1!==cr.compare(H,L)){V=[q,H];break}z=[q,H]}var W=!1;z&&V&&(W=cr.equals(V[1],L)?!cr.hasPrevious(V[1]):cr.common(z[1],L).length<cr.common(V[1],L).length),z&&!W?(M.path=z[1],M.offset=z[0].text.length):V?(M.path=V[1],M.offset=0):t=null}}break;case"remove_text":var{path:G,offset:$,text:Z}=o;if(0===Z.length)break;var U=jr.leaf(e,G),K=U.text.slice(0,$),Y=U.text.slice($+Z.length);if(U.text=K+Y,t)for(var[J,X]of Or.points(t))t[X]=Dr.transform(J,o);break;case"set_node":var{path:Q,properties:ee,newProperties:te}=o;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var oe=jr.get(e,Q);for(var ne in te){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var re=te[ne];null==re?delete oe[ne]:oe[ne]=re}for(var ie in ee)te.hasOwnProperty(ie)||delete oe[ie];break;case"set_selection":var{newProperties:ae}=o;if(null==ae)t=ae;else{if(null==t){if(!Or.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Br.stringify(ae)," when there is no current selection."));t=hr({},ae)}for(var le in ae){var se=ae[le];if(null==se){if("anchor"===le||"focus"===le)throw new Error('Cannot remove the "'.concat(le,'" selection property'));delete t[le]}else t[le]=se}}break;case"split_node":var{path:ce,position:ue,properties:fe}=o;if(0===ce.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ce,"] because the root node cannot be split."));var de,pe=jr.get(e,ce),he=jr.parent(e,ce),ge=ce[ce.length-1];if(Wr.isText(pe)){var ye=pe.text.slice(0,ue),me=pe.text.slice(ue);pe.text=ye,de=hr(hr({},fe),{},{text:me})}else{var ve=pe.children.slice(0,ue),be=pe.children.slice(ue);pe.children=ve,de=hr(hr({},fe),{},{children:be})}if(he.children.splice(ge+1,0,de),t)for(var[we,xe]of Or.points(t))t[xe]=Dr.transform(we,o)}return t})(e,o,t)}finally{e.children=sr(e.children),e.selection=o?Cn(o)?sr(o):o:null}}},yr={insertNodes(e,t,o){e.insertNodes(t,o)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,o){e.setNodes(t,o)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,o){e.unsetNodes(t,o)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,o){e.wrapNodes(t,o)}},mr={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,o){e.setPoint(t,o)},setSelection(e,t){e.setSelection(t)}},vr=(e,t)=>{for(var o in e){var n=e[o],r=t[o];if(mn(n)&&mn(r)){if(!vr(n,r))return!1}else if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==r[i])return!1}else if(n!==r)return!1}for(var a in t)if(void 0===e[a]&&void 0!==t[a])return!1;return!0};function br(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var wr=["anchor","focus"];function xr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var Or={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:o=!1}=t,{anchor:n,focus:r}=e;return Or.isBackward(e)===o?[n,r]:[r,n]},end(e){var[,t]=Or.edges(e);return t},equals:(e,t)=>Dr.equals(e.anchor,t.anchor)&&Dr.equals(e.focus,t.focus),includes(e,t){if(Or.isRange(t)){if(Or.includes(e,t.anchor)||Or.includes(e,t.focus))return!0;var[o,n]=Or.edges(e),[r,i]=Or.edges(t);return Dr.isBefore(o,r)&&Dr.isAfter(n,i)}var[a,l]=Or.edges(e),s=!1,c=!1;return Dr.isPoint(t)?(s=Dr.compare(t,a)>=0,c=Dr.compare(t,l)<=0):(s=cr.compare(t,a.path)>=0,c=cr.compare(t,l.path)<=0),s&&c},intersection(e,t){var o=br(e,wr),[n,r]=Or.edges(e),[i,a]=Or.edges(t),l=Dr.isBefore(n,i)?i:n,s=Dr.isBefore(r,a)?r:a;return Dr.isBefore(s,l)?null:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):xr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({anchor:l,focus:s},o)},isBackward(e){var{anchor:t,focus:o}=e;return Dr.isAfter(t,o)},isCollapsed(e){var{anchor:t,focus:o}=e;return Dr.equals(t,o)},isExpanded:e=>!Or.isCollapsed(e),isForward:e=>!Or.isBackward(e),isRange:e=>mn(e)&&Dr.isPoint(e.anchor)&&Dr.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Or.edges(e);return t},transform(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ar(e,(e=>{if(null===e)return null;var n,r,{affinity:i="inward"}=o;if("inward"===i){var a=Or.isCollapsed(e);Or.isForward(e)?(n="forward",r=a?n:"backward"):(n="backward",r=a?n:"forward")}else"outward"===i?Or.isForward(e)?(n="backward",r="forward"):(n="forward",r="backward"):(n=i,r=i);var l=Dr.transform(e.anchor,t,{affinity:n}),s=Dr.transform(e.focus,t,{affinity:r});if(!l||!s)return null;e.anchor=l,e.focus=s}))}},Cr=e=>mn(e)&&jr.isNodeList(e.children)&&!Nr.isEditor(e),_r={isAncestor:e=>mn(e)&&jr.isNodeList(e.children),isElement:Cr,isElementList:e=>Array.isArray(e)&&e.every((e=>_r.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Cr(e)&&e[o]===t},matches(e,t){for(var o in t)if("children"!==o&&e[o]!==t[o])return!1;return!0}},Er=["children"],Pr=["text"],kr=new WeakMap,jr={ancestor(e,t){var o=jr.get(e,t);if(Wr.isText(o))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Br.stringify(o)));return o},ancestors(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of cr.ancestors(t,o)){var r=[jr.ancestor(e,n),n];yield r}}()},child(e,t){if(Wr.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Br.stringify(e)));var o=e.children[t];if(null==o)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Br.stringify(e)));return o},children(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:n=!1}=o,r=jr.ancestor(e,t),{children:i}=r,a=n?i.length-1:0;n?a>=0:a<i.length;){var l=jr.child(r,a),s=t.concat(a);yield[l,s],a=n?a-1:a+1}}()},common(e,t,o){var n=cr.common(t,o);return[jr.get(e,n),n]},descendant(e,t){var o=jr.get(e,t);if(Nr.isEditor(o))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Br.stringify(o)));return o},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[o,n]of jr.nodes(e,t))0!==n.length&&(yield[o,n])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[o,n]of jr.nodes(e,t))_r.isElement(o)&&(yield[o,n])}()},extractProps:e=>_r.isAncestor(e)?br(e,Er):br(e,Pr),first(e,t){for(var o=t.slice(),n=jr.get(e,o);n&&!Wr.isText(n)&&0!==n.children.length;)n=n.children[0],o.push(0);return[n,o]},fragment(e,t){if(Wr.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Br.stringify(e)));var o=ar({children:e.children},(e=>{var[o,n]=Or.edges(t),r=jr.nodes(e,{reverse:!0,pass:e=>{var[,o]=e;return!Or.includes(t,o)}});for(var[,i]of r){if(!Or.includes(t,i)){var a=jr.parent(e,i),l=i[i.length-1];a.children.splice(l,1)}if(cr.equals(i,n.path)){var s=jr.leaf(e,i);s.text=s.text.slice(0,n.offset)}if(cr.equals(i,o.path)){var c=jr.leaf(e,i);c.text=c.text.slice(o.offset)}}Nr.isEditor(e)&&(e.selection=null)}));return o.children},get(e,t){for(var o=e,n=0;n<t.length;n++){var r=t[n];if(Wr.isText(o)||!o.children[r])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Br.stringify(e)));o=o.children[r]}return o},has(e,t){for(var o=e,n=0;n<t.length;n++){var r=t[n];if(Wr.isText(o)||!o.children[r])return!1;o=o.children[r]}return!0},isNode:e=>Wr.isText(e)||_r.isElement(e)||Nr.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=kr.get(e);if(void 0!==t)return t;var o=e.every((e=>jr.isNode(e)));return kr.set(e,o),o},last(e,t){for(var o=t.slice(),n=jr.get(e,o);n&&!Wr.isText(n)&&0!==n.children.length;){var r=n.children.length-1;n=n.children[r],o.push(r)}return[n,o]},leaf(e,t){var o=jr.get(e,t);if(!Wr.isText(o))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Br.stringify(o)));return o},levels(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of cr.levels(t,o)){var r=jr.get(e,n);yield[r,n]}}()},matches:(e,t)=>_r.isElement(e)&&_r.isElementProps(t)&&_r.matches(e,t)||Wr.isText(e)&&Wr.isTextProps(t)&&Wr.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:o,reverse:n=!1}=t,{from:r=[],to:i}=t,a=new Set,l=[],s=e;!i||!(n?cr.isBefore(l,i):cr.isAfter(l,i));)if(a.has(s)||(yield[s,l]),a.has(s)||Wr.isText(s)||0===s.children.length||null!=o&&!1!==o([s,l])){if(0===l.length)break;if(!n){var c=cr.next(l);if(jr.has(e,c)){l=c,s=jr.get(e,l);continue}}if(n&&0!==l[l.length-1])l=cr.previous(l),s=jr.get(e,l);else l=cr.parent(l),s=jr.get(e,l),a.add(s)}else{a.add(s);var u=n?s.children.length-1:0;cr.isAncestor(l,r)&&(u=r[l.length]),l=l.concat(u),s=jr.get(e,l)}}()},parent(e,t){var o=cr.parent(t),n=jr.get(e,o);if(Wr.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>Wr.isText(e)?e.text:e.children.map(jr.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[o,n]of jr.nodes(e,t))Wr.isText(o)&&(yield[o,n])}()}};function Rr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Sr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Rr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Tr={isNodeOperation:e=>Tr.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!mn(e))return!1;switch(e.type){case"insert_node":case"remove_node":return cr.isPath(e.path)&&jr.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&cr.isPath(e.path);case"merge_node":return"number"==typeof e.position&&cr.isPath(e.path)&&mn(e.properties);case"move_node":return cr.isPath(e.path)&&cr.isPath(e.newPath);case"set_node":return cr.isPath(e.path)&&mn(e.properties)&&mn(e.newProperties);case"set_selection":return null===e.properties&&Or.isRange(e.newProperties)||null===e.newProperties&&Or.isRange(e.properties)||mn(e.properties)&&mn(e.newProperties);case"split_node":return cr.isPath(e.path)&&"number"==typeof e.position&&mn(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>Tr.isOperation(e))),isSelectionOperation:e=>Tr.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>Tr.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Sr(Sr({},e),{},{type:"remove_node"});case"insert_text":return Sr(Sr({},e),{},{type:"remove_text"});case"merge_node":return Sr(Sr({},e),{},{type:"split_node",path:cr.previous(e.path)});case"move_node":var{newPath:t,path:o}=e;if(cr.equals(t,o))return e;if(cr.isSibling(o,t))return Sr(Sr({},e),{},{path:t,newPath:o});var n=cr.transform(o,e),r=cr.transform(cr.next(o),e);return Sr(Sr({},e),{},{path:n,newPath:r});case"remove_node":return Sr(Sr({},e),{},{type:"insert_node"});case"remove_text":return Sr(Sr({},e),{},{type:"insert_text"});case"set_node":var{properties:i,newProperties:a}=e;return Sr(Sr({},e),{},{properties:a,newProperties:i});case"set_selection":var{properties:l,newProperties:s}=e;return Sr(Sr({},e),{},null==l?{properties:s,newProperties:null}:null==s?{properties:null,newProperties:l}:{properties:s,newProperties:l});case"split_node":return Sr(Sr({},e),{},{type:"merge_node",path:cr.next(e.path)})}}},Ar=new WeakMap,Nr={above:(e,t)=>e.above(t),addMark(e,t,o){e.addMark(t,o)},after:(e,t,o)=>e.after(t,o),before:(e,t,o)=>e.before(t,o),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:o="character"}=t;e.deleteBackward(o)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:o="character"}=t;e.deleteForward(o)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,o){e.insertFragment(t,o)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,o)=>e.isEdge(t,o),isEditor:e=>(e=>{var t=Ar.get(e);if(void 0!==t)return t;if(!mn(e))return!1;var o="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||mn(e.marks))&&(null===e.selection||Or.isRange(e.selection))&&jr.isNodeList(e.children)&&Tr.isOperationList(e.operations);return Ar.set(e,o),o})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,o)=>e.isEnd(t,o),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,o)=>e.isStart(t,o),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,o)=>e.leaf(t,o),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,o)=>e.node(t,o),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,o)=>e.parent(t,o),path:(e,t,o)=>e.path(t,o),pathRef:(e,t,o)=>e.pathRef(t,o),pathRefs:e=>e.pathRefs(),point:(e,t,o)=>e.point(t,o),pointRef:(e,t,o)=>e.pointRef(t,o),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,o)=>e.range(t,o),rangeRef:(e,t,o)=>e.rangeRef(t,o),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,o)=>e.string(t,o),unhangRange:(e,t,o)=>e.unhangRange(t,o),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)}};function Fr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Lr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Fr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Dr={compare(e,t){var o=cr.compare(e.path,t.path);return 0===o?e.offset<t.offset?-1:e.offset>t.offset?1:0:o},isAfter:(e,t)=>1===Dr.compare(e,t),isBefore:(e,t)=>-1===Dr.compare(e,t),equals:(e,t)=>e.offset===t.offset&&cr.equals(e.path,t.path),isPoint:e=>mn(e)&&"number"==typeof e.offset&&cr.isPath(e.path),transform(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ar(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=o,{path:r,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=cr.transform(r,t,o);break;case"insert_text":cr.equals(t.path,r)&&(t.offset<i||t.offset===i&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":cr.equals(t.path,r)&&(e.offset+=t.position),e.path=cr.transform(r,t,o);break;case"remove_text":cr.equals(t.path,r)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(cr.equals(t.path,r)||cr.isAncestor(t.path,r))return null;e.path=cr.transform(r,t,o);break;case"split_node":if(cr.equals(t.path,r)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=cr.transform(r,t,Lr(Lr({},o),{},{affinity:"forward"})))}else e.path=cr.transform(r,t,o)}}))}},Mr=void 0,Br={setScrubber(e){Mr=e},stringify:e=>JSON.stringify(e,Mr)},Ir=["text"],zr=["anchor","focus"];function Vr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function qr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Vr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Hr,Wr={equals(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=o;function r(e){return br(e,Ir)}return vr(n?r(e):e,n?r(t):t)},isText:e=>mn(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>Wr.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var o in t)if("text"!==o&&(!e.hasOwnProperty(o)||e[o]!==t[o]))return!1;return!0},decorations(e,t){var o=[qr({},e)];for(var n of t){var r=br(n,zr),[i,a]=Or.edges(n),l=[],s=0,c=i.offset,u=a.offset;for(var f of o){var{length:d}=f.text,p=s;if(s+=d,c<=p&&s<=u)Object.assign(f,r),l.push(f);else if(c!==u&&(c===s||u===p)||c>s||u<p||u===p&&0!==p)l.push(f);else{var h=f,g=void 0,y=void 0;if(u<s){var m=u-p;y=qr(qr({},h),{},{text:h.text.slice(m)}),h=qr(qr({},h),{},{text:h.text.slice(0,m)})}if(c>p){var v=c-p;g=qr(qr({},h),{},{text:h.text.slice(0,v)}),h=qr(qr({},h),{},{text:h.text.slice(v)})}Object.assign(h,r),g&&l.push(g),l.push(h),y&&l.push(y)}}o=l}return o}},Gr=e=>e.selection?e.selection:e.children.length>0?Nr.end(e,[]):[0];!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(Hr||(Hr={})),Hr.L,Hr.L,Hr.V,Hr.LV,Hr.LVT,Hr.LV,Hr.V,Hr.V,Hr.T,Hr.LVT,Hr.T,Hr.T,Hr.Any,Hr.Extend,Hr.ZWJ,Hr.Any,Hr.SpacingMark,Hr.Prepend,Hr.Any,Hr.ZWJ,Hr.ExtPict,Hr.RI,Hr.RI;var $r={delete(e,t){e.delete(t)},insertFragment(e,t,o){e.insertFragment(t,o)},insertText(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Nr.withoutNormalizing(e,(()=>{var{voids:n=!1}=o,{at:r=Gr(e)}=o;if(cr.isPath(r)&&(r=Nr.range(e,r)),Or.isRange(r))if(Or.isCollapsed(r))r=r.anchor;else{var i=Or.end(r);if(!n&&Nr.void(e,{at:i}))return;var a=Or.start(r),l=Nr.pointRef(e,a),s=Nr.pointRef(e,i);Kr.delete(e,{at:r,voids:n});var c=l.unref(),u=s.unref();r=c||u,Kr.setSelection(e,{anchor:r,focus:r})}if(!(!n&&Nr.void(e,{at:r})||Nr.elementReadOnly(e,{at:r}))){var{path:f,offset:d}=r;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}}))}};function Zr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ur(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Zr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Kr=Ur(Ur(Ur(Ur({},gr),yr),mr),$r);function Yr({editor:e,view:t,onClose:o}){return{actions:Object.keys(e.blocks).filter((t=>function(e,t){var o;const n=e.blocks[t];if(!n)return!1;const r=x(n.elements);return"void"!==(null===(o=null==r?void 0:r.props)||void 0===o?void 0:o.nodeType)}(e,t))).map((t=>{var o,n,r,i;return{type:t,title:(null===(n=null===(o=e.blocks[t].options)||void 0===o?void 0:o.display)||void 0===n?void 0:n.title)||t,description:null===(i=null===(r=e.blocks[t].options)||void 0===r?void 0:r.display)||void 0===i?void 0:i.description}})),onClose:o,empty:!1,getItemProps:t=>({onMouseEnter:()=>{},"data-action-menu-item":!0,"data-action-menu-item-type":t,"aria-selected":!1,onClick:()=>{e.blocks[t].toggle({focus:!0}),o()}}),getRootProps:()=>({"data-action-menu-list":!0}),editor:e,view:t}}const Jr=e=>{const[t]=Nr.nodes(e,{match:e=>!Nr.isEditor(e)&&_r.isElement(e)&&"link"===e.type});return t},Xr={link:!1,highlight:!1,actionMenu:!1},Qr=({activeBlock:n,editor:r,toggleHoldToolbar:i})=>{var a,l;const[s,c]=v({link:!1,highlight:!1,actionMenu:!1}),[u,f]=v({title:"",url:""}),d=m(null),p=O(),h=(e,t)=>{c((()=>Object.assign(Object.assign({},Xr),{[e]:t})))},{refs:g,floatingStyles:b}=sn({placement:"bottom-start",open:s.actionMenu,onOpenChange:e=>h("actionMenu",e),middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),{refs:w,floatingStyles:x}=sn({placement:"top-end",open:s.highlight,onOpenChange:e=>h("highlight",e),middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),{refs:E,floatingStyles:P}=sn({placement:"top-start",open:s.link,onOpenChange:e=>h("link",e),middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),k=e=>{var t,o;return{backgroundColor:(null===(t=r.formats[e])||void 0===t?void 0:t.isActive())?"#1183ff":void 0,color:(null===(o=r.formats[e])||void 0===o?void 0:o.isActive())?"#fff":void 0}},R=r.formats.highlight,T=null==R?void 0:R.getValue(),N=(null===(l=null===(a=null==n?void 0:n.options)||void 0===a?void 0:a.display)||void 0===l?void 0:l.title)||(null==n?void 0:n.type)||"",L=p.ActionMenu,M=p.LinkTool;y((()=>{const e=e=>{if(_.isEscape(e))return c(Xr),void(null==i||i(!1))};if(s.link){const e=C(r);if(!e||!e.selection)return;d.current=e.selection;const t=Nr.string(e,null==e?void 0:e.selection),o=Jr(e),n={title:t,url:""};if(o){const[e]=o;n.url=e.props.url}f(n)}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r.selection,r.children,s.link]);const I=e=>s[e],V=e=>({backgroundColor:I(e)?"#f4f4f5":void 0}),q=e=>{c(Xr),r.formats[e].toggle()},H=Yr({editor:r,onClose:()=>h("actionMenu",!1),view:"small"});return t(ot,Object.assign({className:"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-flex yoo-toolbar-z-50 yoo-toolbar-p-[5px] yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border-[1px] yoo-toolbar-border-solid yoo-toolbar-border-[#e3e3e3] yoo-toolbar-shadow-y-[4px]"},{children:[e(rt,Object.assign({className:"yoo-toolbar-flex yoo-toolbar-items-center",type:"single","aria-label":"Block formatting"},{children:t(it,Object.assign({className:"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md",value:N,"aria-label":N,ref:g.setReference,onClick:()=>h("actionMenu",!s.actionMenu),style:V("actionMenu")},{children:[e("span",Object.assign({className:"yoo-toolbar-mr-0"},{children:N})),s.actionMenu&&!!L&&e(nn,Object.assign({id:"yoo-toolbar-action-menu-list-portal",root:document.getElementById("yoopta-editor")},{children:e("div",Object.assign({style:b,ref:g.setFloating,onClick:e=>e.stopPropagation()},{children:e(L,Object.assign({},H))}))}))]}))})),e(nt,{className:"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]"}),e(rt,Object.assign({className:"yoo-toolbar-flex yoo-toolbar-items-center",type:"single","aria-label":"Block formatting"},{children:t(it,Object.assign({className:"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md",value:"LinkTool","aria-label":"LinkTool",ref:E.setReference,onClick:()=>{h("link",!s.link),null==i||i(!0)},style:V("link")},{children:[e("span",Object.assign({className:"yoo-toolbar-mr-0"},{children:"Link"})),s.link&&!!M&&e(nn,Object.assign({id:"yoo-link-tool-portal",root:document.getElementById("yoopta-editor")},{children:e(ln,Object.assign({lockScroll:!0,className:"z-[100]",onClick:e=>{var t;e.stopPropagation(),e.preventDefault(),(null===(t=E.floating.current)||void 0===t?void 0:t.contains(e.target))||(null==i||i(!1),c(Xr))}},{children:e("div",Object.assign({style:P,ref:E.setFloating},{children:e(M,{link:u,onSave:e=>{const t=C(r);t&&Nr.withoutNormalizing(t,(()=>{if(!t.selection)return;const o=Jr(t);if(o){const[n]=o,r={props:Object.assign(Object.assign({},null==n?void 0:n.props),{url:e.url,title:e.title})};Kr.setNodes(t,r,{match:e=>_r.isElement(e)&&"link"===e.type}),Nr.insertText(t,e.title||e.url,{at:t.selection}),Kr.collapse(t,{edge:"end"})}else{const o={type:"link",children:[{text:e.title}],props:{target:"_blank",rel:"noreferrer",nodeType:"inline",url:e.url,title:e.title}};Kr.wrapNodes(t,o,{split:!0,at:t.selection}),Kr.setNodes(t,{text:e.title},{at:t.selection,mode:"lowest",match:e=>!Nr.isEditor(e)&&_r.isElement(e)&&"link"===e.type}),Nr.insertText(t,e.title||e.url,{at:t.selection}),Kr.collapse(t,{edge:"end"})}r.applyChanges(),r.emit("change",r.children),h("link",!1),f({title:"",url:""}),null==i||i(!1)}))},onDelete:()=>{const e=C(r);if(!e||!e.selection)return;Jr(e)&&Kr.unwrapNodes(e,{match:e=>!Nr.isEditor(e)&&_r.isElement(e)&&"link"===e.type}),h("link",!1),f({title:"",url:""}),null==i||i(!1)}})}))}))}))]}))})),e(nt,{className:"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]"}),t(rt,Object.assign({className:"yoo-toolbar-flex yoo-toolbar-items-center",type:"multiple","aria-label":"Text formatting"},{children:[r.formats.bold&&e(it,Object.assign({className:"yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"bold","aria-label":"Bold",style:k("bold"),onClick:()=>q("bold")},{children:e(F,{width:20,height:20})})),r.formats.italic&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"italic","aria-label":"Italic",style:k("italic"),onClick:()=>q("italic")},{children:e(D,{width:20,height:20})})),r.formats.underline&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"underline","aria-label":"Underline",style:k("underline"),onClick:()=>q("underline")},{children:e(z,{width:20,height:20})})),r.formats.strike&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"strike","aria-label":"Strike",style:k("strike"),onClick:()=>q("strike")},{children:e(B,{width:20,height:20})})),r.formats.code&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"code","aria-label":"Code",style:k("code"),onClick:()=>q("code")},{children:e(A,{width:20,height:20})})),r.formats.highlight&&t(o,{children:[s.highlight&&e(gn,{editor:r,floatingStyles:x,refs:w,onClose:()=>h("highlight",!1),highlightColors:T}),t(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"highlight","aria-label":"Highlight",style:(()=>{const e=V("highlight");return{color:null==T?void 0:T.color,backgroundColor:e.backgroundColor||(null==T?void 0:T.backgroundColor),backgroundImage:null==T?void 0:T.backgroundImage,WebkitTextFillColor:null==T?void 0:T.webkitTextFillColor}})(),ref:w.setReference,onClick:()=>h("highlight",!s.highlight)},{children:[e("span",Object.assign({className:"yoo-toolbar-text-lg yoo-toolbar-px-1 yoo-toolbar-font-serif yoo-toolbar-text-col"},{children:"A"})),s.highlight?e(S,{width:10}):e(j,{width:10})]}))]})]}))]}))};var ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ti="Expected a function",oi=NaN,ni="[object Symbol]",ri=/^\s+|\s+$/g,ii=/^[-+]0x[0-9a-f]+$/i,ai=/^0b[01]+$/i,li=/^0o[0-7]+$/i,si=parseInt,ci="object"==typeof ei&&ei&&ei.Object===Object&&ei,ui="object"==typeof self&&self&&self.Object===Object&&self,fi=ci||ui||Function("return this")(),di=Object.prototype.toString,pi=Math.max,hi=Math.min,gi=function(){return fi.Date.now()};function yi(e,t,o){var n,r,i,a,l,s,c=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(ti);function p(t){var o=n,i=r;return n=r=void 0,c=t,a=e.apply(i,o)}function h(e){var o=e-s;return void 0===s||o>=t||o<0||f&&e-c>=i}function g(){var e=gi();if(h(e))return y(e);l=setTimeout(g,function(e){var o=t-(e-s);return f?hi(o,i-(e-c)):o}(e))}function y(e){return l=void 0,d&&n?p(e):(n=r=void 0,a)}function m(){var e=gi(),o=h(e);if(n=arguments,r=this,s=e,o){if(void 0===l)return function(e){return c=e,l=setTimeout(g,t),u?p(e):a}(s);if(f)return l=setTimeout(g,t),p(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=vi(t)||0,mi(o)&&(u=!!o.leading,i=(f="maxWait"in o)?pi(vi(o.maxWait)||0,t):i,d="trailing"in o?!!o.trailing:d),m.cancel=function(){void 0!==l&&clearTimeout(l),c=0,n=s=r=l=void 0},m.flush=function(){return void 0===l?a:y(gi())},m}function mi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function vi(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&di.call(e)==ni}(e))return oi;if(mi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=mi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ri,"");var o=ai.test(e);return o||li.test(e)?si(e.slice(2),o?2:8):ii.test(e)?oi:+e}var bi=function(e,t,o){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError(ti);return mi(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),yi(e,t,{leading:n,maxWait:t,trailing:r})};const wi=({render:t})=>{const o=E(),[r,i]=v(!1),[a,l]=v(!1),{refs:s,floatingStyles:c,context:u}=sn({placement:"top",open:r,onOpenChange:i,middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),{isMounted:f,styles:d}=function(e,t){void 0===t&&(t={});const{initial:o={opacity:0},open:r,close:i,common:a,duration:l=250}=t,s=e.placement,c=s.split("-")[0],u=n.useMemo((()=>({side:c,placement:s})),[c,s]),f="number"==typeof l,d=(f?l:l.open)||0,p=(f?l:l.close)||0,[h,g]=n.useState((()=>({...un(a,u),...un(o,u)}))),{isMounted:y,status:m}=fn(e,{duration:l}),v=$o(o),b=$o(r),w=$o(i),x=$o(a);return Mo((()=>{const e=un(v.current,u),t=un(w.current,u),o=un(x.current,u),n=un(b.current,u)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===m&&g((t=>({transitionProperty:t.transitionProperty,...o,...e}))),"open"===m&&g({transitionProperty:Object.keys(n).map(cn).join(","),transitionDuration:d+"ms",...o,...n}),"close"===m){const n=t||e;g({transitionProperty:Object.keys(n).map(cn).join(","),transitionDuration:p+"ms",...o,...n})}}),[p,w,v,b,x,d,m,u]),{isMounted:y,styles:h}}(u,{duration:100}),p=bi((()=>{if(a)return;const e=window.getSelection();if(!e||(null==e?void 0:e.isCollapsed))return i(!1);const t=e.getRangeAt(0),o=t.getBoundingClientRect(),n=t.toString().trim(),r=document.querySelectorAll("[data-custom-editor]"),l=document.getElementById("yoopta-editor"),c=null==t?void 0:t.commonAncestorContainer;let u=!1;for(let e=0;e<r.length;e++)if(r[e].contains(c)){u=!0;break}if(!(null==l?void 0:l.contains(c))||u)return i(!1);t&&n.length>0&&(s.setReference({getBoundingClientRect:()=>o,getClientRects:()=>t.getClientRects()}),i(!0))}),200);if(y((()=>(window.document.addEventListener("selectionchange",p),()=>window.document.removeEventListener("selectionchange",p))),[o.selectedBlocks,a,o.children]),!f)return null;const h=Object.values(o.blocks).find((e=>e.isActive())),g=Object.assign(Object.assign({},c),d),m=e=>l(e);if(t){const n=t;return e(nn,Object.assign({id:"yoo-toolbar-portal",root:document.getElementById("yoopta-editor")},{children:e("div",Object.assign({style:g,ref:s.setFloating,onClick:e=>e.stopPropagation()},{children:e(n,{activeBlock:h,editor:o,toggleHoldToolbar:m})}))}))}return e(nn,Object.assign({id:"yoo-toolbar-portal",root:document.getElementById("yoopta-editor")},{children:e("div",Object.assign({style:g,ref:s.setFloating,onClick:e=>e.stopPropagation()},{children:e(Qr,{activeBlock:h,editor:o,toggleHoldToolbar:m})}))}))};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("#yoopta-editor .yoo-toolbar-z-50{z-index:50}#yoopta-editor .yoo-toolbar-mx-\\[2px\\]{margin-left:2px;margin-right:2px}#yoopta-editor .yoo-toolbar-mx-\\[6px\\]{margin-left:6px;margin-right:6px}#yoopta-editor .yoo-toolbar-my-0{margin-bottom:0;margin-top:0}#yoopta-editor .yoo-toolbar-my-\\[5px\\]{margin-bottom:5px;margin-top:5px}#yoopta-editor .yoo-toolbar-ml-\\[2px\\]{margin-left:2px}#yoopta-editor .yoo-toolbar-mr-0{margin-right:0}#yoopta-editor .yoo-toolbar-mt-1{margin-top:.25rem}#yoopta-editor .yoo-toolbar-flex{display:flex}#yoopta-editor .yoo-toolbar-inline-flex{display:inline-flex}#yoopta-editor .yoo-toolbar-h-\\[20px\\]{height:20px}#yoopta-editor .yoo-toolbar-h-\\[25px\\]{height:25px}#yoopta-editor .yoo-toolbar-h-\\[32px\\]{height:32px}#yoopta-editor .yoo-toolbar-h-full{height:100%}#yoopta-editor .yoo-toolbar-w-\\[1px\\]{width:1px}#yoopta-editor .yoo-toolbar-w-\\[20px\\]{width:20px}#yoopta-editor .yoo-toolbar-w-\\[25px\\]{width:25px}#yoopta-editor .yoo-toolbar-cursor-pointer{cursor:pointer}#yoopta-editor .yoo-toolbar-items-center{align-items:center}#yoopta-editor .yoo-toolbar-justify-center{justify-content:center}#yoopta-editor .yoo-toolbar-justify-between{justify-content:space-between}#yoopta-editor .yoo-toolbar-rounded-md{border-radius:.375rem}#yoopta-editor .yoo-toolbar-border,#yoopta-editor .yoo-toolbar-border-\\[1px\\]{border-width:1px}#yoopta-editor .yoo-toolbar-border-solid{border-style:solid}#yoopta-editor .yoo-toolbar-border-\\[\\#e3e3e3\\]{--tw-border-opacity:1;border-color:rgb(227 227 227/var(--tw-border-opacity))}#yoopta-editor .yoo-toolbar-border-\\[\\#e5e7eb\\]{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}#yoopta-editor .yoo-toolbar-bg-\\[\\#FFFFFF\\]{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}#yoopta-editor .yoo-toolbar-bg-\\[\\#dbd8e0\\]{--tw-bg-opacity:1;background-color:rgb(219 216 224/var(--tw-bg-opacity))}#yoopta-editor .yoo-toolbar-p-\\[5px\\]{padding:5px}#yoopta-editor .yoo-toolbar-px-1{padding-left:.25rem;padding-right:.25rem}#yoopta-editor .yoo-toolbar-px-\\[10px\\]{padding-left:10px;padding-right:10px}#yoopta-editor .yoo-toolbar-px-\\[5px\\]{padding-left:5px;padding-right:5px}#yoopta-editor .yoo-toolbar-py-0{padding-bottom:0;padding-top:0}#yoopta-editor .yoo-toolbar-font-serif{font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}#yoopta-editor .yoo-toolbar-text-\\[16px\\]{font-size:16px}#yoopta-editor .yoo-toolbar-text-lg{font-size:1.125rem;line-height:1.75rem}#yoopta-editor .yoo-toolbar-text-xs{font-size:.75rem;line-height:1rem}#yoopta-editor .yoo-toolbar-line-through{text-decoration-line:line-through}#yoopta-editor .yoo-toolbar-shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}#yoopta-editor .hover\\:yoo-toolbar-bg-\\[\\#f4f4f5\\]:hover{--tw-bg-opacity:1;background-color:rgb(244 244 245/var(--tw-bg-opacity))}");export{Qr as DefaultToolbarRender,wi as default};
+function yn(e){return"[object Object]"===Object.prototype.toString.call(e)}function mn(e){var t,o;return!1!==yn(e)&&(void 0===(t=e.constructor)||!1!==yn(o=t.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}var vn=Symbol.for("immer-nothing"),bn=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function xn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var On=Object.getPrototypeOf;function Cn(e){return!!e&&!!e[wn]}function _n(e){return!!e&&(Pn(e)||Array.isArray(e)||!!e[bn]||!!e.constructor?.[bn]||Tn(e)||An(e))}var En=Object.prototype.constructor.toString();function Pn(e){if(!e||"object"!=typeof e)return!1;const t=On(e);if(null===t)return!0;const o=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return o===Object||"function"==typeof o&&Function.toString.call(o)===En}function kn(e,t){0===jn(e)?Reflect.ownKeys(e).forEach((o=>{t(o,e[o],e)})):e.forEach(((o,n)=>t(n,o,e)))}function jn(e){const t=e[wn];return t?t.type_:Array.isArray(e)?1:Tn(e)?2:An(e)?3:0}function Rn(e,t){return 2===jn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Sn(e,t,o){const n=jn(e);2===n?e.set(t,o):3===n?e.add(o):e[t]=o}function Tn(e){return e instanceof Map}function An(e){return e instanceof Set}function Nn(e){return e.copy_||e.base_}function Fn(e,t){if(Tn(e))return new Map(e);if(An(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Pn(e)){if(!On(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const o=Object.getOwnPropertyDescriptors(e);delete o[wn];let n=Reflect.ownKeys(o);for(let t=0;t<n.length;t++){const r=n[t],i=o[r];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(o[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[r]})}return Object.create(On(e),o)}function Ln(e,t=!1){return Mn(e)||Cn(e)||!_n(e)||(jn(e)>1&&(e.set=e.add=e.clear=e.delete=Dn),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>Ln(t,!0)))),e}function Dn(){xn(2)}function Mn(e){return Object.isFrozen(e)}var Bn,In={};function zn(e){const t=In[e];return t||xn(0),t}function Vn(){return Bn}function qn(e,t){t&&(zn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hn(e){Wn(e),e.drafts_.forEach($n),e.drafts_=null}function Wn(e){e===Bn&&(Bn=e.parent_)}function Gn(e){return Bn={drafts_:[],parent_:Bn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $n(e){const t=e[wn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Zn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const o=t.drafts_[0];return void 0!==e&&e!==o?(o[wn].modified_&&(Hn(t),xn(4)),_n(e)&&(e=Un(t,e),t.parent_||Yn(t,e)),t.patches_&&zn("Patches").generateReplacementPatches_(o[wn].base_,e,t.patches_,t.inversePatches_)):e=Un(t,o,[]),Hn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vn?e:void 0}function Un(e,t,o){if(Mn(t))return t;const n=t[wn];if(!n)return kn(t,((r,i)=>Kn(e,n,t,r,i,o))),t;if(n.scope_!==e)return t;if(!n.modified_)return Yn(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let r=t,i=!1;3===n.type_&&(r=new Set(t),t.clear(),i=!0),kn(r,((r,a)=>Kn(e,n,t,r,a,o,i))),Yn(e,t,!1),o&&e.patches_&&zn("Patches").generatePatches_(n,o,e.patches_,e.inversePatches_)}return n.copy_}function Kn(e,t,o,n,r,i,a){if(Cn(r)){const a=Un(e,r,i&&t&&3!==t.type_&&!Rn(t.assigned_,n)?i.concat(n):void 0);if(Sn(o,n,a),!Cn(a))return;e.canAutoFreeze_=!1}else a&&o.add(r);if(_n(r)&&!Mn(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Un(e,r),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(o,n)||Yn(e,r)}}function Yn(e,t,o=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ln(t,o)}var Jn={get(e,t){if(t===wn)return e;const o=Nn(e);if(!Rn(o,t))return function(e,t,o){const n=er(t,o);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,o,t);const n=o[t];return e.finalized_||!_n(n)?n:n===Qn(e.base_,t)?(or(e),e.copy_[t]=nr(n,e)):n},has:(e,t)=>t in Nn(e),ownKeys:e=>Reflect.ownKeys(Nn(e)),set(e,t,o){const n=er(Nn(e),t);if(n?.set)return n.set.call(e.draft_,o),!0;if(!e.modified_){const n=Qn(Nn(e),t),a=n?.[wn];if(a&&a.base_===o)return e.copy_[t]=o,e.assigned_[t]=!1,!0;if(((r=o)===(i=n)?0!==r||1/r==1/i:r!=r&&i!=i)&&(void 0!==o||Rn(e.base_,t)))return!0;or(e),tr(e)}var r,i;return e.copy_[t]===o&&(void 0!==o||t in e.copy_)||Number.isNaN(o)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=o,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Qn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,or(e),tr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const o=Nn(e),n=Reflect.getOwnPropertyDescriptor(o,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:o[t]}:n},defineProperty(){xn(11)},getPrototypeOf:e=>On(e.base_),setPrototypeOf(){xn(12)}},Xn={};function Qn(e,t){const o=e[wn];return(o?Nn(o):e)[t]}function er(e,t){if(!(t in e))return;let o=On(e);for(;o;){const e=Object.getOwnPropertyDescriptor(o,t);if(e)return e;o=On(o)}}function tr(e){e.modified_||(e.modified_=!0,e.parent_&&tr(e.parent_))}function or(e){e.copy_||(e.copy_=Fn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}kn(Jn,((e,t)=>{Xn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Xn.deleteProperty=function(e,t){return Xn.set.call(this,e,t,void 0)},Xn.set=function(e,t,o){return Jn.set.call(this,e[0],t,o,e[0])};function nr(e,t){const o=Tn(e)?zn("MapSet").proxyMap_(e,t):An(e)?zn("MapSet").proxySet_(e,t):function(e,t){const o=Array.isArray(e),n={type_:o?1:0,scope_:t?t.scope_:Vn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,i=Jn;o&&(r=[n],i=Xn);const{revoke:a,proxy:l}=Proxy.revocable(r,i);return n.draft_=l,n.revoke_=a,l}(e,t);return(t?t.scope_:Vn()).drafts_.push(o),o}function rr(e){if(!_n(e)||Mn(e))return e;const t=e[wn];let o;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,o=Fn(e,t.scope_.immer_.useStrictShallowCopy_)}else o=Fn(e,!0);return kn(o,((e,t)=>{Sn(o,e,rr(t))})),t&&(t.finalized_=!1),o}var ir=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,o)=>{if("function"==typeof e&&"function"!=typeof t){const o=t;t=e;const n=this;return function(e=o,...r){return n.produce(e,(e=>t.call(this,e,...r)))}}let n;if("function"!=typeof t&&xn(6),void 0!==o&&"function"!=typeof o&&xn(7),_n(e)){const r=Gn(this),i=nr(e,void 0);let a=!0;try{n=t(i),a=!1}finally{a?Hn(r):Wn(r)}return qn(r,o),Zn(n,r)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===vn&&(n=void 0),this.autoFreeze_&&Ln(n,!0),o){const t=[],r=[];zn("Patches").generateReplacementPatches_(e,n,t,r),o(t,r)}return n}xn(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...o)=>this.produceWithPatches(t,(t=>e(t,...o)));let o,n;return[this.produce(e,t,((e,t)=>{o=e,n=t})),o,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_n(e)||xn(8),Cn(e)&&(e=function(e){Cn(e)||xn(10);return rr(e)}(e));const t=Gn(this),o=nr(e,void 0);return o[wn].isManual_=!0,Wn(t),o}finishDraft(e,t){const o=e&&e[wn];o&&o.isManual_||xn(9);const{scope_:n}=o;return qn(n,t),Zn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let o;for(o=t.length-1;o>=0;o--){const n=t[o];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}o>-1&&(t=t.slice(o+1));const n=zn("Patches").applyPatches_;return Cn(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},ar=ir.produce;ir.produceWithPatches.bind(ir),ir.setAutoFreeze.bind(ir),ir.setUseStrictShallowCopy.bind(ir),ir.applyPatches.bind(ir);var lr=ir.createDraft.bind(ir),sr=ir.finishDraft.bind(ir),cr={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:o=!1}=t,n=cr.levels(e,t);return n=o?n.slice(1):n.slice(0,-1)},common(e,t){for(var o=[],n=0;n<e.length&&n<t.length;n++){var r=e[n];if(r!==t[n])break;o.push(r)}return o},compare(e,t){for(var o=Math.min(e.length,t.length),n=0;n<o;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var o=e.length-1,n=e.slice(0,o),r=t.slice(0,o),i=e[o],a=t[o];return cr.equals(n,r)&&i>a},endsAt(e,t){var o=e.length,n=e.slice(0,o),r=t.slice(0,o);return cr.equals(n,r)},endsBefore(e,t){var o=e.length-1,n=e.slice(0,o),r=t.slice(0,o),i=e[o],a=t[o];return cr.equals(n,r)&&i<a},equals:(e,t)=>e.length===t.length&&e.every(((e,o)=>e===t[o])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===cr.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===cr.compare(e,t),isBefore:(e,t)=>-1===cr.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===cr.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===cr.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===cr.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===cr.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var o=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&cr.equals(o,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:o=!1}=t,n=[],r=0;r<=e.length;r++)n.push(e.slice(0,r));return o&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!cr.isAncestor(t,e)&&!cr.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:r="forward"}=o;if(0===e.length)return n;switch(t.type){case"insert_node":var{path:i}=t;(cr.equals(i,n)||cr.endsBefore(i,n)||cr.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(cr.equals(a,n)||cr.isAncestor(a,n))return null;cr.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var{path:l,position:s}=t;cr.equals(l,n)||cr.endsBefore(l,n)?n[l.length-1]-=1:cr.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=s);break;case"split_node":var{path:c,position:u}=t;if(cr.equals(c,n)){if("forward"===r)n[n.length-1]+=1;else if("backward"!==r)return null}else cr.endsBefore(c,n)?n[c.length-1]+=1:cr.isAncestor(c,n)&&e[c.length]>=u&&(n[c.length-1]+=1,n[c.length]-=u);break;case"move_node":var{path:f,newPath:d}=t;if(cr.equals(f,d))return n;if(cr.isAncestor(f,n)||cr.equals(f,n)){var p=d.slice();return cr.endsBefore(f,d)&&f.length<d.length&&(p[f.length-1]-=1),p.concat(n.slice(f.length))}cr.isSibling(f,d)&&(cr.isAncestor(d,n)||cr.equals(d,n))?cr.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:cr.endsBefore(d,n)||cr.equals(d,n)||cr.isAncestor(d,n)?(cr.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):cr.endsBefore(f,n)&&(cr.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}return n}};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function fr(e){var t=function(e,t){if("object"!==ur(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ur(t)?t:String(t)}function dr(e,t,o){return(t=fr(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function pr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function hr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):pr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var gr={transform(e,t){e.children=lr(e.children);var o=e.selection&&lr(e.selection);try{o=((e,t,o)=>{switch(o.type){case"insert_node":var{path:n,node:r}=o,i=jr.parent(e,n),a=n[n.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(i.children.splice(a,0,r),t)for(var[l,s]of Or.points(t))t[s]=Dr.transform(l,o);break;case"insert_text":var{path:c,offset:u,text:f}=o;if(0===f.length)break;var d=jr.leaf(e,c),p=d.text.slice(0,u),h=d.text.slice(u);if(d.text=p+f+h,t)for(var[g,y]of Or.points(t))t[y]=Dr.transform(g,o);break;case"merge_node":var{path:m}=o,v=jr.get(e,m),b=cr.previous(m),w=jr.get(e,b),x=jr.parent(e,m),O=m[m.length-1];if(Wr.isText(v)&&Wr.isText(w))w.text+=v.text;else{if(Wr.isText(v)||Wr.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(Br.stringify(v)," ").concat(Br.stringify(w)));w.children.push(...v.children)}if(x.children.splice(O,1),t)for(var[C,_]of Or.points(t))t[_]=Dr.transform(C,o);break;case"move_node":var{path:E,newPath:P}=o;if(cr.isAncestor(E,P))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(P,"] because the destination is inside itself."));var k=jr.get(e,E),j=jr.parent(e,E),R=E[E.length-1];j.children.splice(R,1);var S=cr.transform(E,o),T=jr.get(e,cr.parent(S)),A=S[S.length-1];if(T.children.splice(A,0,k),t)for(var[N,F]of Or.points(t))t[F]=Dr.transform(N,o);break;case"remove_node":var{path:L}=o,D=L[L.length-1];if(jr.parent(e,L).children.splice(D,1),t)for(var[M,B]of Or.points(t)){var I=Dr.transform(M,o);if(null!=t&&null!=I)t[B]=I;else{var z=void 0,V=void 0;for(var[q,H]of jr.texts(e)){if(-1!==cr.compare(H,L)){V=[q,H];break}z=[q,H]}var W=!1;z&&V&&(W=cr.equals(V[1],L)?!cr.hasPrevious(V[1]):cr.common(z[1],L).length<cr.common(V[1],L).length),z&&!W?(M.path=z[1],M.offset=z[0].text.length):V?(M.path=V[1],M.offset=0):t=null}}break;case"remove_text":var{path:G,offset:$,text:Z}=o;if(0===Z.length)break;var U=jr.leaf(e,G),K=U.text.slice(0,$),Y=U.text.slice($+Z.length);if(U.text=K+Y,t)for(var[J,X]of Or.points(t))t[X]=Dr.transform(J,o);break;case"set_node":var{path:Q,properties:ee,newProperties:te}=o;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var oe=jr.get(e,Q);for(var ne in te){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var re=te[ne];null==re?delete oe[ne]:oe[ne]=re}for(var ie in ee)te.hasOwnProperty(ie)||delete oe[ie];break;case"set_selection":var{newProperties:ae}=o;if(null==ae)t=ae;else{if(null==t){if(!Or.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Br.stringify(ae)," when there is no current selection."));t=hr({},ae)}for(var le in ae){var se=ae[le];if(null==se){if("anchor"===le||"focus"===le)throw new Error('Cannot remove the "'.concat(le,'" selection property'));delete t[le]}else t[le]=se}}break;case"split_node":var{path:ce,position:ue,properties:fe}=o;if(0===ce.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ce,"] because the root node cannot be split."));var de,pe=jr.get(e,ce),he=jr.parent(e,ce),ge=ce[ce.length-1];if(Wr.isText(pe)){var ye=pe.text.slice(0,ue),me=pe.text.slice(ue);pe.text=ye,de=hr(hr({},fe),{},{text:me})}else{var ve=pe.children.slice(0,ue),be=pe.children.slice(ue);pe.children=ve,de=hr(hr({},fe),{},{children:be})}if(he.children.splice(ge+1,0,de),t)for(var[we,xe]of Or.points(t))t[xe]=Dr.transform(we,o)}return t})(e,o,t)}finally{e.children=sr(e.children),e.selection=o?Cn(o)?sr(o):o:null}}},yr={insertNodes(e,t,o){e.insertNodes(t,o)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,o){e.setNodes(t,o)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,o){e.unsetNodes(t,o)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,o){e.wrapNodes(t,o)}},mr={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,o){e.setPoint(t,o)},setSelection(e,t){e.setSelection(t)}},vr=(e,t)=>{for(var o in e){var n=e[o],r=t[o];if(mn(n)&&mn(r)){if(!vr(n,r))return!1}else if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==r[i])return!1}else if(n!==r)return!1}for(var a in t)if(void 0===e[a]&&void 0!==t[a])return!1;return!0};function br(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var wr=["anchor","focus"];function xr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var Or={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:o=!1}=t,{anchor:n,focus:r}=e;return Or.isBackward(e)===o?[n,r]:[r,n]},end(e){var[,t]=Or.edges(e);return t},equals:(e,t)=>Dr.equals(e.anchor,t.anchor)&&Dr.equals(e.focus,t.focus),includes(e,t){if(Or.isRange(t)){if(Or.includes(e,t.anchor)||Or.includes(e,t.focus))return!0;var[o,n]=Or.edges(e),[r,i]=Or.edges(t);return Dr.isBefore(o,r)&&Dr.isAfter(n,i)}var[a,l]=Or.edges(e),s=!1,c=!1;return Dr.isPoint(t)?(s=Dr.compare(t,a)>=0,c=Dr.compare(t,l)<=0):(s=cr.compare(t,a.path)>=0,c=cr.compare(t,l.path)<=0),s&&c},intersection(e,t){var o=br(e,wr),[n,r]=Or.edges(e),[i,a]=Or.edges(t),l=Dr.isBefore(n,i)?i:n,s=Dr.isBefore(r,a)?r:a;return Dr.isBefore(s,l)?null:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):xr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({anchor:l,focus:s},o)},isBackward(e){var{anchor:t,focus:o}=e;return Dr.isAfter(t,o)},isCollapsed(e){var{anchor:t,focus:o}=e;return Dr.equals(t,o)},isExpanded:e=>!Or.isCollapsed(e),isForward:e=>!Or.isBackward(e),isRange:e=>mn(e)&&Dr.isPoint(e.anchor)&&Dr.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Or.edges(e);return t},transform(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ar(e,(e=>{if(null===e)return null;var n,r,{affinity:i="inward"}=o;if("inward"===i){var a=Or.isCollapsed(e);Or.isForward(e)?(n="forward",r=a?n:"backward"):(n="backward",r=a?n:"forward")}else"outward"===i?Or.isForward(e)?(n="backward",r="forward"):(n="forward",r="backward"):(n=i,r=i);var l=Dr.transform(e.anchor,t,{affinity:n}),s=Dr.transform(e.focus,t,{affinity:r});if(!l||!s)return null;e.anchor=l,e.focus=s}))}},Cr=e=>mn(e)&&jr.isNodeList(e.children)&&!Nr.isEditor(e),_r={isAncestor:e=>mn(e)&&jr.isNodeList(e.children),isElement:Cr,isElementList:e=>Array.isArray(e)&&e.every((e=>_r.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Cr(e)&&e[o]===t},matches(e,t){for(var o in t)if("children"!==o&&e[o]!==t[o])return!1;return!0}},Er=["children"],Pr=["text"],kr=new WeakMap,jr={ancestor(e,t){var o=jr.get(e,t);if(Wr.isText(o))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Br.stringify(o)));return o},ancestors(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of cr.ancestors(t,o)){var r=[jr.ancestor(e,n),n];yield r}}()},child(e,t){if(Wr.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Br.stringify(e)));var o=e.children[t];if(null==o)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Br.stringify(e)));return o},children(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:n=!1}=o,r=jr.ancestor(e,t),{children:i}=r,a=n?i.length-1:0;n?a>=0:a<i.length;){var l=jr.child(r,a),s=t.concat(a);yield[l,s],a=n?a-1:a+1}}()},common(e,t,o){var n=cr.common(t,o);return[jr.get(e,n),n]},descendant(e,t){var o=jr.get(e,t);if(Nr.isEditor(o))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Br.stringify(o)));return o},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[o,n]of jr.nodes(e,t))0!==n.length&&(yield[o,n])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[o,n]of jr.nodes(e,t))_r.isElement(o)&&(yield[o,n])}()},extractProps:e=>_r.isAncestor(e)?br(e,Er):br(e,Pr),first(e,t){for(var o=t.slice(),n=jr.get(e,o);n&&!Wr.isText(n)&&0!==n.children.length;)n=n.children[0],o.push(0);return[n,o]},fragment(e,t){if(Wr.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Br.stringify(e)));var o=ar({children:e.children},(e=>{var[o,n]=Or.edges(t),r=jr.nodes(e,{reverse:!0,pass:e=>{var[,o]=e;return!Or.includes(t,o)}});for(var[,i]of r){if(!Or.includes(t,i)){var a=jr.parent(e,i),l=i[i.length-1];a.children.splice(l,1)}if(cr.equals(i,n.path)){var s=jr.leaf(e,i);s.text=s.text.slice(0,n.offset)}if(cr.equals(i,o.path)){var c=jr.leaf(e,i);c.text=c.text.slice(o.offset)}}Nr.isEditor(e)&&(e.selection=null)}));return o.children},get(e,t){for(var o=e,n=0;n<t.length;n++){var r=t[n];if(Wr.isText(o)||!o.children[r])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Br.stringify(e)));o=o.children[r]}return o},has(e,t){for(var o=e,n=0;n<t.length;n++){var r=t[n];if(Wr.isText(o)||!o.children[r])return!1;o=o.children[r]}return!0},isNode:e=>Wr.isText(e)||_r.isElement(e)||Nr.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=kr.get(e);if(void 0!==t)return t;var o=e.every((e=>jr.isNode(e)));return kr.set(e,o),o},last(e,t){for(var o=t.slice(),n=jr.get(e,o);n&&!Wr.isText(n)&&0!==n.children.length;){var r=n.children.length-1;n=n.children[r],o.push(r)}return[n,o]},leaf(e,t){var o=jr.get(e,t);if(!Wr.isText(o))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Br.stringify(o)));return o},levels(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var n of cr.levels(t,o)){var r=jr.get(e,n);yield[r,n]}}()},matches:(e,t)=>_r.isElement(e)&&_r.isElementProps(t)&&_r.matches(e,t)||Wr.isText(e)&&Wr.isTextProps(t)&&Wr.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:o,reverse:n=!1}=t,{from:r=[],to:i}=t,a=new Set,l=[],s=e;!i||!(n?cr.isBefore(l,i):cr.isAfter(l,i));)if(a.has(s)||(yield[s,l]),a.has(s)||Wr.isText(s)||0===s.children.length||null!=o&&!1!==o([s,l])){if(0===l.length)break;if(!n){var c=cr.next(l);if(jr.has(e,c)){l=c,s=jr.get(e,l);continue}}if(n&&0!==l[l.length-1])l=cr.previous(l),s=jr.get(e,l);else l=cr.parent(l),s=jr.get(e,l),a.add(s)}else{a.add(s);var u=n?s.children.length-1:0;cr.isAncestor(l,r)&&(u=r[l.length]),l=l.concat(u),s=jr.get(e,l)}}()},parent(e,t){var o=cr.parent(t),n=jr.get(e,o);if(Wr.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>Wr.isText(e)?e.text:e.children.map(jr.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[o,n]of jr.nodes(e,t))Wr.isText(o)&&(yield[o,n])}()}};function Rr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Sr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Rr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Tr={isNodeOperation:e=>Tr.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!mn(e))return!1;switch(e.type){case"insert_node":case"remove_node":return cr.isPath(e.path)&&jr.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&cr.isPath(e.path);case"merge_node":return"number"==typeof e.position&&cr.isPath(e.path)&&mn(e.properties);case"move_node":return cr.isPath(e.path)&&cr.isPath(e.newPath);case"set_node":return cr.isPath(e.path)&&mn(e.properties)&&mn(e.newProperties);case"set_selection":return null===e.properties&&Or.isRange(e.newProperties)||null===e.newProperties&&Or.isRange(e.properties)||mn(e.properties)&&mn(e.newProperties);case"split_node":return cr.isPath(e.path)&&"number"==typeof e.position&&mn(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>Tr.isOperation(e))),isSelectionOperation:e=>Tr.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>Tr.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Sr(Sr({},e),{},{type:"remove_node"});case"insert_text":return Sr(Sr({},e),{},{type:"remove_text"});case"merge_node":return Sr(Sr({},e),{},{type:"split_node",path:cr.previous(e.path)});case"move_node":var{newPath:t,path:o}=e;if(cr.equals(t,o))return e;if(cr.isSibling(o,t))return Sr(Sr({},e),{},{path:t,newPath:o});var n=cr.transform(o,e),r=cr.transform(cr.next(o),e);return Sr(Sr({},e),{},{path:n,newPath:r});case"remove_node":return Sr(Sr({},e),{},{type:"insert_node"});case"remove_text":return Sr(Sr({},e),{},{type:"insert_text"});case"set_node":var{properties:i,newProperties:a}=e;return Sr(Sr({},e),{},{properties:a,newProperties:i});case"set_selection":var{properties:l,newProperties:s}=e;return Sr(Sr({},e),{},null==l?{properties:s,newProperties:null}:null==s?{properties:null,newProperties:l}:{properties:s,newProperties:l});case"split_node":return Sr(Sr({},e),{},{type:"merge_node",path:cr.next(e.path)})}}},Ar=new WeakMap,Nr={above:(e,t)=>e.above(t),addMark(e,t,o){e.addMark(t,o)},after:(e,t,o)=>e.after(t,o),before:(e,t,o)=>e.before(t,o),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:o="character"}=t;e.deleteBackward(o)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:o="character"}=t;e.deleteForward(o)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,o){e.insertFragment(t,o)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,o)=>e.isEdge(t,o),isEditor:e=>(e=>{var t=Ar.get(e);if(void 0!==t)return t;if(!mn(e))return!1;var o="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||mn(e.marks))&&(null===e.selection||Or.isRange(e.selection))&&jr.isNodeList(e.children)&&Tr.isOperationList(e.operations);return Ar.set(e,o),o})(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,o)=>e.isEnd(t,o),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,o)=>e.isStart(t,o),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,o)=>e.leaf(t,o),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,o)=>e.node(t,o),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,o)=>e.parent(t,o),path:(e,t,o)=>e.path(t,o),pathRef:(e,t,o)=>e.pathRef(t,o),pathRefs:e=>e.pathRefs(),point:(e,t,o)=>e.point(t,o),pointRef:(e,t,o)=>e.pointRef(t,o),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,o)=>e.range(t,o),rangeRef:(e,t,o)=>e.rangeRef(t,o),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,o)=>e.string(t,o),unhangRange:(e,t,o)=>e.unhangRange(t,o),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)}};function Fr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Lr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Fr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Dr={compare(e,t){var o=cr.compare(e.path,t.path);return 0===o?e.offset<t.offset?-1:e.offset>t.offset?1:0:o},isAfter:(e,t)=>1===Dr.compare(e,t),isBefore:(e,t)=>-1===Dr.compare(e,t),equals:(e,t)=>e.offset===t.offset&&cr.equals(e.path,t.path),isPoint:e=>mn(e)&&"number"==typeof e.offset&&cr.isPath(e.path),transform(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ar(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=o,{path:r,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=cr.transform(r,t,o);break;case"insert_text":cr.equals(t.path,r)&&(t.offset<i||t.offset===i&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":cr.equals(t.path,r)&&(e.offset+=t.position),e.path=cr.transform(r,t,o);break;case"remove_text":cr.equals(t.path,r)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(cr.equals(t.path,r)||cr.isAncestor(t.path,r))return null;e.path=cr.transform(r,t,o);break;case"split_node":if(cr.equals(t.path,r)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=cr.transform(r,t,Lr(Lr({},o),{},{affinity:"forward"})))}else e.path=cr.transform(r,t,o)}}))}},Mr=void 0,Br={setScrubber(e){Mr=e},stringify:e=>JSON.stringify(e,Mr)},Ir=["text"],zr=["anchor","focus"];function Vr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function qr(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Vr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Hr,Wr={equals(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=o;function r(e){return br(e,Ir)}return vr(n?r(e):e,n?r(t):t)},isText:e=>mn(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>Wr.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var o in t)if("text"!==o&&(!e.hasOwnProperty(o)||e[o]!==t[o]))return!1;return!0},decorations(e,t){var o=[qr({},e)];for(var n of t){var r=br(n,zr),[i,a]=Or.edges(n),l=[],s=0,c=i.offset,u=a.offset;for(var f of o){var{length:d}=f.text,p=s;if(s+=d,c<=p&&s<=u)Object.assign(f,r),l.push(f);else if(c!==u&&(c===s||u===p)||c>s||u<p||u===p&&0!==p)l.push(f);else{var h=f,g=void 0,y=void 0;if(u<s){var m=u-p;y=qr(qr({},h),{},{text:h.text.slice(m)}),h=qr(qr({},h),{},{text:h.text.slice(0,m)})}if(c>p){var v=c-p;g=qr(qr({},h),{},{text:h.text.slice(0,v)}),h=qr(qr({},h),{},{text:h.text.slice(v)})}Object.assign(h,r),g&&l.push(g),l.push(h),y&&l.push(y)}}o=l}return o}},Gr=e=>e.selection?e.selection:e.children.length>0?Nr.end(e,[]):[0];!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(Hr||(Hr={})),Hr.L,Hr.L,Hr.V,Hr.LV,Hr.LVT,Hr.LV,Hr.V,Hr.V,Hr.T,Hr.LVT,Hr.T,Hr.T,Hr.Any,Hr.Extend,Hr.ZWJ,Hr.Any,Hr.SpacingMark,Hr.Prepend,Hr.Any,Hr.ZWJ,Hr.ExtPict,Hr.RI,Hr.RI;var $r={delete(e,t){e.delete(t)},insertFragment(e,t,o){e.insertFragment(t,o)},insertText(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Nr.withoutNormalizing(e,(()=>{var{voids:n=!1}=o,{at:r=Gr(e)}=o;if(cr.isPath(r)&&(r=Nr.range(e,r)),Or.isRange(r))if(Or.isCollapsed(r))r=r.anchor;else{var i=Or.end(r);if(!n&&Nr.void(e,{at:i}))return;var a=Or.start(r),l=Nr.pointRef(e,a),s=Nr.pointRef(e,i);Kr.delete(e,{at:r,voids:n});var c=l.unref(),u=s.unref();r=c||u,Kr.setSelection(e,{anchor:r,focus:r})}if(!(!n&&Nr.void(e,{at:r})||Nr.elementReadOnly(e,{at:r}))){var{path:f,offset:d}=r;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}}))}};function Zr(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ur(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(o),!0).forEach((function(t){dr(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Zr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Kr=Ur(Ur(Ur(Ur({},gr),yr),mr),$r);function Yr({editor:e,view:t,onClose:o}){return{actions:Object.keys(e.blocks).filter((t=>function(e,t){var o;const n=e.blocks[t];if(!n)return!1;const r=x(n.elements);return"void"!==(null===(o=null==r?void 0:r.props)||void 0===o?void 0:o.nodeType)}(e,t))).map((t=>{var o,n,r,i;return{type:t,title:(null===(n=null===(o=e.blocks[t].options)||void 0===o?void 0:o.display)||void 0===n?void 0:n.title)||t,description:null===(i=null===(r=e.blocks[t].options)||void 0===r?void 0:r.display)||void 0===i?void 0:i.description}})),onClose:o,empty:!1,getItemProps:t=>({onMouseEnter:()=>{},"data-action-menu-item":!0,"data-action-menu-item-type":t,"aria-selected":!1,onClick:()=>{e.blocks[t].toggle({focus:!0}),o()}}),getRootProps:()=>({"data-action-menu-list":!0}),editor:e,view:t}}const Jr=e=>{const[t]=Nr.nodes(e,{match:e=>!Nr.isEditor(e)&&_r.isElement(e)&&"link"===e.type});return t},Xr={link:!1,highlight:!1,actionMenu:!1},Qr=({activeBlock:n,editor:r,toggleHoldToolbar:i})=>{var a,l;const[s,c]=v({link:!1,highlight:!1,actionMenu:!1}),[u,f]=v({title:"",url:""}),d=m(null),p=O(),h=(e,t)=>{c((()=>Object.assign(Object.assign({},Xr),{[e]:t})))},{refs:g,floatingStyles:b}=sn({placement:"bottom-start",open:s.actionMenu,onOpenChange:e=>h("actionMenu",e),middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),{refs:w,floatingStyles:x}=sn({placement:"top-end",open:s.highlight,onOpenChange:e=>h("highlight",e),middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),{refs:E,floatingStyles:P}=sn({placement:"top-start",open:s.link,onOpenChange:e=>h("link",e),middleware:[uo(),co(),so(),Gt(10)],whileElementsMounted:lo}),k=e=>{var t,o;return{backgroundColor:(null===(t=r.formats[e])||void 0===t?void 0:t.isActive())?"#1183ff":void 0,color:(null===(o=r.formats[e])||void 0===o?void 0:o.isActive())?"#fff":void 0}},R=r.formats.highlight,T=null==R?void 0:R.getValue(),N=(null===(l=null===(a=null==n?void 0:n.options)||void 0===a?void 0:a.display)||void 0===l?void 0:l.title)||(null==n?void 0:n.type)||"",L=p.ActionMenu,M=p.LinkTool;y((()=>{const e=e=>{if(_.isEscape(e))return c(Xr),void(null==i||i(!1))};if(s.link){const e=C(r);if(!e||!e.selection)return;d.current=e.selection;const t=Nr.string(e,null==e?void 0:e.selection),o=Jr(e),n={title:t,url:""};if(o){const[e]=o;n.url=e.props.url}f(n)}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r.selection,r.children,s.link]);const I=e=>s[e],V=e=>({backgroundColor:I(e)?"#f4f4f5":void 0}),q=e=>{c(Xr),r.formats[e].toggle()},H=Yr({editor:r,onClose:()=>h("actionMenu",!1),view:"small"});return t(ot,Object.assign({className:"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-flex yoo-toolbar-z-50 yoo-toolbar-z-1000 yoo-toolbar-p-[5px] yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border-[1px] yoo-toolbar-border-solid yoo-toolbar-border-[#e3e3e3] yoo-toolbar-shadow-y-[4px]"},{children:[e(rt,Object.assign({className:"yoo-toolbar-flex yoo-toolbar-items-center",type:"single","aria-label":"Block formatting"},{children:t(it,Object.assign({className:"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md",value:N,"aria-label":N,ref:g.setReference,onClick:()=>h("actionMenu",!s.actionMenu),style:V("actionMenu")},{children:[e("span",Object.assign({className:"yoo-toolbar-mr-0"},{children:N})),s.actionMenu&&!!L&&e(nn,Object.assign({id:"yoo-toolbar-action-menu-list-portal",root:document.getElementById("yoopta-editor")},{children:e("div",Object.assign({style:b,ref:g.setFloating,onClick:e=>e.stopPropagation()},{children:e(L,Object.assign({},H))}))}))]}))})),e(nt,{className:"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]"}),e(rt,Object.assign({className:"yoo-toolbar-flex yoo-toolbar-items-center",type:"single","aria-label":"Block formatting"},{children:t(it,Object.assign({className:"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md",value:"LinkTool","aria-label":"LinkTool",ref:E.setReference,onClick:()=>{h("link",!s.link),null==i||i(!0)},style:V("link")},{children:[e("span",Object.assign({className:"yoo-toolbar-mr-0"},{children:"Link"})),s.link&&!!M&&e(nn,Object.assign({id:"yoo-link-tool-portal",root:document.getElementById("yoopta-editor")},{children:e(ln,Object.assign({lockScroll:!0,className:"z-[100]",onClick:e=>{var t;e.stopPropagation(),e.preventDefault(),(null===(t=E.floating.current)||void 0===t?void 0:t.contains(e.target))||(null==i||i(!1),c(Xr))}},{children:e("div",Object.assign({style:P,ref:E.setFloating},{children:e(M,{link:u,onSave:e=>{const t=C(r);t&&Nr.withoutNormalizing(t,(()=>{if(!t.selection)return;const o=Jr(t);if(o){const[n]=o,r={props:Object.assign(Object.assign({},null==n?void 0:n.props),{url:e.url,title:e.title})};Kr.setNodes(t,r,{match:e=>_r.isElement(e)&&"link"===e.type}),Nr.insertText(t,e.title||e.url,{at:t.selection}),Kr.collapse(t,{edge:"end"})}else{const o={type:"link",children:[{text:e.title}],props:{target:"_blank",rel:"noreferrer",nodeType:"inline",url:e.url,title:e.title}};Kr.wrapNodes(t,o,{split:!0,at:t.selection}),Kr.setNodes(t,{text:e.title},{at:t.selection,mode:"lowest",match:e=>!Nr.isEditor(e)&&_r.isElement(e)&&"link"===e.type}),Nr.insertText(t,e.title||e.url,{at:t.selection}),Kr.collapse(t,{edge:"end"})}r.applyChanges(),r.emit("change",r.children),h("link",!1),f({title:"",url:""}),null==i||i(!1)}))},onDelete:()=>{const e=C(r);if(!e||!e.selection)return;Jr(e)&&Kr.unwrapNodes(e,{match:e=>!Nr.isEditor(e)&&_r.isElement(e)&&"link"===e.type}),h("link",!1),f({title:"",url:""}),null==i||i(!1)}})}))}))}))]}))})),e(nt,{className:"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]"}),t(rt,Object.assign({className:"yoo-toolbar-flex yoo-toolbar-items-center",type:"multiple","aria-label":"Text formatting"},{children:[r.formats.bold&&e(it,Object.assign({className:"yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"bold","aria-label":"Bold",style:k("bold"),onClick:()=>q("bold")},{children:e(F,{width:20,height:20})})),r.formats.italic&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"italic","aria-label":"Italic",style:k("italic"),onClick:()=>q("italic")},{children:e(D,{width:20,height:20})})),r.formats.underline&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"underline","aria-label":"Underline",style:k("underline"),onClick:()=>q("underline")},{children:e(z,{width:20,height:20})})),r.formats.strike&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"strike","aria-label":"Strike",style:k("strike"),onClick:()=>q("strike")},{children:e(B,{width:20,height:20})})),r.formats.code&&e(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"code","aria-label":"Code",style:k("code"),onClick:()=>q("code")},{children:e(A,{width:20,height:20})})),r.formats.highlight&&t(o,{children:[s.highlight&&e(gn,{editor:r,floatingStyles:x,refs:w,onClose:()=>h("highlight",!1),highlightColors:T}),t(it,Object.assign({className:"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center",value:"highlight","aria-label":"Highlight",style:(()=>{const e=V("highlight");return{color:null==T?void 0:T.color,backgroundColor:e.backgroundColor||(null==T?void 0:T.backgroundColor),backgroundImage:null==T?void 0:T.backgroundImage,WebkitTextFillColor:null==T?void 0:T.webkitTextFillColor}})(),ref:w.setReference,onClick:()=>h("highlight",!s.highlight)},{children:[e("span",Object.assign({className:"yoo-toolbar-text-lg yoo-toolbar-px-1 yoo-toolbar-font-serif yoo-toolbar-text-col"},{children:"A"})),s.highlight?e(S,{width:10}):e(j,{width:10})]}))]})]}))]}))};var ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ti="Expected a function",oi=NaN,ni="[object Symbol]",ri=/^\s+|\s+$/g,ii=/^[-+]0x[0-9a-f]+$/i,ai=/^0b[01]+$/i,li=/^0o[0-7]+$/i,si=parseInt,ci="object"==typeof ei&&ei&&ei.Object===Object&&ei,ui="object"==typeof self&&self&&self.Object===Object&&self,fi=ci||ui||Function("return this")(),di=Object.prototype.toString,pi=Math.max,hi=Math.min,gi=function(){return fi.Date.now()};function yi(e,t,o){var n,r,i,a,l,s,c=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(ti);function p(t){var o=n,i=r;return n=r=void 0,c=t,a=e.apply(i,o)}function h(e){var o=e-s;return void 0===s||o>=t||o<0||f&&e-c>=i}function g(){var e=gi();if(h(e))return y(e);l=setTimeout(g,function(e){var o=t-(e-s);return f?hi(o,i-(e-c)):o}(e))}function y(e){return l=void 0,d&&n?p(e):(n=r=void 0,a)}function m(){var e=gi(),o=h(e);if(n=arguments,r=this,s=e,o){if(void 0===l)return function(e){return c=e,l=setTimeout(g,t),u?p(e):a}(s);if(f)return l=setTimeout(g,t),p(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=vi(t)||0,mi(o)&&(u=!!o.leading,i=(f="maxWait"in o)?pi(vi(o.maxWait)||0,t):i,d="trailing"in o?!!o.trailing:d),m.cancel=function(){void 0!==l&&clearTimeout(l),c=0,n=s=r=l=void 0},m.flush=function(){return void 0===l?a:y(gi())},m}function mi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function vi(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&di.call(e)==ni}(e))return oi;if(mi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=mi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ri,"");var o=ai.test(e);return o||li.test(e)?si(e.slice(2),o?2:8):ii.test(e)?oi:+e}var bi=function(e,t,o){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError(ti);return mi(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),yi(e,t,{leading:n,maxWait:t,trailing:r})};const wi=({render:t})=>{const o=E(),[r,i]=v(!1),[a,l]=v(!1),{refs:s,floatingStyles:c,context:u}=sn({placement:"top",open:r,onOpenChange:i,middleware:[uo(),co(),so(),Gt(10,50)],whileElementsMounted:lo}),{isMounted:f,styles:d}=function(e,t){void 0===t&&(t={});const{initial:o={opacity:0},open:r,close:i,common:a,duration:l=250}=t,s=e.placement,c=s.split("-")[0],u=n.useMemo((()=>({side:c,placement:s})),[c,s]),f="number"==typeof l,d=(f?l:l.open)||0,p=(f?l:l.close)||0,[h,g]=n.useState((()=>({...un(a,u),...un(o,u)}))),{isMounted:y,status:m}=fn(e,{duration:l}),v=$o(o),b=$o(r),w=$o(i),x=$o(a);return Mo((()=>{const e=un(v.current,u),t=un(w.current,u),o=un(x.current,u),n=un(b.current,u)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===m&&g((t=>({transitionProperty:t.transitionProperty,...o,...e}))),"open"===m&&g({transitionProperty:Object.keys(n).map(cn).join(","),transitionDuration:d+"ms",...o,...n}),"close"===m){const n=t||e;g({transitionProperty:Object.keys(n).map(cn).join(","),transitionDuration:p+"ms",...o,...n})}}),[p,w,v,b,x,d,m,u]),{isMounted:y,styles:h}}(u,{duration:100}),p=bi((()=>{if(a)return;const e=window.getSelection();if(!e||(null==e?void 0:e.isCollapsed))return i(!1);const t=e.getRangeAt(0),o=t.getBoundingClientRect(),n=t.toString().trim(),r=document.querySelectorAll("[data-custom-editor]"),l=document.getElementById("yoopta-editor"),c=null==t?void 0:t.commonAncestorContainer;let u=!1;for(let e=0;e<r.length;e++)if(r[e].contains(c)){u=!0;break}if(!(null==l?void 0:l.contains(c))||u)return i(!1);t&&n.length>0&&(s.setReference({getBoundingClientRect:()=>o,getClientRects:()=>t.getClientRects()}),i(!0))}),200);if(y((()=>(window.document.addEventListener("selectionchange",p),()=>window.document.removeEventListener("selectionchange",p))),[o.selectedBlocks,a,o.children]),!f)return null;const h=Object.values(o.blocks).find((e=>e.isActive())),g=Object.assign(Object.assign({},c),d),m=e=>l(e);if(t){const n=t;return e(nn,Object.assign({id:"yoo-toolbar-portal",root:document.getElementById("yoopta-editor")},{children:e("div",Object.assign({style:g,ref:s.setFloating,onClick:e=>e.stopPropagation()},{children:e(n,{activeBlock:h,editor:o,toggleHoldToolbar:m})}))}))}return e(nn,Object.assign({id:"yoo-toolbar-portal",root:document.getElementById("yoopta-editor")},{children:e("div",Object.assign({style:g,ref:s.setFloating,onClick:e=>e.stopPropagation()},{children:e(Qr,{activeBlock:h,editor:o,toggleHoldToolbar:m})}))}))};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("#yoopta-editor .yoo-toolbar-z-50{z-index:50}#yoopta-editor .yoo-toolbar-mx-\\[2px\\]{margin-left:2px;margin-right:2px}#yoopta-editor .yoo-toolbar-mx-\\[6px\\]{margin-left:6px;margin-right:6px}#yoopta-editor .yoo-toolbar-my-0{margin-bottom:0;margin-top:0}#yoopta-editor .yoo-toolbar-my-\\[5px\\]{margin-bottom:5px;margin-top:5px}#yoopta-editor .yoo-toolbar-ml-\\[2px\\]{margin-left:2px}#yoopta-editor .yoo-toolbar-mr-0{margin-right:0}#yoopta-editor .yoo-toolbar-mt-1{margin-top:.25rem}#yoopta-editor .yoo-toolbar-flex{display:flex}#yoopta-editor .yoo-toolbar-inline-flex{display:inline-flex}#yoopta-editor .yoo-toolbar-h-\\[20px\\]{height:20px}#yoopta-editor .yoo-toolbar-h-\\[25px\\]{height:25px}#yoopta-editor .yoo-toolbar-h-\\[32px\\]{height:32px}#yoopta-editor .yoo-toolbar-h-full{height:100%}#yoopta-editor .yoo-toolbar-w-\\[1px\\]{width:1px}#yoopta-editor .yoo-toolbar-w-\\[20px\\]{width:20px}#yoopta-editor .yoo-toolbar-w-\\[25px\\]{width:25px}#yoopta-editor .yoo-toolbar-cursor-pointer{cursor:pointer}#yoopta-editor .yoo-toolbar-items-center{align-items:center}#yoopta-editor .yoo-toolbar-justify-center{justify-content:center}#yoopta-editor .yoo-toolbar-justify-between{justify-content:space-between}#yoopta-editor .yoo-toolbar-rounded-md{border-radius:.375rem}#yoopta-editor .yoo-toolbar-border,#yoopta-editor .yoo-toolbar-border-\\[1px\\]{border-width:1px}#yoopta-editor .yoo-toolbar-border-solid{border-style:solid}#yoopta-editor .yoo-toolbar-border-\\[\\#e3e3e3\\]{--tw-border-opacity:1;border-color:rgb(227 227 227/var(--tw-border-opacity))}#yoopta-editor .yoo-toolbar-border-\\[\\#e5e7eb\\]{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}#yoopta-editor .yoo-toolbar-bg-\\[\\#FFFFFF\\]{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}#yoopta-editor .yoo-toolbar-bg-\\[\\#dbd8e0\\]{--tw-bg-opacity:1;background-color:rgb(219 216 224/var(--tw-bg-opacity))}#yoopta-editor .yoo-toolbar-p-\\[5px\\]{padding:5px}#yoopta-editor .yoo-toolbar-px-1{padding-left:.25rem;padding-right:.25rem}#yoopta-editor .yoo-toolbar-px-\\[10px\\]{padding-left:10px;padding-right:10px}#yoopta-editor .yoo-toolbar-px-\\[5px\\]{padding-left:5px;padding-right:5px}#yoopta-editor .yoo-toolbar-py-0{padding-bottom:0;padding-top:0}#yoopta-editor .yoo-toolbar-font-serif{font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}#yoopta-editor .yoo-toolbar-text-\\[16px\\]{font-size:16px}#yoopta-editor .yoo-toolbar-text-lg{font-size:1.125rem;line-height:1.75rem}#yoopta-editor .yoo-toolbar-text-xs{font-size:.75rem;line-height:1rem}#yoopta-editor .yoo-toolbar-line-through{text-decoration-line:line-through}#yoopta-editor .yoo-toolbar-shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}#yoopta-editor .hover\\:yoo-toolbar-bg-\\[\\#f4f4f5\\]:hover{--tw-bg-opacity:1;background-color:rgb(244 244 245/var(--tw-bg-opacity))}");export{Qr as DefaultToolbarRender,wi as default};
diff --git a/node_modules/@yoopta/toolbar/dist/index.js.map b/node_modules/@yoopta/toolbar/dist/index.js.map
index 16b30db..26d669a 100644
--- a/node_modules/@yoopta/toolbar/dist/index.js.map
+++ b/node_modules/@yoopta/toolbar/dist/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sources":["../../../node_modules/@radix-ui/react-icons/src/ChevronDownIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/ChevronUpIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/CodeIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/FontBoldIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/FontItalicIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/StrikethroughIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/UnderlineIcon.tsx","../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../node_modules/@radix-ui/primitive/dist/packages/core/primitive/src/primitive.tsx","../../../node_modules/@radix-ui/react-context/dist/packages/react/context/src/createContext.tsx","../../../node_modules/@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx","../../../node_modules/@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx","../../../node_modules/@radix-ui/react-collection/dist/packages/react/collection/src/Collection.tsx","../../../node_modules/@radix-ui/react-use-layout-effect/dist/packages/react/use-layout-effect/src/useLayoutEffect.tsx","../../../node_modules/@radix-ui/react-id/dist/packages/react/id/src/id.tsx","../../../node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../../../node_modules/@radix-ui/react-use-callback-ref/dist/packages/react/use-callback-ref/src/useCallbackRef.tsx","../../../node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/useControllableState.tsx","../../../node_modules/@radix-ui/react-direction/dist/packages/react/direction/src/Direction.tsx","../../../node_modules/@radix-ui/react-roving-focus/dist/packages/react/roving-focus/src/RovingFocusGroup.tsx","../../../node_modules/@radix-ui/react-separator/dist/packages/react/separator/src/Separator.tsx","../../../node_modules/@radix-ui/react-toggle/dist/packages/react/toggle/src/Toggle.tsx","../../../node_modules/@radix-ui/react-toggle-group/dist/packages/react/toggle-group/src/ToggleGroup.tsx","../../../node_modules/@radix-ui/react-toolbar/dist/packages/react/toolbar/src/Toolbar.tsx","../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../../node_modules/@floating-ui/react/dist/floating-ui.react.utils.mjs","../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../../../node_modules/tabbable/src/index.js","../../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs","../src/components/HighlightColor.tsx","../../../node_modules/is-plain-object/dist/is-plain-object.mjs","../../../node_modules/immer/src/utils/env.ts","../../../node_modules/immer/src/utils/errors.ts","../../../node_modules/immer/src/utils/common.ts","../../../node_modules/immer/src/utils/plugins.ts","../../../node_modules/immer/src/core/scope.ts","../../../node_modules/immer/src/core/finalize.ts","../../../node_modules/immer/src/core/proxy.ts","../../../node_modules/immer/src/core/immerClass.ts","../../../node_modules/immer/src/core/current.ts","../../../node_modules/immer/src/immer.ts","../../../node_modules/slate/src/interfaces/path.ts","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/slate/src/interfaces/transforms/general.ts","../../../node_modules/slate/src/interfaces/transforms/node.ts","../../../node_modules/slate/src/interfaces/transforms/selection.ts","../../../node_modules/slate/src/utils/deep-equal.ts","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/slate/src/interfaces/range.ts","../../../node_modules/slate/src/interfaces/element.ts","../../../node_modules/slate/src/interfaces/node.ts","../../../node_modules/slate/src/interfaces/operation.ts","../../../node_modules/slate/src/editor/is-editor.ts","../../../node_modules/slate/src/interfaces/editor.ts","../../../node_modules/slate/src/interfaces/point.ts","../../../node_modules/slate/src/interfaces/scrubber.ts","../../../node_modules/slate/src/interfaces/text.ts","../../../node_modules/slate/src/utils/get-default-insert-location.ts","../../../node_modules/slate/src/utils/string.ts","../../../node_modules/slate/src/interfaces/transforms/text.ts","../../../node_modules/slate/src/interfaces/transforms/index.ts","../src/components/utils.ts","../src/components/DefaultToolbarRender.tsx","../../../node_modules/lodash.throttle/index.js","../src/components/Toolbar.tsx","../../../node_modules/style-inject/dist/style-inject.es.js"],"sourcesContent":["import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const ChevronDownIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default ChevronDownIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const ChevronUpIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default ChevronUpIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const CodeIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default CodeIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const FontBoldIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.10505 12C4.70805 12 4.4236 11.912 4.25171 11.736C4.0839 11.5559 4 11.2715 4 10.8827V4.11733C4 3.72033 4.08595 3.43588 4.25784 3.26398C4.43383 3.08799 4.71623 3 5.10505 3C6.42741 3 8.25591 3 9.02852 3C10.1373 3 11.0539 3.98153 11.0539 5.1846C11.0539 6.08501 10.6037 6.81855 9.70327 7.23602C10.8657 7.44851 11.5176 8.62787 11.5176 9.48128C11.5176 10.5125 10.9902 12 9.27734 12C8.77742 12 6.42626 12 5.10505 12ZM8.37891 8.00341H5.8V10.631H8.37891C8.9 10.631 9.6296 10.1211 9.6296 9.29877C9.6296 8.47643 8.9 8.00341 8.37891 8.00341ZM5.8 4.36903V6.69577H8.17969C8.53906 6.69577 9.27734 6.35939 9.27734 5.50002C9.27734 4.64064 8.48047 4.36903 8.17969 4.36903H5.8Z\"\n          fill={color}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default FontBoldIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const FontItalicIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.67494 3.50017C5.67494 3.25164 5.87641 3.05017 6.12494 3.05017H10.6249C10.8735 3.05017 11.0749 3.25164 11.0749 3.50017C11.0749 3.7487 10.8735 3.95017 10.6249 3.95017H9.00587L7.2309 11.05H8.87493C9.12345 11.05 9.32493 11.2515 9.32493 11.5C9.32493 11.7486 9.12345 11.95 8.87493 11.95H4.37493C4.1264 11.95 3.92493 11.7486 3.92493 11.5C3.92493 11.2515 4.1264 11.05 4.37493 11.05H5.99397L7.76894 3.95017H6.12494C5.87641 3.95017 5.67494 3.7487 5.67494 3.50017Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default FontItalicIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const StrikethroughIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.00003 3.25C5.00003 2.97386 4.77617 2.75 4.50003 2.75C4.22389 2.75 4.00003 2.97386 4.00003 3.25V7.10003H2.49998C2.27906 7.10003 2.09998 7.27912 2.09998 7.50003C2.09998 7.72094 2.27906 7.90003 2.49998 7.90003H4.00003V8.55C4.00003 10.483 5.56703 12.05 7.50003 12.05C9.43303 12.05 11 10.483 11 8.55V7.90003H12.5C12.7209 7.90003 12.9 7.72094 12.9 7.50003C12.9 7.27912 12.7209 7.10003 12.5 7.10003H11V3.25C11 2.97386 10.7762 2.75 10.5 2.75C10.2239 2.75 10 2.97386 10 3.25V7.10003H5.00003V3.25ZM5.00003 7.90003V8.55C5.00003 9.93071 6.11932 11.05 7.50003 11.05C8.88074 11.05 10 9.93071 10 8.55V7.90003H5.00003Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default StrikethroughIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const UnderlineIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.00001 2.75C5.00001 2.47386 4.77615 2.25 4.50001 2.25C4.22387 2.25 4.00001 2.47386 4.00001 2.75V8.05C4.00001 9.983 5.56702 11.55 7.50001 11.55C9.43301 11.55 11 9.983 11 8.05V2.75C11 2.47386 10.7762 2.25 10.5 2.25C10.2239 2.25 10 2.47386 10 2.75V8.05C10 9.43071 8.88072 10.55 7.50001 10.55C6.1193 10.55 5.00001 9.43071 5.00001 8.05V2.75ZM3.49998 13.1001C3.27906 13.1001 3.09998 13.2791 3.09998 13.5001C3.09998 13.721 3.27906 13.9001 3.49998 13.9001H11.5C11.7209 13.9001 11.9 13.721 11.9 13.5001C11.9 13.2791 11.7209 13.1001 11.5 13.1001H3.49998Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default UnderlineIcon;\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","function composeEventHandlers<E>(\n  originalEventHandler?: (event: E) => void,\n  ourEventHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) {\n  return function handleEvent(event: E) {\n    originalEventHandler?.(event);\n\n    if (checkForDefaultPrevented === false || !((event as unknown) as Event).defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import * as React from 'react';\n\nfunction createContext<ContextValueType extends object | null>(\n  rootComponentName: string,\n  defaultContext?: ContextValueType\n) {\n  const Context = React.createContext<ContextValueType | undefined>(defaultContext);\n\n  function Provider(props: ContextValueType & { children: React.ReactNode }) {\n    const { children, ...context } = props;\n    // Only re-memoize when prop values change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  }\n\n  function useContext(consumerName: string) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== undefined) return defaultContext;\n    // if a defaultContext wasn't specified, it's a required context.\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n\n  Provider.displayName = rootComponentName + 'Provider';\n  return [Provider, useContext] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/\n\ntype Scope<C = any> = { [scopeName: string]: React.Context<C>[] } | undefined;\ntype ScopeHook = (scope: Scope) => { [__scopeProp: string]: Scope };\ninterface CreateScope {\n  scopeName: string;\n  (): ScopeHook;\n}\n\nfunction createContextScope(scopeName: string, createContextScopeDeps: CreateScope[] = []) {\n  let defaultContexts: any[] = [];\n\n  /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/\n\n  function createContext<ContextValueType extends object | null>(\n    rootComponentName: string,\n    defaultContext?: ContextValueType\n  ) {\n    const BaseContext = React.createContext<ContextValueType | undefined>(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n\n    function Provider(\n      props: ContextValueType & { scope: Scope<ContextValueType>; children: React.ReactNode }\n    ) {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName][index] || BaseContext;\n      // Only re-memoize when prop values change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n      return <Context.Provider value={value}>{children}</Context.Provider>;\n    }\n\n    function useContext(consumerName: string, scope: Scope<ContextValueType | undefined>) {\n      const Context = scope?.[scopeName][index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== undefined) return defaultContext;\n      // if a defaultContext wasn't specified, it's a required context.\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n\n    Provider.displayName = rootComponentName + 'Provider';\n    return [Provider, useContext] as const;\n  }\n\n  /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/\n\n  const createScope: CreateScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope: Scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n\n  createScope.scopeName = scopeName;\n  return [createContext, composeContextScopes(createScope, ...createContextScopeDeps)] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/\n\nfunction composeContextScopes(...scopes: CreateScope[]) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n\n  const createScope: CreateScope = () => {\n    const scopeHooks = scopes.map((createScope) => ({\n      useScope: createScope(),\n      scopeName: createScope.scopeName,\n    }));\n\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {\n        // We are calling a hook inside a callback which React warns against to avoid inconsistent\n        // renders, however, scoping doesn't have render side effects so we ignore the rule.\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes, ...currentScope };\n      }, {});\n\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nexport { createContext, createContextScope };\nexport type { CreateScope, Scope };\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children as React.ReactNode;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props.children as React.ReactNode)\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: forwardedRef ? composeRefs(forwardedRef, (children as any).ref) : (children as any).ref,\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Slot } from '@radix-ui/react-slot';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\ntype SlotProps = Radix.ComponentPropsWithoutRef<typeof Slot>;\ntype CollectionElement = HTMLElement;\ninterface CollectionProps extends SlotProps {\n  scope: any;\n}\n\n// We have resorted to returning slots directly rather than exposing primitives that can then\n// be slotted like `<CollectionItem as={Slot}>…</CollectionItem>`.\n// This is because we encountered issues with generic types that cannot be statically analysed\n// due to creating them dynamically via createCollection.\n\nfunction createCollection<ItemElement extends HTMLElement, ItemData = {}>(name: string) {\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionProvider\n   * ---------------------------------------------------------------------------------------------*/\n\n  const PROVIDER_NAME = name + 'CollectionProvider';\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n\n  type ContextValue = {\n    collectionRef: React.RefObject<CollectionElement>;\n    itemMap: Map<React.RefObject<ItemElement>, { ref: React.RefObject<ItemElement> } & ItemData>;\n  };\n\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext<ContextValue>(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: new Map() }\n  );\n\n  const CollectionProvider: React.FC<{ children?: React.ReactNode; scope: any }> = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef<CollectionElement>(null);\n    const itemMap = React.useRef<ContextValue['itemMap']>(new Map()).current;\n    return (\n      <CollectionProviderImpl scope={scope} itemMap={itemMap} collectionRef={ref}>\n        {children}\n      </CollectionProviderImpl>\n    );\n  };\n\n  CollectionProvider.displayName = PROVIDER_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionSlot\n   * ---------------------------------------------------------------------------------------------*/\n\n  const COLLECTION_SLOT_NAME = name + 'CollectionSlot';\n\n  const CollectionSlot = React.forwardRef<CollectionElement, CollectionProps>(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return <Slot ref={composedRefs}>{children}</Slot>;\n    }\n  );\n\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionItem\n   * ---------------------------------------------------------------------------------------------*/\n\n  const ITEM_SLOT_NAME = name + 'CollectionItemSlot';\n  const ITEM_DATA_ATTR = 'data-radix-collection-item';\n\n  type CollectionItemSlotProps = ItemData & {\n    children: React.ReactNode;\n    scope: any;\n  };\n\n  const CollectionItemSlot = React.forwardRef<ItemElement, CollectionItemSlotProps>(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef<ItemElement>(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...(itemData as unknown as ItemData) });\n        return () => void context.itemMap.delete(ref);\n      });\n\n      return (\n        <Slot {...{ [ITEM_DATA_ATTR]: '' }} ref={composedRefs}>\n          {children}\n        </Slot>\n      );\n    }\n  );\n\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * useCollection\n   * ---------------------------------------------------------------------------------------------*/\n\n  function useCollection(scope: any) {\n    const context = useCollectionContext(name + 'CollectionConsumer', scope);\n\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current!) - orderedNodes.indexOf(b.ref.current!)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n\n    return getItems;\n  }\n\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope,\n  ] as const;\n}\n\nexport { createCollection };\nexport type { CollectionProps };\n","import * as React from 'react';\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nconst useLayoutEffect = Boolean(globalThis?.document) ? React.useLayoutEffect : () => {};\n\nexport { useLayoutEffect };\n","import * as React from 'react';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n// We `toString()` to prevent bundlers from trying to `import { useId } from 'react';`\nconst useReactId = (React as any)['useId'.toString()] || (() => undefined);\nlet count = 0;\n\nfunction useId(deterministicId?: string): string {\n  const [id, setId] = React.useState<string | undefined>(useReactId());\n  // React versions older than 18 will have client-side ids only.\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : '');\n}\n\nexport { useId };\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'form',\n  'h2',\n  'h3',\n  'img',\n  'input',\n  'label',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    React.useEffect(() => {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }, []);\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click 👎\n * target.dispatchEvent(new Event(‘click’))\n *\n * dispatching a custom type within a non-discrete event 👎\n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(‘customType’))}\n *\n * dispatching a custom type within a `discrete` event 👍\n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(‘customType’))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const setter = nextValue as SetStateFn<T>;\n        const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n        if (value !== prop) handleChange(value as T);\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, handleChange]\n  );\n\n  return [value, setValue] as const;\n}\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nexport { useControllableState };\n","import * as React from 'react';\n\ntype Direction = 'ltr' | 'rtl';\nconst DirectionContext = React.createContext<Direction | undefined>(undefined);\n\n/* -------------------------------------------------------------------------------------------------\n * Direction\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DirectionProviderProps {\n  children?: React.ReactNode;\n  dir: Direction;\n}\nconst DirectionProvider: React.FC<DirectionProviderProps> = (props) => {\n  const { dir, children } = props;\n  return <DirectionContext.Provider value={dir}>{children}</DirectionContext.Provider>;\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction useDirection(localDir?: Direction) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || 'ltr';\n}\n\nconst Provider = DirectionProvider;\n\nexport {\n  useDirection,\n  //\n  Provider,\n  //\n  DirectionProvider,\n};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ENTRY_FOCUS = 'rovingFocusGroup.onEntryFocus';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'RovingFocusGroup';\n\ntype ItemData = { id: string; focusable: boolean; active: boolean };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  HTMLSpanElement,\n  ItemData\n>(GROUP_NAME);\n\ntype ScopedProps<P> = P & { __scopeRovingFocusGroup?: Scope };\nconst [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\n\ntype Orientation = React.AriaAttributes['aria-orientation'];\ntype Direction = 'ltr' | 'rtl';\n\ninterface RovingFocusGroupOptions {\n  /**\n   * The orientation of the group.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   */\n  orientation?: Orientation;\n  /**\n   * The direction of navigation between items.\n   */\n  dir?: Direction;\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: boolean;\n}\n\ntype RovingContextValue = RovingFocusGroupOptions & {\n  currentTabStopId: string | null;\n  onItemFocus(tabStopId: string): void;\n  onItemShiftTab(): void;\n  onFocusableItemAdd(): void;\n  onFocusableItemRemove(): void;\n};\n\nconst [RovingFocusProvider, useRovingFocusContext] =\n  createRovingFocusGroupContext<RovingContextValue>(GROUP_NAME);\n\ntype RovingFocusGroupElement = RovingFocusGroupImplElement;\ninterface RovingFocusGroupProps extends RovingFocusGroupImplProps {}\n\nconst RovingFocusGroup = React.forwardRef<RovingFocusGroupElement, RovingFocusGroupProps>(\n  (props: ScopedProps<RovingFocusGroupProps>, forwardedRef) => {\n    return (\n      <Collection.Provider scope={props.__scopeRovingFocusGroup}>\n        <Collection.Slot scope={props.__scopeRovingFocusGroup}>\n          <RovingFocusGroupImpl {...props} ref={forwardedRef} />\n        </Collection.Slot>\n      </Collection.Provider>\n    );\n  }\n);\n\nRovingFocusGroup.displayName = GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype RovingFocusGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RovingFocusGroupImplProps\n  extends Omit<PrimitiveDivProps, 'dir'>,\n    RovingFocusGroupOptions {\n  currentTabStopId?: string | null;\n  defaultCurrentTabStopId?: string;\n  onCurrentTabStopIdChange?: (tabStopId: string | null) => void;\n  onEntryFocus?: (event: Event) => void;\n}\n\nconst RovingFocusGroupImpl = React.forwardRef<\n  RovingFocusGroupImplElement,\n  RovingFocusGroupImplProps\n>((props: ScopedProps<RovingFocusGroupImplProps>, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    ...groupProps\n  } = props;\n  const ref = React.useRef<RovingFocusGroupImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId = null, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId,\n    onChange: onCurrentTabStopIdChange,\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n\n  return (\n    <RovingFocusProvider\n      scope={__scopeRovingFocusGroup}\n      orientation={orientation}\n      dir={direction}\n      loop={loop}\n      currentTabStopId={currentTabStopId}\n      onItemFocus={React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      )}\n      onItemShiftTab={React.useCallback(() => setIsTabbingBackOut(true), [])}\n      onFocusableItemAdd={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      )}\n      onFocusableItemRemove={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      )}\n    >\n      <Primitive.div\n        tabIndex={isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0}\n        data-orientation={orientation}\n        {...groupProps}\n        ref={composedRefs}\n        style={{ outline: 'none', ...props.style }}\n        onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n          isClickFocusRef.current = true;\n        })}\n        onFocus={composeEventHandlers(props.onFocus, (event) => {\n          // We normally wouldn't need this check, because we already check\n          // that the focus is on the current target and not bubbling to it.\n          // We do this because Safari doesn't focus buttons when clicked, and\n          // instead, the wrapper will get focused and not through a bubbling event.\n          const isKeyboardFocus = !isClickFocusRef.current;\n\n          if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n            const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n            event.currentTarget.dispatchEvent(entryFocusEvent);\n\n            if (!entryFocusEvent.defaultPrevented) {\n              const items = getItems().filter((item) => item.focusable);\n              const activeItem = items.find((item) => item.active);\n              const currentItem = items.find((item) => item.id === currentTabStopId);\n              const candidateItems = [activeItem, currentItem, ...items].filter(\n                Boolean\n              ) as typeof items;\n              const candidateNodes = candidateItems.map((item) => item.ref.current!);\n              focusFirst(candidateNodes);\n            }\n          }\n\n          isClickFocusRef.current = false;\n        })}\n        onBlur={composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))}\n      />\n    </RovingFocusProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RovingFocusGroupItem';\n\ntype RovingFocusItemElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface RovingFocusItemProps extends PrimitiveSpanProps {\n  tabStopId?: string;\n  focusable?: boolean;\n  active?: boolean;\n}\n\nconst RovingFocusGroupItem = React.forwardRef<RovingFocusItemElement, RovingFocusItemProps>(\n  (props: ScopedProps<RovingFocusItemProps>, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n\n    const { onFocusableItemAdd, onFocusableItemRemove } = context;\n\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeRovingFocusGroup}\n        id={id}\n        focusable={focusable}\n        active={active}\n      >\n        <Primitive.span\n          tabIndex={isCurrentTabStop ? 0 : -1}\n          data-orientation={context.orientation}\n          {...itemProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // We prevent focusing non-focusable items on `mousedown`.\n            // Even though the item has tabIndex={-1}, that only means take it out of the tab order.\n            if (!focusable) event.preventDefault();\n            // Safari doesn't focus a button when clicked so we run our logic on mousedown also\n            else context.onItemFocus(id);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => context.onItemFocus(id))}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === 'Tab' && event.shiftKey) {\n              context.onItemShiftTab();\n              return;\n            }\n\n            if (event.target !== event.currentTarget) return;\n\n            const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n\n            if (focusIntent !== undefined) {\n              event.preventDefault();\n              const items = getItems().filter((item) => item.focusable);\n              let candidateNodes = items.map((item) => item.ref.current!);\n\n              if (focusIntent === 'last') candidateNodes.reverse();\n              else if (focusIntent === 'prev' || focusIntent === 'next') {\n                if (focusIntent === 'prev') candidateNodes.reverse();\n                const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                candidateNodes = context.loop\n                  ? wrapArray(candidateNodes, currentIndex + 1)\n                  : candidateNodes.slice(currentIndex + 1);\n              }\n\n              /**\n               * Imperative focus during keydown is risky so we prevent React's batching updates\n               * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n               */\n              setTimeout(() => focusFirst(candidateNodes));\n            }\n          })}\n        />\n      </Collection.ItemSlot>\n    );\n  }\n);\n\nRovingFocusGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// prettier-ignore\nconst MAP_KEY_TO_FOCUS_INTENT: Record<string, FocusIntent> = {\n  ArrowLeft: 'prev', ArrowUp: 'prev',\n  ArrowRight: 'next', ArrowDown: 'next',\n  PageUp: 'first', Home: 'first',\n  PageDown: 'last', End: 'last',\n};\n\nfunction getDirectionAwareKey(key: string, dir?: Direction) {\n  if (dir !== 'rtl') return key;\n  return key === 'ArrowLeft' ? 'ArrowRight' : key === 'ArrowRight' ? 'ArrowLeft' : key;\n}\n\ntype FocusIntent = 'first' | 'last' | 'prev' | 'next';\n\nfunction getFocusIntent(event: React.KeyboardEvent, orientation?: Orientation, dir?: Direction) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === 'vertical' && ['ArrowLeft', 'ArrowRight'].includes(key)) return undefined;\n  if (orientation === 'horizontal' && ['ArrowUp', 'ArrowDown'].includes(key)) return undefined;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nconst Root = RovingFocusGroup;\nconst Item = RovingFocusGroupItem;\n\nexport {\n  createRovingFocusGroupScope,\n  //\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { RovingFocusGroupProps, RovingFocusItemProps };\n","import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n *  Separator\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Separator';\nconst DEFAULT_ORIENTATION = 'horizontal';\nconst ORIENTATIONS = ['horizontal', 'vertical'] as const;\n\ntype Orientation = typeof ORIENTATIONS[number];\ntype SeparatorElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SeparatorProps extends PrimitiveDivProps {\n  /**\n   * Either `vertical` or `horizontal`. Defaults to `horizontal`.\n   */\n  orientation?: Orientation;\n  /**\n   * Whether or not the component is purely decorative. When true, accessibility-related attributes\n   * are updated so that that the rendered element is removed from the accessibility tree.\n   */\n  decorative?: boolean;\n}\n\nconst Separator = React.forwardRef<SeparatorElement, SeparatorProps>((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  // `aria-orientation` defaults to `horizontal` so we only need it if `orientation` is vertical\n  const ariaOrientation = orientation === 'vertical' ? orientation : undefined;\n  const semanticProps = decorative\n    ? { role: 'none' }\n    : { 'aria-orientation': ariaOrientation, role: 'separator' };\n\n  return (\n    <Primitive.div\n      data-orientation={orientation}\n      {...semanticProps}\n      {...domProps}\n      ref={forwardedRef}\n    />\n  );\n});\n\nSeparator.displayName = NAME;\n\nSeparator.propTypes = {\n  orientation(props, propName, componentName) {\n    const propValue = props[propName];\n    const strVal = String(propValue);\n    if (propValue && !isValidOrientation(propValue)) {\n      return new Error(getInvalidOrientationError(strVal, componentName));\n    }\n    return null;\n  },\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// Split this out for clearer readability of the error message.\nfunction getInvalidOrientationError(value: string, componentName: string) {\n  return `Invalid prop \\`orientation\\` of value \\`${value}\\` supplied to \\`${componentName}\\`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to \\`${DEFAULT_ORIENTATION}\\`.`;\n}\n\nfunction isValidOrientation(orientation: any): orientation is Orientation {\n  return ORIENTATIONS.includes(orientation);\n}\n\nconst Root = Separator;\n\nexport {\n  Separator,\n  //\n  Root,\n};\nexport type { SeparatorProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Toggle\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Toggle';\n\ntype ToggleElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToggleProps extends PrimitiveButtonProps {\n  /**\n   * The controlled state of the toggle.\n   */\n  pressed?: boolean;\n  /**\n   * The state of the toggle when initially rendered. Use `defaultPressed`\n   * if you do not need to control the state of the toggle.\n   * @defaultValue false\n   */\n  defaultPressed?: boolean;\n  /**\n   * The callback that fires when the state of the toggle changes.\n   */\n  onPressedChange?(pressed: boolean): void;\n}\n\nconst Toggle = React.forwardRef<ToggleElement, ToggleProps>((props, forwardedRef) => {\n  const { pressed: pressedProp, defaultPressed = false, onPressedChange, ...buttonProps } = props;\n\n  const [pressed = false, setPressed] = useControllableState({\n    prop: pressedProp,\n    onChange: onPressedChange,\n    defaultProp: defaultPressed,\n  });\n\n  return (\n    <Primitive.button\n      type=\"button\"\n      aria-pressed={pressed}\n      data-state={pressed ? 'on' : 'off'}\n      data-disabled={props.disabled ? '' : undefined}\n      {...buttonProps}\n      ref={forwardedRef}\n      onClick={composeEventHandlers(props.onClick, () => {\n        if (!props.disabled) {\n          setPressed(!pressed);\n        }\n      })}\n    />\n  );\n});\n\nToggle.displayName = NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = Toggle;\n\nexport {\n  Toggle,\n  //\n  Root,\n};\nexport type { ToggleProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Toggle } from '@radix-ui/react-toggle';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToggleGroup';\n\ntype ScopedProps<P> = P & { __scopeToggleGroup?: Scope };\nconst [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype ToggleGroupElement = ToggleGroupImplSingleElement | ToggleGroupImplMultipleElement;\ninterface ToggleGroupSingleProps extends ToggleGroupImplSingleProps {\n  type: 'single';\n}\ninterface ToggleGroupMultipleProps extends ToggleGroupImplMultipleProps {\n  type: 'multiple';\n}\n\nconst ToggleGroup = React.forwardRef<\n  ToggleGroupElement,\n  ToggleGroupSingleProps | ToggleGroupMultipleProps\n>((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n\n  if (type === 'single') {\n    const singleProps = toggleGroupProps as ToggleGroupImplSingleProps;\n    return <ToggleGroupImplSingle {...singleProps} ref={forwardedRef} />;\n  }\n\n  if (type === 'multiple') {\n    const multipleProps = toggleGroupProps as ToggleGroupImplMultipleProps;\n    return <ToggleGroupImplMultiple {...multipleProps} ref={forwardedRef} />;\n  }\n\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupValueContextValue = {\n  type: 'single' | 'multiple';\n  value: string[];\n  onItemActivate(value: string): void;\n  onItemDeactivate(value: string): void;\n};\n\nconst [ToggleGroupValueProvider, useToggleGroupValueContext] =\n  createToggleGroupContext<ToggleGroupValueContextValue>(TOGGLE_GROUP_NAME);\n\ntype ToggleGroupImplSingleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplSingleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the item that is pressed.\n   */\n  value?: string;\n  /**\n   * The value of the item that is pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string;\n  /**\n   * The callback that fires when the value of the toggle group changes.\n   */\n  onValueChange?(value: string): void;\n}\n\nconst ToggleGroupImplSingle = React.forwardRef<\n  ToggleGroupImplSingleElement,\n  ToggleGroupImplSingleProps\n>((props: ScopedProps<ToggleGroupImplSingleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupSingleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"single\"\n      value={value ? [value] : []}\n      onItemActivate={setValue}\n      onItemDeactivate={React.useCallback(() => setValue(''), [setValue])}\n    >\n      <ToggleGroupImpl {...toggleGroupSingleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\ntype ToggleGroupImplMultipleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplMultipleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the items that are pressed.\n   */\n  value?: string[];\n  /**\n   * The value of the items that are pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string[];\n  /**\n   * The callback that fires when the state of the toggle group changes.\n   */\n  onValueChange?(value: string[]): void;\n}\n\nconst ToggleGroupImplMultiple = React.forwardRef<\n  ToggleGroupImplMultipleElement,\n  ToggleGroupImplMultipleProps\n>((props: ScopedProps<ToggleGroupImplMultipleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupMultipleProps\n  } = props;\n\n  const [value = [], setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n\n  const handleButtonActivate = React.useCallback(\n    (itemValue: string) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue: string) =>\n      setValue((prevValue = []) => prevValue.filter((value) => value !== itemValue)),\n    [setValue]\n  );\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"multiple\"\n      value={value}\n      onItemActivate={handleButtonActivate}\n      onItemDeactivate={handleButtonDeactivate}\n    >\n      <ToggleGroupImpl {...toggleGroupMultipleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupContextValue = { rovingFocus: boolean; disabled: boolean };\n\nconst [ToggleGroupContext, useToggleGroupContext] =\n  createToggleGroupContext<ToggleGroupContextValue>(TOGGLE_GROUP_NAME);\n\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToggleGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToggleGroupImplProps extends PrimitiveDivProps {\n  /**\n   * Whether the group is disabled from user interaction.\n   * @defaultValue false\n   */\n  disabled?: boolean;\n  /**\n   * Whether the group should maintain roving focus of its buttons.\n   * @defaultValue true\n   */\n  rovingFocus?: boolean;\n  loop?: RovingFocusGroupProps['loop'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst ToggleGroupImpl = React.forwardRef<ToggleGroupImplElement, ToggleGroupImplProps>(\n  (props: ScopedProps<ToggleGroupImplProps>, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: 'group', dir: direction, ...toggleGroupProps };\n    return (\n      <ToggleGroupContext scope={__scopeToggleGroup} rovingFocus={rovingFocus} disabled={disabled}>\n        {rovingFocus ? (\n          <RovingFocusGroup.Root\n            asChild\n            {...rovingFocusGroupScope}\n            orientation={orientation}\n            dir={direction}\n            loop={loop}\n          >\n            <Primitive.div {...commonProps} ref={forwardedRef} />\n          </RovingFocusGroup.Root>\n        ) : (\n          <Primitive.div {...commonProps} ref={forwardedRef} />\n        )}\n      </ToggleGroupContext>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'ToggleGroupItem';\n\ntype ToggleGroupItemElement = ToggleGroupItemImplElement;\ninterface ToggleGroupItemProps extends Omit<ToggleGroupItemImplProps, 'pressed'> {}\n\nconst ToggleGroupItem = React.forwardRef<ToggleGroupItemElement, ToggleGroupItemProps>(\n  (props: ScopedProps<ToggleGroupItemProps>, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef<HTMLDivElement>(null);\n    return context.rovingFocus ? (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={pressed}\n        ref={ref}\n      >\n        <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    ) : (\n      <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n    );\n  }\n);\n\nToggleGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupItemImplElement = React.ElementRef<typeof Toggle>;\ntype ToggleProps = Radix.ComponentPropsWithoutRef<typeof Toggle>;\ninterface ToggleGroupItemImplProps extends Omit<ToggleProps, 'defaultPressed' | 'onPressedChange'> {\n  /**\n   * A string value for the toggle group item. All items within a toggle group should use a unique value.\n   */\n  value: string;\n}\n\nconst ToggleGroupItemImpl = React.forwardRef<ToggleGroupItemImplElement, ToggleGroupItemImplProps>(\n  (props: ScopedProps<ToggleGroupItemImplProps>, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: 'radio', 'aria-checked': props.pressed, 'aria-pressed': undefined };\n    const typeProps = valueContext.type === 'single' ? singleProps : undefined;\n    return (\n      <Toggle\n        {...typeProps}\n        {...itemProps}\n        ref={forwardedRef}\n        onPressedChange={(pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = ToggleGroup;\nconst Item = ToggleGroupItem;\n\nexport {\n  createToggleGroupScope,\n  //\n  ToggleGroup,\n  ToggleGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { ToggleGroupSingleProps, ToggleGroupMultipleProps, ToggleGroupItemProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as SeparatorPrimitive from '@radix-ui/react-separator';\nimport * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';\nimport { createToggleGroupScope } from '@radix-ui/react-toggle-group';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Toolbar\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOOLBAR_NAME = 'Toolbar';\n\ntype ScopedProps<P> = P & { __scopeToolbar?: Scope };\nconst [createToolbarContext, createToolbarScope] = createContextScope(TOOLBAR_NAME, [\n  createRovingFocusGroupScope,\n  createToggleGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\nconst useToggleGroupScope = createToggleGroupScope();\n\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToolbarContextValue = {\n  orientation: RovingFocusGroupProps['orientation'];\n  dir: RovingFocusGroupProps['dir'];\n};\nconst [ToolbarProvider, useToolbarContext] =\n  createToolbarContext<ToolbarContextValue>(TOOLBAR_NAME);\n\ntype ToolbarElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToolbarProps extends PrimitiveDivProps {\n  orientation?: RovingFocusGroupProps['orientation'];\n  loop?: RovingFocusGroupProps['loop'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst Toolbar = React.forwardRef<ToolbarElement, ToolbarProps>(\n  (props: ScopedProps<ToolbarProps>, forwardedRef) => {\n    const { __scopeToolbar, orientation = 'horizontal', dir, loop = true, ...toolbarProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    const direction = useDirection(dir);\n    return (\n      <ToolbarProvider scope={__scopeToolbar} orientation={orientation} dir={direction}>\n        <RovingFocusGroup.Root\n          asChild\n          {...rovingFocusGroupScope}\n          orientation={orientation}\n          dir={direction}\n          loop={loop}\n        >\n          <Primitive.div\n            role=\"toolbar\"\n            aria-orientation={orientation}\n            dir={direction}\n            {...toolbarProps}\n            ref={forwardedRef}\n          />\n        </RovingFocusGroup.Root>\n      </ToolbarProvider>\n    );\n  }\n);\n\nToolbar.displayName = TOOLBAR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'ToolbarSeparator';\n\ntype ToolbarSeparatorElement = React.ElementRef<typeof SeparatorPrimitive.Root>;\ntype SeparatorProps = Radix.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>;\ninterface ToolbarSeparatorProps extends SeparatorProps {}\n\nconst ToolbarSeparator = React.forwardRef<ToolbarSeparatorElement, ToolbarSeparatorProps>(\n  (props: ScopedProps<ToolbarSeparatorProps>, forwardedRef) => {\n    const { __scopeToolbar, ...separatorProps } = props;\n    const context = useToolbarContext(SEPARATOR_NAME, __scopeToolbar);\n    return (\n      <SeparatorPrimitive.Root\n        orientation={context.orientation === 'horizontal' ? 'vertical' : 'horizontal'}\n        {...separatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nToolbarSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUTTON_NAME = 'ToolbarButton';\n\ntype ToolbarButtonElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToolbarButtonProps extends PrimitiveButtonProps {}\n\nconst ToolbarButton = React.forwardRef<ToolbarButtonElement, ToolbarButtonProps>(\n  (props: ScopedProps<ToolbarButtonProps>, forwardedRef) => {\n    const { __scopeToolbar, ...buttonProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    return (\n      <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable={!props.disabled}>\n        <Primitive.button type=\"button\" {...buttonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nToolbarButton.displayName = BUTTON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarLink\n * -----------------------------------------------------------------------------------------------*/\n\nconst LINK_NAME = 'ToolbarLink';\n\ntype ToolbarLinkElement = React.ElementRef<typeof Primitive.a>;\ntype PrimitiveLinkProps = Radix.ComponentPropsWithoutRef<typeof Primitive.a>;\ninterface ToolbarLinkProps extends PrimitiveLinkProps {}\n\nconst ToolbarLink = React.forwardRef<ToolbarLinkElement, ToolbarLinkProps>(\n  (props: ScopedProps<ToolbarLinkProps>, forwardedRef) => {\n    const { __scopeToolbar, ...linkProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    return (\n      <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable>\n        <Primitive.a\n          {...linkProps}\n          ref={forwardedRef}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === ' ') event.currentTarget.click();\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nToolbarLink.displayName = LINK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToolbarToggleGroup';\n\ntype ToolbarToggleGroupElement = React.ElementRef<typeof ToggleGroupPrimitive.Root>;\ntype ToggleGroupProps = Radix.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root>;\ninterface ToolbarToggleGroupSingleProps extends Extract<ToggleGroupProps, { type: 'single' }> {}\ninterface ToolbarToggleGroupMultipleProps extends Extract<ToggleGroupProps, { type: 'multiple' }> {}\n\nconst ToolbarToggleGroup = React.forwardRef<\n  ToolbarToggleGroupElement,\n  ToolbarToggleGroupSingleProps | ToolbarToggleGroupMultipleProps\n>(\n  (\n    props: ScopedProps<ToolbarToggleGroupSingleProps | ToolbarToggleGroupMultipleProps>,\n    forwardedRef\n  ) => {\n    const { __scopeToolbar, ...toggleGroupProps } = props;\n    const context = useToolbarContext(TOGGLE_GROUP_NAME, __scopeToolbar);\n    const toggleGroupScope = useToggleGroupScope(__scopeToolbar);\n    return (\n      <ToggleGroupPrimitive.Root\n        data-orientation={context.orientation}\n        dir={context.dir}\n        {...toggleGroupScope}\n        {...toggleGroupProps}\n        ref={forwardedRef}\n        rovingFocus={false}\n      />\n    );\n  }\n);\n\nToolbarToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarToggleItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_ITEM_NAME = 'ToolbarToggleItem';\n\ntype ToolbarToggleItemElement = React.ElementRef<typeof ToggleGroupPrimitive.Item>;\ntype ToggleGroupItemProps = Radix.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item>;\ninterface ToolbarToggleItemProps extends ToggleGroupItemProps {}\n\nconst ToolbarToggleItem = React.forwardRef<ToolbarToggleItemElement, ToolbarToggleItemProps>(\n  (props: ScopedProps<ToolbarToggleItemProps>, forwardedRef) => {\n    const { __scopeToolbar, ...toggleItemProps } = props;\n    const toggleGroupScope = useToggleGroupScope(__scopeToolbar);\n    const scope = { __scopeToolbar: props.__scopeToolbar };\n\n    return (\n      <ToolbarButton asChild {...scope}>\n        <ToggleGroupPrimitive.Item {...toggleGroupScope} {...toggleItemProps} ref={forwardedRef} />\n      </ToolbarButton>\n    );\n  }\n);\n\nToolbarToggleItem.displayName = TOGGLE_ITEM_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = Toolbar;\nconst Separator = ToolbarSeparator;\nconst Button = ToolbarButton;\nconst Link = ToolbarLink;\nconst ToggleGroup = ToolbarToggleGroup;\nconst ToggleItem = ToolbarToggleItem;\n\nexport {\n  createToolbarScope,\n  //\n  Toolbar,\n  ToolbarSeparator,\n  ToolbarButton,\n  ToolbarLink,\n  ToolbarToggleGroup,\n  ToolbarToggleItem,\n  //\n  Root,\n  Separator,\n  Button,\n  Link,\n  ToggleGroup,\n  ToggleItem,\n};\nexport type {\n  ToolbarProps,\n  ToolbarSeparatorProps,\n  ToolbarButtonProps,\n  ToolbarLinkProps,\n  ToolbarToggleGroupSingleProps,\n  ToolbarToggleGroupMultipleProps,\n  ToolbarToggleItemProps,\n};\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { isShadowRoot, isHTMLElement } from '@floating-ui/utils/dom';\n\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null || (_activeElement = _activeElement.shadowRoot) == null ? void 0 : _activeElement.activeElement) != null) {\n    var _activeElement;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  if (isJSDOM()) return false;\n  return !isAndroid() && event.width === 0 && event.height === 0 || isAndroid() && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333• for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isAndroid() {\n  const re = /android/i;\n  return re.test(getPlatform()) || re.test(getUserAgent());\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isJSDOM() {\n  return getUserAgent().includes('jsdom/');\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nfunction isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\nfunction isRootElement(element) {\n  return element.matches('html,body');\n}\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction isTypeableCombobox(element) {\n  if (!element) return false;\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\n\nexport { TYPEABLE_SELECTOR, activeElement, contains, getDocument, getPlatform, getTarget, getUserAgent, isAndroid, isEventTargetWithin, isJSDOM, isMac, isMouseLikePointerType, isReactEvent, isRootElement, isSafari, isTypeableCombobox, isTypeableElement, isVirtualClick, isVirtualPointerEvent, stopEvent };\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // biome-ignore lint/suspicious/noSelfCompare: in source\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: `hasWhileElementsMounted` is intentionally included.\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n","// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n","import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor } from '@floating-ui/utils';\nimport { platform, getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport { isElement, isHTMLElement, getNodeName, getWindow, isLastTraversableNode, getParentNode, getComputedStyle } from '@floating-ui/utils/dom';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n  }, refs);\n}\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  const isDisabledIndex = disabledIndices ? index => disabledIndices.includes(index) : index => {\n    const element = list[index];\n    return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n  };\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabledIndex(index));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === ARROW_RIGHT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === ARROW_LEFT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices,\n          decrement: true\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      return firstCellIndex + sizes[index].width - 1;\n    case 'bl':\n      return firstCellIndex + (sizes[index].height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that aren’t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(_ref, forwardedRef) {\n  let {\n    render,\n    orientation = 'both',\n    loop = true,\n    cols = 1,\n    disabledIndices = [],\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...props\n  } = _ref;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !disabledIndices.includes(index));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n      nextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...disabledIndices, undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl')\n      })]; // navigated cell will never be nullish\n    }\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const toEndKeys = {\n      horizontal: [ARROW_RIGHT],\n      vertical: [ARROW_DOWN],\n      both: [ARROW_RIGHT, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [ARROW_LEFT],\n      vertical: [ARROW_UP],\n      both: [ARROW_LEFT, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n\n      // Wait for FocusManager `returnFocus` to execute.\n      queueMicrotask(() => {\n        enqueueFocus(elementsRef.current[nextIndex]);\n      });\n    }\n  }\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      props.onKeyDown == null || props.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(_ref2, forwardedRef) {\n  let {\n    render,\n    ...props\n  } = _ref2;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      props.onFocus == null || props.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n  const clipPathId = useId();\n  if (!floating) {\n    return null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = platform.isRTL(floating);\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y : '';\n  const dValue = d ||\n  // biome-ignore lint/style/useTemplate: readability\n  'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + (transform != null ? transform : ''),\n      ...restStyle\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(_ref) {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(_ref2) {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true, event, 'hover');\n        }, openDelay);\n      } else {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay(event, true, 'safe-polygon');\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay(event);\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null || floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null || floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren;\n        const ref = domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove(event) {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true, event.nativeEvent, 'hover');\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave(event) {\n          closeWithDelay(event.nativeEvent, false);\n        }\n      }\n    };\n  }, [enabled, restMs, open, onOpenChange, closeWithDelay]);\n}\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n};\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    // biome-ignore lint/performance/noDelete: purity\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(_ref) {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled || !modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floating, activeElement(getDocument(floating))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floating, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled || !closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [disabled, open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getPreviouslyFocusedElement();\n      if (returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n      // If the focus moved somewhere else after mount, avoid returning focus\n      // since it likely entered a different element which should be\n      // respected: https://github.com/floating-ui/floating-ui/issues/2607\n      returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n        enqueueFocus(returnElement, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored — leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [disabled, floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled || !portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled || !floating || typeof MutationObserver !== 'function' || ignoreInitialFocus) {\n      return;\n    }\n    const handleMutation = () => {\n      const tabIndex = floating.getAttribute('tabindex');\n      if (orderRef.current.includes('floating') || activeElement(getDocument(floating)) !== refs.domReference.current && getTabbableContent().length === 0) {\n        if (tabIndex !== '0') {\n          floating.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floating.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floating, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nconst activeLocks = /*#__PURE__*/new Set();\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  const lockId = useId();\n  index(() => {\n    if (!lockScroll) return;\n    activeLocks.add(lockId);\n    const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n    const bodyStyle = document.body.style;\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.pageXOffset;\n    const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.pageYOffset;\n    bodyStyle.overflow = 'hidden';\n    if (scrollbarWidth) {\n      bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n    }\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (isIOS) {\n      var _window$visualViewpor, _window$visualViewpor2;\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n      const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n      Object.assign(bodyStyle, {\n        position: 'fixed',\n        top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n        left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n        right: '0'\n      });\n    }\n    return () => {\n      activeLocks.delete(lockId);\n      if (activeLocks.size === 0) {\n        Object.assign(bodyStyle, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n        if (isIOS) {\n          Object.assign(bodyStyle, {\n            position: '',\n            top: '',\n            left: '',\n            right: ''\n          });\n          window.scrollTo(scrollX, scrollY);\n        }\n      }\n    };\n  }, [lockId, lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: event => {\n          if (referencePress) {\n            onOpenChange(false, event.nativeEvent, 'reference-press');\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        onMouseDown() {\n          endedOrStartedInsideRef.current = true;\n        },\n        onMouseUp() {\n          endedOrStartedInsideRef.current = true;\n        },\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n}\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  var _options$elements2;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  if (process.env.NODE_ENV !== \"production\") {\n    var _options$elements;\n    const err = 'Floating UI: Cannot pass a virtual element to the ' + '`elements.reference` option, as it must be a real DOM element. ' + 'Use `refs.setPositionReference` instead.';\n    if ((_options$elements = options.elements) != null && _options$elements.reference && !isElement(options.elements.reference)) {\n      var _devMessageSet;\n      if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(err))) {\n        var _devMessageSet2;\n        (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(err);\n        console.error(err);\n      }\n    }\n  }\n  const [_domReference, setDomReference] = React.useState(null);\n  const domReference = ((_options$elements2 = options.elements) == null ? void 0 : _options$elements2.reference) || _domReference;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    if (open) {\n      dataRef.current.openEvent = event;\n    }\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    unstable_onOpenChange == null || unstable_onOpenChange(open, event, reason);\n  });\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    refs,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(event) {\n          if (isVirtualPointerEvent(event.nativeEvent)) return;\n          keyboardModalityRef.current = false;\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          if (blockFocusRef.current) return;\n          const target = getTarget(event.nativeEvent);\n          if (visibleOnly && isElement(target)) {\n            try {\n              // Mac Safari unreliably matches `:focus-visible` on the reference\n              // if focus was outside the page initially - use the fallback\n              // instead.\n              if (isSafari() && isMac()) throw Error();\n              if (!target.matches(':focus-visible')) return;\n            } catch (e) {\n              // Old browsers will throw an error when using `:focus-visible`.\n              if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n                return;\n              }\n            }\n          }\n          onOpenChange(true, event.nativeEvent, 'focus');\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = window.setTimeout(() => {\n            const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n            // Focus left the page, keep it open.\n            if (!relatedTarget && activeEl === domReference) return;\n\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            // We can not rely on relatedTarget to point to the correct element\n            // as it will only point to the shadow host of the newly focused element\n            // and not the element that actually has received focus if it is located\n            // inside a shadow root.\n            if (contains(refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false, event.nativeEvent, 'focus');\n          });\n        }\n      }\n    };\n  }, [enabled, visibleOnly, domReference, refs, onOpenChange]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n      tree == null || tree.events.emit('virtualfocus', item);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null || item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled || !tree || !virtual || parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false, event.nativeEvent, 'list-navigation');\n        if (isHTMLElement(domReference) && !virtual) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const sizes = itemSizes || Array.from({\n          length: listRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = buildCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !(disabledIndices != null && disabledIndices.includes(index)));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n        indexRef.current = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loop,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getCellIndices([...(disabledIndices || []), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getCellIndexOfCorner(indexRef.current, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction\n          // we're moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          stopEvent: true\n        })]; // navigated cell will never be nullish\n\n        onNavigate(indexRef.current);\n        if (orientation === 'both') {\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n    const activeItem = listRef.current.find(item => (item == null ? void 0 : item.id) === activeId);\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n          if (virtual && open) {\n            const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n            const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n            if (isArrowKey && deepestNode && virtualItemRef) {\n              const eventObject = new KeyboardEvent('keydown', {\n                key: event.key,\n                bubbles: true\n              });\n              if (isCrossOpenKey || isCrossCloseKey) {\n                var _deepestNode$context, _deepestNode$context2;\n                const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n                const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? activeItem : null;\n                if (dispatchItem) {\n                  stopEvent(event);\n                  dispatchItem.dispatchEvent(eventObject);\n                  setVirtualId(undefined);\n                }\n              }\n              if (isMainKey && deepestNode.context) {\n                if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                  var _deepestNode$context$;\n                  stopEvent(event);\n                  (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                  return;\n                }\n              }\n            }\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossOpenKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true, event.nativeEvent, 'list-navigation');\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...(!isTypeableCombobox(domReference) && ariaActiveDescendantProp),\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, virtualId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item, tree, virtualItemRef, itemSizes, dense]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        reference: {\n          [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n        'aria-controls': open ? floatingId : undefined,\n        ...(ariaRole === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(ariaRole === 'menu' && {\n          id: referenceId\n        }),\n        ...(ariaRole === 'menu' && isNested && {\n          role: 'menuitem'\n        }),\n        ...(role === 'select' && {\n          'aria-autocomplete': 'none'\n        }),\n        ...(role === 'combobox' && {\n          'aria-autocomplete': 'list'\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(ariaRole === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      },\n      item(_ref) {\n        let {\n          active,\n          selected\n        } = _ref;\n        const commonProps = {\n          role: 'option',\n          ...(active && {\n            id: floatingId + \"-option\"\n          })\n        };\n\n        // For `menu`, we are unable to tell if the item is a `menuitemradio`\n        // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n        // avoid defaulting to `menuitem` as it may overwrite custom role props.\n        switch (role) {\n          case 'select':\n            return {\n              ...commonProps,\n              'aria-selected': active && selected\n            };\n          case 'combobox':\n            {\n              return {\n                ...commonProps,\n                ...(active && {\n                  'aria-selected': true\n                })\n              };\n            }\n        }\n        return {};\n      }\n    };\n  }, [enabled, role, ariaRole, open, floatingId, referenceId, isNested]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setInitiated(true);\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n        setTypingChange(false);\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n","import { FloatingPortal } from '@floating-ui/react';\n// import { ChevronUpIcon } from '@radix-ui/react-icons';\nimport { CSSProperties, MouseEvent } from 'react';\nimport { YooEditor } from '@yoopta/editor';\n\nconst colors = [\n  ['Default', 'black'],\n  ['Gray', '#787774'],\n  ['Brown', '#976D57'],\n  ['Orange', '#CC772F'],\n  ['Yellow', '#C29243'],\n  ['Green', '#548064'],\n  ['Blue', '#477DA5'],\n  ['Purple', '#A48BBE'],\n  ['Pink', '#B35588'],\n  ['Red', '#C4554D'],\n];\n\nconst backgroundColors = [\n  ['Default', 'unset'],\n  ['Gray', '#F1F1EF'],\n  ['Brown', '#F3EEEE'],\n  ['Orange', '#F8ECDF'],\n  ['Yellow', '#FAF3DD'],\n  ['Green', '#EEF3ED'],\n  ['Blue', '#E9F3F7'],\n  ['Purple', '#F6F3F8'],\n  ['Pink', '#F9F2F5'],\n  ['Red', '#FAECEC'],\n];\n\n// const linearGradients = [\n//   ['Default', 'linear-gradient(90deg, #000000 0%, #000000 100%)'],\n//   ['Gray', 'linear-gradient(90deg, #787774 0%, #787774 100%)'],\n//   ['Brown', 'linear-gradient(90deg, #976D57 0%, #976D57 100%)'],\n//   ['Orange', 'linear-gradient(90deg, #CC772F 0%, #CC772F 100%)'],\n//   ['Yellow', 'linear-gradient(90deg, #C29243 0%, #C29243 100%)'],\n//   ['Green', 'linear-gradient(90deg, #548064 0%, #548064 100%)'],\n//   ['Blue', 'linear-gradient(90deg, #477DA5 0%, #477DA5 100%)'],\n//   ['Purple', 'linear-gradient(90deg, #A48BBE 0%, #A48BBE 100%)'],\n//   ['Pink', 'linear-gradient(90deg, #B35588 0%, #B35588 100%)'],\n//   ['Red', 'linear-gradient(90deg, #C4554D 0%, #C4554D 100%)'],\n// ];\n\nconst itemStyles = {\n  border: '1px solid #e3e3e3',\n};\n\ntype Props = {\n  editor: YooEditor;\n  highlightColors: CSSProperties;\n  onClose: () => void;\n  refs: { setFloating: (el: any) => void };\n  floatingStyles: React.CSSProperties;\n};\n\nconst HighlightColor = ({ editor, highlightColors, onClose, refs, floatingStyles }: Props) => {\n  const getItemStyles = (type, color) => {\n    if (highlightColors?.[type] === color) {\n      return {\n        border: '2px solid #3b82f6',\n        backgroundColor: color,\n      };\n    }\n\n    return { backgroundColor: color, ...itemStyles };\n  };\n\n  const updateColor = (type, color) => {\n    const value = editor.formats.highlight.getValue();\n    if (value?.[type] === color) {\n      editor.formats.highlight.update({ ...highlightColors, [type]: undefined });\n      return;\n    }\n\n    editor.formats.highlight.update({ ...highlightColors, [type]: color });\n  };\n\n  return (\n    <FloatingPortal id=\"yoo-highlight-color-portal\" root={document.getElementById('yoopta-editor')}>\n      <div style={floatingStyles} ref={refs.setFloating} onClick={(e: MouseEvent) => e.stopPropagation()}>\n        <div className=\"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-p-[5px] yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border-[1px] yoo-toolbar-border-solid yoo-toolbar-border-[#e5e7eb] yoo-toolbar-shadow-y-[4px]\">\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center yoo-toolbar-justify-between\">\n            <span className=\"yoo-toolbar-text-xs\">Text color</span>\n          </div>\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center\">\n            {colors.map(([label, color]) => (\n              <button\n                key={label}\n                title={label}\n                type=\"button\"\n                className=\"yoo-toolbar-w-[25px] yoo-toolbar-h-[25px] yoo-toolbar-rounded-md yoo-toolbar-mx-[2px] yoo-toolbar-my-[5px] yoo-toolbar-border yoo-toolbar-border-solid-[#e3e3e3]\"\n                style={getItemStyles('color', color)}\n                onClick={() => updateColor('color', color)}\n              />\n            ))}\n          </div>\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center yoo-toolbar-justify-between yoo-toolbar-mt-1\">\n            <span className=\"yoo-toolbar-text-xs\">Background color</span>\n          </div>\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center\">\n            {backgroundColors.map(([label, backgroundColor]) => (\n              <button\n                key={label}\n                title={label}\n                type=\"button\"\n                className=\"yoo-toolbar-w-[25px] yoo-toolbar-h-[25px] yoo-toolbar-rounded-md yoo-toolbar-mx-[2px] yoo-toolbar-my-[5px] yoo-toolbar-border yoo-toolbar-border-[#e3e3e3]\"\n                style={getItemStyles('backgroundColor', backgroundColor)}\n                onClick={() => updateColor('backgroundColor', backgroundColor)}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </FloatingPortal>\n  );\n};\n\nexport { HighlightColor };\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","// Should be no imports here!\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: unique symbol = Symbol.for(\"immer-nothing\")\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = Symbol.for(\"immer-draftable\")\n\nexport const DRAFT_STATE: unique symbol = Symbol.for(\"immer-state\")\n","export const errors =\n\tprocess.env.NODE_ENV !== \"production\"\n\t\t? [\n\t\t\t\t// All error codes, starting by 0:\n\t\t\t\tfunction(plugin: string) {\n\t\t\t\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t\t\t\t},\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t\t\t\t},\n\t\t\t\t\"This object has been frozen and should not be mutated\",\n\t\t\t\tfunction(data: any) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\t\t\t\tdata\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t\t\t\t\"Immer forbids circular references\",\n\t\t\t\t\"The first or second argument to `produce` must be a function\",\n\t\t\t\t\"The third argument to `produce` must be a function or undefined\",\n\t\t\t\t\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t\t\t\t\"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'current' expects a draft, got: ${thing}`\n\t\t\t\t},\n\t\t\t\t\"Object.defineProperty() cannot be used on an Immer draft\",\n\t\t\t\t\"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t\t\t\t\"Immer only supports deleting array indices\",\n\t\t\t\t\"Immer only supports setting array indices and the 'length' property\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'original' expects a draft, got: ${thing}`\n\t\t\t\t}\n\t\t\t\t// Note: if more errors are added, the errorOffset in Patches.ts should be increased\n\t\t\t\t// See Patches.ts for additional errors\n\t\t  ]\n\t\t: []\n\nexport function die(error: number, ...args: any[]): never {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tconst e = errors[error]\n\t\tconst msg = typeof e === \"function\" ? e.apply(null, args as any) : e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\tArchType,\n\tdie\n} from \"../internal\"\n\nexport const getPrototypeOf = Object.getPrototypeOf\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor?.[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(15, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/**\n * Each iterates a map, set or array.\n * Or, if any other kind of of object all it's own properties.\n * Regardless whether they are enumerable or symbols\n */\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void\n): void\nexport function each(obj: any, iter: any) {\n\tif (getArchtype(obj) === ArchType.Object) {\n\t\tReflect.ownKeys(obj).forEach(key => {\n\t\t\titer(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): ArchType {\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_\n\t\t: Array.isArray(thing)\n\t\t? ArchType.Array\n\t\t: isMap(thing)\n\t\t? ArchType.Map\n\t\t: isSet(thing)\n\t\t? ArchType.Set\n\t\t: ArchType.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchType.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchType.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchType.Map) thing.set(propOrOldValue, value)\n\telse if (t === ArchType.Set) {\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any, strict: boolean) {\n\tif (isMap(base)) {\n\t\treturn new Map(base)\n\t}\n\tif (isSet(base)) {\n\t\treturn new Set(base)\n\t}\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\n\tif (!strict && isPlainObject(base)) {\n\t\tif (!getPrototypeOf(base)) {\n\t\t\tconst obj = Object.create(null)\n\t\t\treturn Object.assign(obj, base)\n\t\t}\n\t\treturn {...base}\n\t}\n\n\tconst descriptors = Object.getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = Reflect.ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep)\n\t\t// See #590, don't recurse into non-enumerable / Symbol properties when freezing\n\t\t// So use Object.entries (only string-like, enumerables) instead of each()\n\t\tObject.entries(obj).forEach(([key, value]) => freeze(value, true))\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tDrafted,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tArchType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\tbase: any,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(0, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ArchType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ArchType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tArchType,\n\tgetPlugin\n} from \"../internal\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (state.type_ === ArchType.Object || state.type_ === ArchType.Array)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tArchType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE].base_,\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(value, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path)\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result = state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// To preserve insertion order in all cases we then clear the set\n\t\t// And we let finalizeProperty know it needs to re-add non-draft children back to the target\n\t\tlet resultEach = result\n\t\tlet isSet = false\n\t\tif (state.type_ === ArchType.Set) {\n\t\t\tresultEach = new Set(result)\n\t\t\tresult.clear()\n\t\t\tisSet = true\n\t\t}\n\t\teach(resultEach, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path, isSet)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath,\n\ttargetIsSet?: boolean\n) {\n\tif (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n\t\tdie(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ArchType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t} else if (targetIsSet) {\n\t\ttargetObject.add(childValue)\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// Immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\t// Per #590, we never freeze symbolic properties. Just to make sure don't accidentally interfere\n\t\t// with other frameworks.\n\t\tif (\n\t\t\t(!parentState || !parentState.scope_.parent_) &&\n\t\t\ttypeof prop !== \"symbol\" &&\n\t\t\tObject.prototype.propertyIsEnumerable.call(targetObject, prop)\n\t\t)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\t// we never freeze for a non-root scope; as it would prevent pruning for drafts inside wrapping objects\n\tif (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tgetPrototypeOf,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tArchType,\n\tImmerScope\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ArchType.Object\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ArchType.Array\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ArchType.Array : (ArchType.Object as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(value, state))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\t(state.copy_![prop] === value &&\n\t\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t\t(value !== undefined || prop in state.copy_)) ||\n\t\t\t// special case: NaN\n\t\t\t(Number.isNaN(value) && Number.isNaN(state.copy_![prop]))\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\tif (state.copy_) {\n\t\t\tdelete state.copy_[prop]\n\t\t}\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ArchType.Array || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop as any)))\n\t\tdie(13)\n\t// @ts-ignore\n\treturn arrayTraps.set!.call(this, state, prop, undefined)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (\n\t\tprocess.env.NODE_ENV !== \"production\" &&\n\t\tprop !== \"length\" &&\n\t\tisNaN(parseInt(prop as any))\n\t)\n\t\tdie(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {\n\tbase_: any\n\tcopy_: any\n\tscope_: ImmerScope\n}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(\n\t\t\tstate.base_,\n\t\t\tstate.scope_.immer_.useStrictShallowCopy_\n\t\t)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tautoFreeze_: boolean = true\n\tuseStrictShallowCopy_: boolean = false\n\n\tconstructor(config?: {autoFreeze?: boolean; useStrictShallowCopy?: boolean}) {\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t\tif (typeof config?.useStrictShallowCopy === \"boolean\")\n\t\t\tthis.setUseStrictShallowCopy(config!.useStrictShallowCopy)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === undefined) result = base\n\t\t\tif (result === NOTHING) result = undefined\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\tif (patchListener) {\n\t\t\t\tconst p: Patch[] = []\n\t\t\t\tconst ip: Patch[] = []\n\t\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip)\n\t\t\t\tpatchListener(p, ip)\n\t\t\t}\n\t\t\treturn result\n\t\t} else die(1, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (base: any, recipe?: any): any => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => base(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst result = this.produce(base, recipe, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [result, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (!state || !state.isManual_) die(9)\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to enable strict shallow copy.\n\t *\n\t * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n\t */\n\tsetUseStrictShallowCopy(value: boolean) {\n\t\tthis.useStrictShallowCopy_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: createProxyProxy(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tisFrozen\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(10, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value) || isFrozen(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tif (state) {\n\t\tif (!state.modified_) return state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_)\n\t} else {\n\t\tcopy = shallowCopy(value, true)\n\t}\n\t// recurse\n\teach(copy, (key, childValue) => {\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\tif (state) {\n\t\tstate.finalized_ = false\n\t}\n\treturn copy\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze,\n\tObjectish\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to enable strict shallow copy.\n *\n * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n */\nexport const setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\n","import {\n  InsertNodeOperation,\n  MergeNodeOperation,\n  MoveNodeOperation,\n  Operation,\n  RemoveNodeOperation,\n  SplitNodeOperation,\n} from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Path` arrays are a list of indexes that describe a node's exact position in\n * a Slate node tree. Although they are usually relative to the root `Editor`\n * object, they can be relative to any `Node` object.\n */\n\nexport type Path = number[]\n\nexport interface PathAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface PathLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface PathTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PathInterface {\n  /**\n   * Get a list of ancestor paths for a given path.\n   *\n   * The paths are sorted from shallowest to deepest ancestor. However, if the\n   * `reverse: true` option is passed, they are reversed.\n   */\n  ancestors: (path: Path, options?: PathAncestorsOptions) => Path[]\n\n  /**\n   * Get the common ancestor path of two paths.\n   */\n  common: (path: Path, another: Path) => Path\n\n  /**\n   * Compare a path to another, returning an integer indicating whether the path\n   * was before, at, or after the other.\n   *\n   * Note: Two paths of unequal length can still receive a `0` result if one is\n   * directly above or below the other. If you want exact matching, use\n   * [[Path.equals]] instead.\n   */\n  compare: (path: Path, another: Path) => -1 | 0 | 1\n\n  /**\n   * Check if a path ends after one of the indexes in another.\n   */\n  endsAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends at one of the indexes in another.\n   */\n  endsAt: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends before one of the indexes in another.\n   */\n  endsBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is exactly equal to another.\n   */\n  equals: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if the path of previous sibling node exists\n   */\n  hasPrevious: (path: Path) => boolean\n\n  /**\n   * Check if a path is after another.\n   */\n  isAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is an ancestor of another.\n   */\n  isAncestor: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is before another.\n   */\n  isBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a child of another.\n   */\n  isChild: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is equal to or an ancestor of another.\n   */\n  isCommon: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a descendant of another.\n   */\n  isDescendant: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is the parent of another.\n   */\n  isParent: (path: Path, another: Path) => boolean\n\n  /**\n   * Check is a value implements the `Path` interface.\n   */\n  isPath: (value: any) => value is Path\n\n  /**\n   * Check if a path is a sibling of another.\n   */\n  isSibling: (path: Path, another: Path) => boolean\n\n  /**\n   * Get a list of paths at every level down to a path. Note: this is the same\n   * as `Path.ancestors`, but including the path itself.\n   *\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\n   * true` option is passed, they are reversed.\n   */\n  levels: (path: Path, options?: PathLevelsOptions) => Path[]\n\n  /**\n   * Given a path, get the path to the next sibling node.\n   */\n  next: (path: Path) => Path\n\n  /**\n   * Returns whether this operation can affect paths or not. Used as an\n   * optimization when updating dirty paths during normalization\n   *\n   * NOTE: This *must* be kept in sync with the implementation of 'transform'\n   * below\n   */\n  operationCanTransformPath: (\n    operation: Operation\n  ) => operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation\n\n  /**\n   * Given a path, return a new path referring to the parent node above it.\n   */\n  parent: (path: Path) => Path\n\n  /**\n   * Given a path, get the path to the previous sibling node.\n   */\n  previous: (path: Path) => Path\n\n  /**\n   * Get a path relative to an ancestor.\n   */\n  relative: (path: Path, ancestor: Path) => Path\n\n  /**\n   * Transform a path by an operation.\n   */\n  transform: (\n    path: Path,\n    operation: Operation,\n    options?: PathTransformOptions\n  ) => Path | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Path: PathInterface = {\n  ancestors(path: Path, options: PathAncestorsOptions = {}): Path[] {\n    const { reverse = false } = options\n    let paths = Path.levels(path, options)\n\n    if (reverse) {\n      paths = paths.slice(1)\n    } else {\n      paths = paths.slice(0, -1)\n    }\n\n    return paths\n  },\n\n  common(path: Path, another: Path): Path {\n    const common: Path = []\n\n    for (let i = 0; i < path.length && i < another.length; i++) {\n      const av = path[i]\n      const bv = another[i]\n\n      if (av !== bv) {\n        break\n      }\n\n      common.push(av)\n    }\n\n    return common\n  },\n\n  compare(path: Path, another: Path): -1 | 0 | 1 {\n    const min = Math.min(path.length, another.length)\n\n    for (let i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1\n      if (path[i] > another[i]) return 1\n    }\n\n    return 0\n  },\n\n  endsAfter(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av > bv\n  },\n\n  endsAt(path: Path, another: Path): boolean {\n    const i = path.length\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    return Path.equals(as, bs)\n  },\n\n  endsBefore(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av < bv\n  },\n\n  equals(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length && path.every((n, i) => n === another[i])\n    )\n  },\n\n  hasPrevious(path: Path): boolean {\n    return path[path.length - 1] > 0\n  },\n\n  isAfter(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === 1\n  },\n\n  isAncestor(path: Path, another: Path): boolean {\n    return path.length < another.length && Path.compare(path, another) === 0\n  },\n\n  isBefore(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === -1\n  },\n\n  isChild(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length + 1 && Path.compare(path, another) === 0\n    )\n  },\n\n  isCommon(path: Path, another: Path): boolean {\n    return path.length <= another.length && Path.compare(path, another) === 0\n  },\n\n  isDescendant(path: Path, another: Path): boolean {\n    return path.length > another.length && Path.compare(path, another) === 0\n  },\n\n  isParent(path: Path, another: Path): boolean {\n    return (\n      path.length + 1 === another.length && Path.compare(path, another) === 0\n    )\n  },\n\n  isPath(value: any): value is Path {\n    return (\n      Array.isArray(value) &&\n      (value.length === 0 || typeof value[0] === 'number')\n    )\n  },\n\n  isSibling(path: Path, another: Path): boolean {\n    if (path.length !== another.length) {\n      return false\n    }\n\n    const as = path.slice(0, -1)\n    const bs = another.slice(0, -1)\n    const al = path[path.length - 1]\n    const bl = another[another.length - 1]\n    return al !== bl && Path.equals(as, bs)\n  },\n\n  levels(path: Path, options: PathLevelsOptions = {}): Path[] {\n    const { reverse = false } = options\n    const list: Path[] = []\n\n    for (let i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i))\n    }\n\n    if (reverse) {\n      list.reverse()\n    }\n\n    return list\n  },\n\n  next(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the next path of a root path [${path}], because it has no next index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n    return path.slice(0, -1).concat(last + 1)\n  },\n\n  operationCanTransformPath(\n    operation: Operation\n  ): operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true\n      default:\n        return false\n    }\n  },\n\n  parent(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(`Cannot get the parent path of the root path [${path}].`)\n    }\n\n    return path.slice(0, -1)\n  },\n\n  previous(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the previous path of a root path [${path}], because it has no previous index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n\n    if (last <= 0) {\n      throw new Error(\n        `Cannot get the previous path of a first child path [${path}] because it would result in a negative index.`\n      )\n    }\n\n    return path.slice(0, -1).concat(last - 1)\n  },\n\n  relative(path: Path, ancestor: Path): Path {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\n        `Cannot get the relative path of [${path}] inside ancestor [${ancestor}], because it is not above or equal to the path.`\n      )\n    }\n\n    return path.slice(ancestor.length)\n  },\n\n  transform(\n    path: Path | null,\n    operation: Operation,\n    options: PathTransformOptions = {}\n  ): Path | null {\n    if (!path) return null\n\n    // PERF: use destructing instead of immer\n    const p = [...path]\n    const { affinity = 'forward' } = options\n\n    // PERF: Exit early if the operation is guaranteed not to have an effect.\n    if (path.length === 0) {\n      return p\n    }\n\n    switch (operation.type) {\n      case 'insert_node': {\n        const { path: op } = operation\n\n        if (\n          Path.equals(op, p) ||\n          Path.endsBefore(op, p) ||\n          Path.isAncestor(op, p)\n        ) {\n          p[op.length - 1] += 1\n        }\n\n        break\n      }\n\n      case 'remove_node': {\n        const { path: op } = operation\n\n        if (Path.equals(op, p) || Path.isAncestor(op, p)) {\n          return null\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n\n      case 'merge_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p) || Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        } else if (Path.isAncestor(op, p)) {\n          p[op.length - 1] -= 1\n          p[op.length] += position\n        }\n\n        break\n      }\n\n      case 'split_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p)) {\n          if (affinity === 'forward') {\n            p[p.length - 1] += 1\n          } else if (affinity === 'backward') {\n            // Nothing, because it still refers to the right path.\n          } else {\n            return null\n          }\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] += 1\n        } else if (Path.isAncestor(op, p) && path[op.length] >= position) {\n          p[op.length - 1] += 1\n          p[op.length] -= position\n        }\n\n        break\n      }\n\n      case 'move_node': {\n        const { path: op, newPath: onp } = operation\n\n        // If the old and new path are the same, it's a no-op.\n        if (Path.equals(op, onp)) {\n          return p\n        }\n\n        if (Path.isAncestor(op, p) || Path.equals(op, p)) {\n          const copy = onp.slice()\n\n          if (Path.endsBefore(op, onp) && op.length < onp.length) {\n            copy[op.length - 1] -= 1\n          }\n\n          return copy.concat(p.slice(op.length))\n        } else if (\n          Path.isSibling(op, onp) &&\n          (Path.isAncestor(onp, p) || Path.equals(onp, p))\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          } else {\n            p[op.length - 1] += 1\n          }\n        } else if (\n          Path.endsBefore(onp, p) ||\n          Path.equals(onp, p) ||\n          Path.isAncestor(onp, p)\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          }\n\n          p[onp.length - 1] += 1\n        } else if (Path.endsBefore(op, p)) {\n          if (Path.equals(onp, p)) {\n            p[onp.length - 1] += 1\n          }\n\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n    }\n\n    return p\n  },\n}\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import { createDraft, finishDraft, isDraft } from 'immer'\nimport {\n  Ancestor,\n  Descendant,\n  Editor,\n  Element,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  Point,\n  Range,\n  Scrubber,\n  Selection,\n  Text,\n} from '../../index'\n\nexport interface GeneralTransforms {\n  /**\n   * Transform the editor by an operation.\n   */\n  transform: (editor: Editor, op: Operation) => void\n}\n\nconst applyToDraft = (editor: Editor, selection: Selection, op: Operation) => {\n  switch (op.type) {\n    case 'insert_node': {\n      const { path, node } = op\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      if (index > parent.children.length) {\n        throw new Error(\n          `Cannot apply an \"insert_node\" operation at path [${path}] because the destination is past the end of the node.`\n        )\n      }\n\n      parent.children.splice(index, 0, node)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'insert_text': {\n      const { path, offset, text } = op\n      if (text.length === 0) break\n      const node = Node.leaf(editor, path)\n      const before = node.text.slice(0, offset)\n      const after = node.text.slice(offset)\n      node.text = before + text + after\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'merge_node': {\n      const { path } = op\n      const node = Node.get(editor, path)\n      const prevPath = Path.previous(path)\n      const prev = Node.get(editor, prevPath)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      if (Text.isText(node) && Text.isText(prev)) {\n        prev.text += node.text\n      } else if (!Text.isText(node) && !Text.isText(prev)) {\n        prev.children.push(...node.children)\n      } else {\n        throw new Error(\n          `Cannot apply a \"merge_node\" operation at path [${path}] to nodes of different interfaces: ${Scrubber.stringify(\n            node\n          )} ${Scrubber.stringify(prev)}`\n        )\n      }\n\n      parent.children.splice(index, 1)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'move_node': {\n      const { path, newPath } = op\n\n      if (Path.isAncestor(path, newPath)) {\n        throw new Error(\n          `Cannot move a path [${path}] to new path [${newPath}] because the destination is inside itself.`\n        )\n      }\n\n      const node = Node.get(editor, path)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      // This is tricky, but since the `path` and `newPath` both refer to\n      // the same snapshot in time, there's a mismatch. After either\n      // removing the original position, the second step's path can be out\n      // of date. So instead of using the `op.newPath` directly, we\n      // transform `op.path` to ascertain what the `newPath` would be after\n      // the operation was applied.\n      parent.children.splice(index, 1)\n      const truePath = Path.transform(path, op)!\n      const newParent = Node.get(editor, Path.parent(truePath)) as Ancestor\n      const newIndex = truePath[truePath.length - 1]\n\n      newParent.children.splice(newIndex, 0, node)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'remove_node': {\n      const { path } = op\n      const index = path[path.length - 1]\n      const parent = Node.parent(editor, path)\n      parent.children.splice(index, 1)\n\n      // Transform all the points in the value, but if the point was in the\n      // node that was removed we need to update the range or remove it.\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          const result = Point.transform(point, op)\n\n          if (selection != null && result != null) {\n            selection[key] = result\n          } else {\n            let prev: NodeEntry<Text> | undefined\n            let next: NodeEntry<Text> | undefined\n\n            for (const [n, p] of Node.texts(editor)) {\n              if (Path.compare(p, path) === -1) {\n                prev = [n, p]\n              } else {\n                next = [n, p]\n                break\n              }\n            }\n\n            let preferNext = false\n            if (prev && next) {\n              if (Path.equals(next[1], path)) {\n                preferNext = !Path.hasPrevious(next[1])\n              } else {\n                preferNext =\n                  Path.common(prev[1], path).length <\n                  Path.common(next[1], path).length\n              }\n            }\n\n            if (prev && !preferNext) {\n              point.path = prev[1]\n              point.offset = prev[0].text.length\n            } else if (next) {\n              point.path = next[1]\n              point.offset = 0\n            } else {\n              selection = null\n            }\n          }\n        }\n      }\n\n      break\n    }\n\n    case 'remove_text': {\n      const { path, offset, text } = op\n      if (text.length === 0) break\n      const node = Node.leaf(editor, path)\n      const before = node.text.slice(0, offset)\n      const after = node.text.slice(offset + text.length)\n      node.text = before + after\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'set_node': {\n      const { path, properties, newProperties } = op\n\n      if (path.length === 0) {\n        throw new Error(`Cannot set properties on the root node!`)\n      }\n\n      const node = Node.get(editor, path)\n\n      for (const key in newProperties) {\n        if (key === 'children' || key === 'text') {\n          throw new Error(`Cannot set the \"${key}\" property of nodes!`)\n        }\n\n        const value = newProperties[<keyof Node>key]\n\n        if (value == null) {\n          delete node[<keyof Node>key]\n        } else {\n          node[<keyof Node>key] = value\n        }\n      }\n\n      // properties that were previously defined, but are now missing, must be deleted\n      for (const key in properties) {\n        if (!newProperties.hasOwnProperty(key)) {\n          delete node[<keyof Node>key]\n        }\n      }\n\n      break\n    }\n\n    case 'set_selection': {\n      const { newProperties } = op\n\n      if (newProperties == null) {\n        selection = newProperties\n      } else {\n        if (selection == null) {\n          if (!Range.isRange(newProperties)) {\n            throw new Error(\n              `Cannot apply an incomplete \"set_selection\" operation properties ${Scrubber.stringify(\n                newProperties\n              )} when there is no current selection.`\n            )\n          }\n\n          selection = { ...newProperties }\n        }\n\n        for (const key in newProperties) {\n          const value = newProperties[<keyof Range>key]\n\n          if (value == null) {\n            if (key === 'anchor' || key === 'focus') {\n              throw new Error(`Cannot remove the \"${key}\" selection property`)\n            }\n\n            delete selection[<keyof Range>key]\n          } else {\n            selection[<keyof Range>key] = value\n          }\n        }\n      }\n\n      break\n    }\n\n    case 'split_node': {\n      const { path, position, properties } = op\n\n      if (path.length === 0) {\n        throw new Error(\n          `Cannot apply a \"split_node\" operation at path [${path}] because the root node cannot be split.`\n        )\n      }\n\n      const node = Node.get(editor, path)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n      let newNode: Descendant\n\n      if (Text.isText(node)) {\n        const before = node.text.slice(0, position)\n        const after = node.text.slice(position)\n        node.text = before\n        newNode = {\n          ...(properties as Partial<Text>),\n          text: after,\n        }\n      } else {\n        const before = node.children.slice(0, position)\n        const after = node.children.slice(position)\n        node.children = before\n\n        newNode = {\n          ...(properties as Partial<Element>),\n          children: after,\n        }\n      }\n\n      parent.children.splice(index + 1, 0, newNode)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n  }\n  return selection\n}\n\n// eslint-disable-next-line no-redeclare\nexport const GeneralTransforms: GeneralTransforms = {\n  transform(editor: Editor, op: Operation): void {\n    editor.children = createDraft(editor.children)\n    let selection = editor.selection && createDraft(editor.selection)\n\n    try {\n      selection = applyToDraft(editor, selection, op)\n    } finally {\n      editor.children = finishDraft(editor.children)\n\n      if (selection) {\n        editor.selection = isDraft(selection)\n          ? (finishDraft(selection) as Range)\n          : selection\n      } else {\n        editor.selection = null\n      }\n    }\n  },\n}\n","import { Editor, Element, Location, Node, Path } from '../../index'\nimport { NodeMatch, PropsCompare, PropsMerge } from '../editor'\nimport { MaximizeMode, RangeMode } from '../../types/types'\n\nexport interface NodeInsertNodesOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: RangeMode\n  hanging?: boolean\n  select?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface NodeTransforms {\n  /**\n   * Insert nodes in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNodes: <T extends Node>(\n    editor: Editor,\n    nodes: Node | Node[],\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Lift nodes at a specific location upwards in the document tree, splitting\n   * their parent in two if necessary.\n   */\n  liftNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Merge a node at a location with the previous node of the same depth,\n   * removing any empty containing nodes after the merge if necessary.\n   */\n  mergeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Move the nodes at a location to a new location.\n   */\n  moveNodes: <T extends Node>(\n    editor: Editor,\n    options: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      to: Path\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Remove the nodes at a specific location in the document.\n   */\n  removeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Set new properties on the nodes at a location.\n   */\n  setNodes: <T extends Node>(\n    editor: Editor,\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n\n  /**\n   * Split the nodes at a specific location.\n   */\n  splitNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      always?: boolean\n      height?: number\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unset properties on the nodes at a location.\n   */\n  unsetNodes: <T extends Node>(\n    editor: Editor,\n    props: string | string[],\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unwrap the nodes at a location from a parent node, splitting the parent if\n   * necessary to ensure that only the content in the range is unwrapped.\n   */\n  unwrapNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Wrap the nodes at a location in a new container node, splitting the edges\n   * of the range first to ensure that only the content in the range is wrapped.\n   */\n  wrapNodes: <T extends Node>(\n    editor: Editor,\n    element: Element,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const NodeTransforms: NodeTransforms = {\n  insertNodes(editor, nodes, options) {\n    editor.insertNodes(nodes, options)\n  },\n  liftNodes(editor, options) {\n    editor.liftNodes(options)\n  },\n  mergeNodes(editor, options) {\n    editor.mergeNodes(options)\n  },\n  moveNodes(editor, options) {\n    editor.moveNodes(options)\n  },\n  removeNodes(editor, options) {\n    editor.removeNodes(options)\n  },\n  setNodes(editor, props, options) {\n    editor.setNodes(props, options)\n  },\n  splitNodes(editor, options) {\n    editor.splitNodes(options)\n  },\n  unsetNodes(editor, props, options) {\n    editor.unsetNodes(props, options)\n  },\n  unwrapNodes(editor, options) {\n    editor.unwrapNodes(options)\n  },\n  wrapNodes(editor, element, options) {\n    editor.wrapNodes(element, options)\n  },\n}\n","import { Editor, Location, Point, Range } from '../../index'\nimport { MoveUnit, SelectionEdge } from '../../types/types'\n\nexport interface SelectionCollapseOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionMoveOptions {\n  distance?: number\n  unit?: MoveUnit\n  reverse?: boolean\n  edge?: SelectionEdge\n}\n\nexport interface SelectionSetPointOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionTransforms {\n  /**\n   * Collapse the selection.\n   */\n  collapse: (editor: Editor, options?: SelectionCollapseOptions) => void\n\n  /**\n   * Unset the selection.\n   */\n  deselect: (editor: Editor) => void\n\n  /**\n   * Move the selection's point forward or backward.\n   */\n  move: (editor: Editor, options?: SelectionMoveOptions) => void\n\n  /**\n   * Set the selection to a new value.\n   */\n  select: (editor: Editor, target: Location) => void\n\n  /**\n   * Set new properties on one of the selection's points.\n   */\n  setPoint: (\n    editor: Editor,\n    props: Partial<Point>,\n    options?: SelectionSetPointOptions\n  ) => void\n\n  /**\n   * Set new properties on the selection.\n   */\n  setSelection: (editor: Editor, props: Partial<Range>) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const SelectionTransforms: SelectionTransforms = {\n  collapse(editor, options) {\n    editor.collapse(options)\n  },\n  deselect(editor) {\n    editor.deselect()\n  },\n  move(editor, options) {\n    editor.move(options)\n  },\n  select(editor, target) {\n    editor.select(target)\n  },\n  setPoint(editor, props, options) {\n    editor.setPoint(props, options)\n  },\n  setSelection(editor, props) {\n    editor.setSelection(props)\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\n\n/*\n  Custom deep equal comparison for Slate nodes.\n\n  We don't need general purpose deep equality;\n  Slate only supports plain values, Arrays, and nested objects.\n  Complex values nested inside Arrays are not supported.\n\n  Slate objects are designed to be serialised, so\n  missing keys are deliberately normalised to undefined.\n */\nexport const isDeepEqual = (\n  node: Record<string, any>,\n  another: Record<string, any>\n): boolean => {\n  for (const key in node) {\n    const a = node[key]\n    const b = another[key]\n    if (isPlainObject(a) && isPlainObject(b)) {\n      if (!isDeepEqual(a, b)) return false\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false\n      }\n    } else if (a !== b) {\n      return false\n    }\n  }\n\n  /*\n    Deep object equality is only necessary in one direction; in the reverse direction\n    we are only looking for keys that are missing.\n    As above, undefined keys are normalised to missing.\n  */\n\n  for (const key in another) {\n    if (node[key] === undefined && another[key] !== undefined) {\n      return false\n    }\n  }\n\n  return true\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","import { produce } from 'immer'\nimport { isPlainObject } from 'is-plain-object'\nimport { ExtendedType, Operation, Path, Point, PointEntry } from '..'\nimport { RangeDirection } from '../types/types'\n\n/**\n * `Range` objects are a set of points that refer to a specific span of a Slate\n * document. They can define a span inside a single node or a can span across\n * multiple nodes.\n */\n\nexport interface BaseRange {\n  anchor: Point\n  focus: Point\n}\n\nexport type Range = ExtendedType<'Range', BaseRange>\n\nexport interface RangeEdgesOptions {\n  reverse?: boolean\n}\n\nexport interface RangeTransformOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface RangeInterface {\n  /**\n   * Get the start and end points of a range, in the order in which they appear\n   * in the document.\n   */\n  edges: (range: Range, options?: RangeEdgesOptions) => [Point, Point]\n\n  /**\n   * Get the end point of a range.\n   */\n  end: (range: Range) => Point\n\n  /**\n   * Check if a range is exactly equal to another.\n   */\n  equals: (range: Range, another: Range) => boolean\n\n  /**\n   * Check if a range includes a path, a point or part of another range.\n   */\n  includes: (range: Range, target: Path | Point | Range) => boolean\n\n  /**\n   * Get the intersection of a range with another.\n   */\n  intersection: (range: Range, another: Range) => Range | null\n\n  /**\n   * Check if a range is backward, meaning that its anchor point appears in the\n   * document _after_ its focus point.\n   */\n  isBackward: (range: Range) => boolean\n\n  /**\n   * Check if a range is collapsed, meaning that both its anchor and focus\n   * points refer to the exact same position in the document.\n   */\n  isCollapsed: (range: Range) => boolean\n\n  /**\n   * Check if a range is expanded.\n   *\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\n   */\n  isExpanded: (range: Range) => boolean\n\n  /**\n   * Check if a range is forward.\n   *\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\n   */\n  isForward: (range: Range) => boolean\n\n  /**\n   * Check if a value implements the [[Range]] interface.\n   */\n  isRange: (value: any) => value is Range\n\n  /**\n   * Iterate through all of the point entries in a range.\n   */\n  points: (range: Range) => Generator<PointEntry, void, undefined>\n\n  /**\n   * Get the start point of a range.\n   */\n  start: (range: Range) => Point\n\n  /**\n   * Transform a range by an operation.\n   */\n  transform: (\n    range: Range,\n    op: Operation,\n    options?: RangeTransformOptions\n  ) => Range | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Range: RangeInterface = {\n  edges(range: Range, options: RangeEdgesOptions = {}): [Point, Point] {\n    const { reverse = false } = options\n    const { anchor, focus } = range\n    return Range.isBackward(range) === reverse\n      ? [anchor, focus]\n      : [focus, anchor]\n  },\n\n  end(range: Range): Point {\n    const [, end] = Range.edges(range)\n    return end\n  },\n\n  equals(range: Range, another: Range): boolean {\n    return (\n      Point.equals(range.anchor, another.anchor) &&\n      Point.equals(range.focus, another.focus)\n    )\n  },\n\n  includes(range: Range, target: Path | Point | Range): boolean {\n    if (Range.isRange(target)) {\n      if (\n        Range.includes(range, target.anchor) ||\n        Range.includes(range, target.focus)\n      ) {\n        return true\n      }\n\n      const [rs, re] = Range.edges(range)\n      const [ts, te] = Range.edges(target)\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te)\n    }\n\n    const [start, end] = Range.edges(range)\n    let isAfterStart = false\n    let isBeforeEnd = false\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0\n      isBeforeEnd = Point.compare(target, end) <= 0\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0\n      isBeforeEnd = Path.compare(target, end.path) <= 0\n    }\n\n    return isAfterStart && isBeforeEnd\n  },\n\n  intersection(range: Range, another: Range): Range | null {\n    const { anchor, focus, ...rest } = range\n    const [s1, e1] = Range.edges(range)\n    const [s2, e2] = Range.edges(another)\n    const start = Point.isBefore(s1, s2) ? s2 : s1\n    const end = Point.isBefore(e1, e2) ? e1 : e2\n\n    if (Point.isBefore(end, start)) {\n      return null\n    } else {\n      return { anchor: start, focus: end, ...rest }\n    }\n  },\n\n  isBackward(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.isAfter(anchor, focus)\n  },\n\n  isCollapsed(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.equals(anchor, focus)\n  },\n\n  isExpanded(range: Range): boolean {\n    return !Range.isCollapsed(range)\n  },\n\n  isForward(range: Range): boolean {\n    return !Range.isBackward(range)\n  },\n\n  isRange(value: any): value is Range {\n    return (\n      isPlainObject(value) &&\n      Point.isPoint(value.anchor) &&\n      Point.isPoint(value.focus)\n    )\n  },\n\n  *points(range: Range): Generator<PointEntry, void, undefined> {\n    yield [range.anchor, 'anchor']\n    yield [range.focus, 'focus']\n  },\n\n  start(range: Range): Point {\n    const [start] = Range.edges(range)\n    return start\n  },\n\n  transform(\n    range: Range | null,\n    op: Operation,\n    options: RangeTransformOptions = {}\n  ): Range | null {\n    return produce(range, r => {\n      if (r === null) {\n        return null\n      }\n      const { affinity = 'inward' } = options\n      let affinityAnchor: 'forward' | 'backward' | null\n      let affinityFocus: 'forward' | 'backward' | null\n\n      if (affinity === 'inward') {\n        // If the range is collapsed, make sure to use the same affinity to\n        // avoid the two points passing each other and expanding in the opposite\n        // direction\n        const isCollapsed = Range.isCollapsed(r)\n        if (Range.isForward(r)) {\n          affinityAnchor = 'forward'\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward'\n        } else {\n          affinityAnchor = 'backward'\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward'\n        }\n      } else if (affinity === 'outward') {\n        if (Range.isForward(r)) {\n          affinityAnchor = 'backward'\n          affinityFocus = 'forward'\n        } else {\n          affinityAnchor = 'forward'\n          affinityFocus = 'backward'\n        }\n      } else {\n        affinityAnchor = affinity\n        affinityFocus = affinity\n      }\n      const anchor = Point.transform(r.anchor, op, { affinity: affinityAnchor })\n      const focus = Point.transform(r.focus, op, { affinity: affinityFocus })\n\n      if (!anchor || !focus) {\n        return null\n      }\n\n      r.anchor = anchor\n      r.focus = focus\n    })\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Ancestor, Descendant, Editor, ExtendedType, Node, Path } from '..'\n\n/**\n * `Element` objects are a type of node in a Slate document that contain other\n * element nodes or text nodes. They can be either \"blocks\" or \"inlines\"\n * depending on the Slate editor's configuration.\n */\n\nexport interface BaseElement {\n  children: Descendant[]\n}\n\nexport type Element = ExtendedType<'Element', BaseElement>\n\nexport interface ElementInterface {\n  /**\n   * Check if a value implements the 'Ancestor' interface.\n   */\n  isAncestor: (value: any) => value is Ancestor\n\n  /**\n   * Check if a value implements the `Element` interface.\n   */\n  isElement: (value: any) => value is Element\n\n  /**\n   * Check if a value is an array of `Element` objects.\n   */\n  isElementList: (value: any) => value is Element[]\n\n  /**\n   * Check if a set of props is a partial of Element.\n   */\n  isElementProps: (props: any) => props is Partial<Element>\n\n  /**\n   * Check if a value implements the `Element` interface and has elementKey with selected value.\n   * Default it check to `type` key value\n   */\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey?: string\n  ) => value is T\n\n  /**\n   * Check if an element matches set of properties.\n   *\n   * Note: this checks custom properties, and it does not ensure that any\n   * children are equivalent.\n   */\n  matches: (element: Element, props: Partial<Element>) => boolean\n}\n\n/**\n * Shared the function with isElementType utility\n */\nconst isElement = (value: any): value is Element => {\n  return (\n    isPlainObject(value) &&\n    Node.isNodeList(value.children) &&\n    !Editor.isEditor(value)\n  )\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Element: ElementInterface = {\n  isAncestor(value: any): value is Ancestor {\n    return isPlainObject(value) && Node.isNodeList(value.children)\n  },\n\n  isElement,\n\n  isElementList(value: any): value is Element[] {\n    return Array.isArray(value) && value.every(val => Element.isElement(val))\n  },\n\n  isElementProps(props: any): props is Partial<Element> {\n    return (props as Partial<Element>).children !== undefined\n  },\n\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey: string = 'type'\n  ): value is T => {\n    return (\n      isElement(value) && value[<keyof Descendant>elementKey] === elementVal\n    )\n  },\n\n  matches(element: Element, props: Partial<Element>): boolean {\n    for (const key in props) {\n      if (key === 'children') {\n        continue\n      }\n\n      if (element[<keyof Descendant>key] !== props[<keyof Descendant>key]) {\n        return false\n      }\n    }\n\n    return true\n  },\n}\n\n/**\n * `ElementEntry` objects refer to an `Element` and the `Path` where it can be\n * found inside a root node.\n */\nexport type ElementEntry = [Element, Path]\n","import { produce } from 'immer'\nimport { Editor, Path, Range, Scrubber, Text } from '..'\nimport { Element, ElementEntry } from './element'\n\n/**\n * The `Node` union type represents all of the different types of nodes that\n * occur in a Slate document tree.\n */\n\nexport type BaseNode = Editor | Element | Text\nexport type Node = Editor | Element | Text\n\nexport interface NodeAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeChildrenOptions {\n  reverse?: boolean\n}\n\nexport interface NodeDescendantsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeElementsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeNodesOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (entry: NodeEntry) => boolean\n}\n\nexport interface NodeTextsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeInterface {\n  /**\n   * Get the node at a specific path, asserting that it's an ancestor node.\n   */\n  ancestor: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Return a generator of all the ancestor nodes above a specific path.\n   *\n   * By default the order is top-down, from highest to lowest ancestor in\n   * the tree, but you can pass the `reverse: true` option to go bottom-up.\n   */\n  ancestors: (\n    root: Node,\n    path: Path,\n    options?: NodeAncestorsOptions\n  ) => Generator<NodeEntry<Ancestor>, void, undefined>\n\n  /**\n   * Get the child of a node at a specific index.\n   */\n  child: (root: Node, index: number) => Descendant\n\n  /**\n   * Iterate over the children of a node at a specific path.\n   */\n  children: (\n    root: Node,\n    path: Path,\n    options?: NodeChildrenOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Get an entry for the common ancesetor node of two paths.\n   */\n  common: (root: Node, path: Path, another: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, asserting that it's a descendant node.\n   */\n  descendant: (root: Node, path: Path) => Descendant\n\n  /**\n   * Return a generator of all the descendant node entries inside a root node.\n   */\n  descendants: (\n    root: Node,\n    options?: NodeDescendantsOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Return a generator of all the element nodes inside a root node. Each iteration\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\n   * root node is an element it will be included in the iteration as well.\n   */\n  elements: (\n    root: Node,\n    options?: NodeElementsOptions\n  ) => Generator<ElementEntry, void, undefined>\n\n  /**\n   * Extract props from a Node.\n   */\n  extractProps: (node: Node) => NodeProps\n\n  /**\n   * Get the first node entry in a root node from a path.\n   */\n  first: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the sliced fragment represented by a range inside a root node.\n   */\n  fragment: (root: Node, range: Range) => Descendant[]\n\n  /**\n   * Get the descendant node referred to by a specific path. If the path is an\n   * empty array, it refers to the root node itself.\n   */\n  get: (root: Node, path: Path) => Node\n\n  /**\n   * Check if a descendant node exists at a specific path.\n   */\n  has: (root: Node, path: Path) => boolean\n\n  /**\n   * Check if a value implements the `Node` interface.\n   */\n  isNode: (value: any) => value is Node\n\n  /**\n   * Check if a value is a list of `Node` objects.\n   */\n  isNodeList: (value: any) => value is Node[]\n\n  /**\n   * Get the last node entry in a root node from a path.\n   */\n  last: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, ensuring it's a leaf text node.\n   */\n  leaf: (root: Node, path: Path) => Text\n\n  /**\n   * Return a generator of the in a branch of the tree, from a specific path.\n   *\n   * By default the order is top-down, from highest to lowest node in the tree,\n   * but you can pass the `reverse: true` option to go bottom-up.\n   */\n  levels: (\n    root: Node,\n    path: Path,\n    options?: NodeLevelsOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Check if a node matches a set of props.\n   */\n  matches: (node: Node, props: Partial<Node>) => boolean\n\n  /**\n   * Return a generator of all the node entries of a root node. Each entry is\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\n   * position inside the root node.\n   */\n  nodes: (\n    root: Node,\n    options?: NodeNodesOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Get the parent of a node at a specific path.\n   */\n  parent: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Get the concatenated text string of a node's content.\n   *\n   * Note that this will not include spaces or line breaks between block nodes.\n   * It is not a user-facing string, but a string for performing offset-related\n   * computations for a node.\n   */\n  string: (node: Node) => string\n\n  /**\n   * Return a generator of all leaf text nodes in a root node.\n   */\n  texts: (\n    root: Node,\n    options?: NodeTextsOptions\n  ) => Generator<NodeEntry<Text>, void, undefined>\n}\n\nconst IS_NODE_LIST_CACHE = new WeakMap<any[], boolean>()\n\n// eslint-disable-next-line no-redeclare\nexport const Node: NodeInterface = {\n  ancestor(root: Node, path: Path): Ancestor {\n    const node = Node.get(root, path)\n\n    if (Text.isText(node)) {\n      throw new Error(\n        `Cannot get the ancestor node at path [${path}] because it refers to a text node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *ancestors(\n    root: Node,\n    path: Path,\n    options: NodeAncestorsOptions = {}\n  ): Generator<NodeEntry<Ancestor>, void, undefined> {\n    for (const p of Path.ancestors(path, options)) {\n      const n = Node.ancestor(root, p)\n      const entry: NodeEntry<Ancestor> = [n, p]\n      yield entry\n    }\n  },\n\n  child(root: Node, index: number): Descendant {\n    if (Text.isText(root)) {\n      throw new Error(\n        `Cannot get the child of a text node: ${Scrubber.stringify(root)}`\n      )\n    }\n\n    const c = root.children[index] as Descendant\n\n    if (c == null) {\n      throw new Error(\n        `Cannot get child at index \\`${index}\\` in node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    return c\n  },\n\n  *children(\n    root: Node,\n    path: Path,\n    options: NodeChildrenOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    const { reverse = false } = options\n    const ancestor = Node.ancestor(root, path)\n    const { children } = ancestor\n    let index = reverse ? children.length - 1 : 0\n\n    while (reverse ? index >= 0 : index < children.length) {\n      const child = Node.child(ancestor, index)\n      const childPath = path.concat(index)\n      yield [child, childPath]\n      index = reverse ? index - 1 : index + 1\n    }\n  },\n\n  common(root: Node, path: Path, another: Path): NodeEntry {\n    const p = Path.common(path, another)\n    const n = Node.get(root, p)\n    return [n, p]\n  },\n\n  descendant(root: Node, path: Path): Descendant {\n    const node = Node.get(root, path)\n\n    if (Editor.isEditor(node)) {\n      throw new Error(\n        `Cannot get the descendant node at path [${path}] because it refers to the root editor node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *descendants(\n    root: Node,\n    options: NodeDescendantsOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path] as NodeEntry<Descendant>\n      }\n    }\n  },\n\n  *elements(\n    root: Node,\n    options: NodeElementsOptions = {}\n  ): Generator<ElementEntry, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Element.isElement(node)) {\n        yield [node, path]\n      }\n    }\n  },\n\n  extractProps(node: Node): NodeProps {\n    if (Element.isAncestor(node)) {\n      const { children, ...properties } = node\n\n      return properties\n    } else {\n      const { text, ...properties } = node\n\n      return properties\n    }\n  },\n\n  first(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        n = n.children[0]\n        p.push(0)\n      }\n    }\n\n    return [n, p]\n  },\n\n  fragment(root: Node, range: Range): Descendant[] {\n    if (Text.isText(root)) {\n      throw new Error(\n        `Cannot get a fragment starting from a root text node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    const newRoot = produce({ children: root.children }, r => {\n      const [start, end] = Range.edges(range)\n      const nodeEntries = Node.nodes(r, {\n        reverse: true,\n        pass: ([, path]) => !Range.includes(range, path),\n      })\n\n      for (const [, path] of nodeEntries) {\n        if (!Range.includes(range, path)) {\n          const parent = Node.parent(r, path)\n          const index = path[path.length - 1]\n          parent.children.splice(index, 1)\n        }\n\n        if (Path.equals(path, end.path)) {\n          const leaf = Node.leaf(r, path)\n          leaf.text = leaf.text.slice(0, end.offset)\n        }\n\n        if (Path.equals(path, start.path)) {\n          const leaf = Node.leaf(r, path)\n          leaf.text = leaf.text.slice(start.offset)\n        }\n      }\n\n      if (Editor.isEditor(r)) {\n        r.selection = null\n      }\n    })\n\n    return newRoot.children\n  },\n\n  get(root: Node, path: Path): Node {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\n          `Cannot find a descendant at path [${path}] in node: ${Scrubber.stringify(\n            root\n          )}`\n        )\n      }\n\n      node = node.children[p]\n    }\n\n    return node\n  },\n\n  has(root: Node, path: Path): boolean {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false\n      }\n\n      node = node.children[p]\n    }\n\n    return true\n  },\n\n  isNode(value: any): value is Node {\n    return (\n      Text.isText(value) || Element.isElement(value) || Editor.isEditor(value)\n    )\n  },\n\n  isNodeList(value: any): value is Node[] {\n    if (!Array.isArray(value)) {\n      return false\n    }\n    const cachedResult = IS_NODE_LIST_CACHE.get(value)\n    if (cachedResult !== undefined) {\n      return cachedResult\n    }\n    const isNodeList = value.every(val => Node.isNode(val))\n    IS_NODE_LIST_CACHE.set(value, isNodeList)\n    return isNodeList\n  },\n\n  last(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        const i = n.children.length - 1\n        n = n.children[i]\n        p.push(i)\n      }\n    }\n\n    return [n, p]\n  },\n\n  leaf(root: Node, path: Path): Text {\n    const node = Node.get(root, path)\n\n    if (!Text.isText(node)) {\n      throw new Error(\n        `Cannot get the leaf node at path [${path}] because it refers to a non-leaf node: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *levels(\n    root: Node,\n    path: Path,\n    options: NodeLevelsOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    for (const p of Path.levels(path, options)) {\n      const n = Node.get(root, p)\n      yield [n, p]\n    }\n  },\n\n  matches(node: Node, props: Partial<Node>): boolean {\n    return (\n      (Element.isElement(node) &&\n        Element.isElementProps(props) &&\n        Element.matches(node, props)) ||\n      (Text.isText(node) &&\n        Text.isTextProps(props) &&\n        Text.matches(node, props))\n    )\n  },\n\n  *nodes(\n    root: Node,\n    options: NodeNodesOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    const { pass, reverse = false } = options\n    const { from = [], to } = options\n    const visited = new Set()\n    let p: Path = []\n    let n = root\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p]\n      }\n\n      // If we're allowed to go downward and we haven't descended yet, do.\n      if (\n        !visited.has(n) &&\n        !Text.isText(n) &&\n        n.children.length !== 0 &&\n        (pass == null || pass([n, p]) === false)\n      ) {\n        visited.add(n)\n        let nextIndex = reverse ? n.children.length - 1 : 0\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length]\n        }\n\n        p = p.concat(nextIndex)\n        n = Node.get(root, p)\n        continue\n      }\n\n      // If we're at the root and we can't go down, we're done.\n      if (p.length === 0) {\n        break\n      }\n\n      // If we're going forward...\n      if (!reverse) {\n        const newPath = Path.next(p)\n\n        if (Node.has(root, newPath)) {\n          p = newPath\n          n = Node.get(root, p)\n          continue\n        }\n      }\n\n      // If we're going backward...\n      if (reverse && p[p.length - 1] !== 0) {\n        const newPath = Path.previous(p)\n        p = newPath\n        n = Node.get(root, p)\n        continue\n      }\n\n      // Otherwise we're going upward...\n      p = Path.parent(p)\n      n = Node.get(root, p)\n      visited.add(n)\n    }\n  },\n\n  parent(root: Node, path: Path): Ancestor {\n    const parentPath = Path.parent(path)\n    const p = Node.get(root, parentPath)\n\n    if (Text.isText(p)) {\n      throw new Error(\n        `Cannot get the parent of path [${path}] because it does not exist in the root.`\n      )\n    }\n\n    return p\n  },\n\n  string(node: Node): string {\n    if (Text.isText(node)) {\n      return node.text\n    } else {\n      return node.children.map(Node.string).join('')\n    }\n  },\n\n  *texts(\n    root: Node,\n    options: NodeTextsOptions = {}\n  ): Generator<NodeEntry<Text>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Text.isText(node)) {\n        yield [node, path]\n      }\n    }\n  },\n}\n\n/**\n * The `Descendant` union type represents nodes that are descendants in the\n * tree. It is returned as a convenience in certain cases to narrow a value\n * further than the more generic `Node` union.\n */\n\nexport type Descendant = Element | Text\n\n/**\n * The `Ancestor` union type represents nodes that are ancestors in the tree.\n * It is returned as a convenience in certain cases to narrow a value further\n * than the more generic `Node` union.\n */\n\nexport type Ancestor = Editor | Element\n\n/**\n * `NodeEntry` objects are returned when iterating over the nodes in a Slate\n * document tree. They consist of the node and its `Path` relative to the root\n * node in the document.\n */\n\nexport type NodeEntry<T extends Node = Node> = [T, Path]\n\n/**\n * Convenience type for returning the props of a node.\n */\nexport type NodeProps =\n  | Omit<Editor, 'children'>\n  | Omit<Element, 'children'>\n  | Omit<Text, 'text'>\n","import { ExtendedType, Node, Path, Range } from '..'\nimport { isPlainObject } from 'is-plain-object'\n\nexport type BaseInsertNodeOperation = {\n  type: 'insert_node'\n  path: Path\n  node: Node\n}\n\nexport type InsertNodeOperation = ExtendedType<\n  'InsertNodeOperation',\n  BaseInsertNodeOperation\n>\n\nexport type BaseInsertTextOperation = {\n  type: 'insert_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type InsertTextOperation = ExtendedType<\n  'InsertTextOperation',\n  BaseInsertTextOperation\n>\n\nexport type BaseMergeNodeOperation = {\n  type: 'merge_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type MergeNodeOperation = ExtendedType<\n  'MergeNodeOperation',\n  BaseMergeNodeOperation\n>\n\nexport type BaseMoveNodeOperation = {\n  type: 'move_node'\n  path: Path\n  newPath: Path\n}\n\nexport type MoveNodeOperation = ExtendedType<\n  'MoveNodeOperation',\n  BaseMoveNodeOperation\n>\n\nexport type BaseRemoveNodeOperation = {\n  type: 'remove_node'\n  path: Path\n  node: Node\n}\n\nexport type RemoveNodeOperation = ExtendedType<\n  'RemoveNodeOperation',\n  BaseRemoveNodeOperation\n>\n\nexport type BaseRemoveTextOperation = {\n  type: 'remove_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type RemoveTextOperation = ExtendedType<\n  'RemoveTextOperation',\n  BaseRemoveTextOperation\n>\n\nexport type BaseSetNodeOperation = {\n  type: 'set_node'\n  path: Path\n  properties: Partial<Node>\n  newProperties: Partial<Node>\n}\n\nexport type SetNodeOperation = ExtendedType<\n  'SetNodeOperation',\n  BaseSetNodeOperation\n>\n\nexport type BaseSetSelectionOperation =\n  | {\n      type: 'set_selection'\n      properties: null\n      newProperties: Range\n    }\n  | {\n      type: 'set_selection'\n      properties: Partial<Range>\n      newProperties: Partial<Range>\n    }\n  | {\n      type: 'set_selection'\n      properties: Range\n      newProperties: null\n    }\n\nexport type SetSelectionOperation = ExtendedType<\n  'SetSelectionOperation',\n  BaseSetSelectionOperation\n>\n\nexport type BaseSplitNodeOperation = {\n  type: 'split_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type SplitNodeOperation = ExtendedType<\n  'SplitNodeOperation',\n  BaseSplitNodeOperation\n>\n\nexport type NodeOperation =\n  | InsertNodeOperation\n  | MergeNodeOperation\n  | MoveNodeOperation\n  | RemoveNodeOperation\n  | SetNodeOperation\n  | SplitNodeOperation\n\nexport type SelectionOperation = SetSelectionOperation\n\nexport type TextOperation = InsertTextOperation | RemoveTextOperation\n\n/**\n * `Operation` objects define the low-level instructions that Slate editors use\n * to apply changes to their internal state. Representing all changes as\n * operations is what allows Slate editors to easily implement history,\n * collaboration, and other features.\n */\n\nexport type BaseOperation = NodeOperation | SelectionOperation | TextOperation\nexport type Operation = ExtendedType<'Operation', BaseOperation>\n\nexport interface OperationInterface {\n  /**\n   * Check if a value is a `NodeOperation` object.\n   */\n  isNodeOperation: (value: any) => value is NodeOperation\n\n  /**\n   * Check if a value is an `Operation` object.\n   */\n  isOperation: (value: any) => value is Operation\n\n  /**\n   * Check if a value is a list of `Operation` objects.\n   */\n  isOperationList: (value: any) => value is Operation[]\n\n  /**\n   * Check if a value is a `SelectionOperation` object.\n   */\n  isSelectionOperation: (value: any) => value is SelectionOperation\n\n  /**\n   * Check if a value is a `TextOperation` object.\n   */\n  isTextOperation: (value: any) => value is TextOperation\n\n  /**\n   * Invert an operation, returning a new operation that will exactly undo the\n   * original when applied.\n   */\n  inverse: (op: Operation) => Operation\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Operation: OperationInterface = {\n  isNodeOperation(value: any): value is NodeOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_node')\n  },\n\n  isOperation(value: any): value is Operation {\n    if (!isPlainObject(value)) {\n      return false\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'insert_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'merge_node':\n        return (\n          typeof value.position === 'number' &&\n          Path.isPath(value.path) &&\n          isPlainObject(value.properties)\n        )\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath)\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'remove_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'set_node':\n        return (\n          Path.isPath(value.path) &&\n          isPlainObject(value.properties) &&\n          isPlainObject(value.newProperties)\n        )\n      case 'set_selection':\n        return (\n          (value.properties === null && Range.isRange(value.newProperties)) ||\n          (value.newProperties === null && Range.isRange(value.properties)) ||\n          (isPlainObject(value.properties) &&\n            isPlainObject(value.newProperties))\n        )\n      case 'split_node':\n        return (\n          Path.isPath(value.path) &&\n          typeof value.position === 'number' &&\n          isPlainObject(value.properties)\n        )\n      default:\n        return false\n    }\n  },\n\n  isOperationList(value: any): value is Operation[] {\n    return (\n      Array.isArray(value) && value.every(val => Operation.isOperation(val))\n    )\n  },\n\n  isSelectionOperation(value: any): value is SelectionOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_selection')\n  },\n\n  isTextOperation(value: any): value is TextOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_text')\n  },\n\n  inverse(op: Operation): Operation {\n    switch (op.type) {\n      case 'insert_node': {\n        return { ...op, type: 'remove_node' }\n      }\n\n      case 'insert_text': {\n        return { ...op, type: 'remove_text' }\n      }\n\n      case 'merge_node': {\n        return { ...op, type: 'split_node', path: Path.previous(op.path) }\n      }\n\n      case 'move_node': {\n        const { newPath, path } = op\n\n        // PERF: in this case the move operation is a no-op anyways.\n        if (Path.equals(newPath, path)) {\n          return op\n        }\n\n        // If the move happens completely within a single parent the path and\n        // newPath are stable with respect to each other.\n        if (Path.isSibling(path, newPath)) {\n          return { ...op, path: newPath, newPath: path }\n        }\n\n        // If the move does not happen within a single parent it is possible\n        // for the move to impact the true path to the location where the node\n        // was removed from and where it was inserted. We have to adjust for this\n        // and find the original path. We can accomplish this (only in non-sibling)\n        // moves by looking at the impact of the move operation on the node\n        // after the original move path.\n        const inversePath = Path.transform(path, op)!\n        const inverseNewPath = Path.transform(Path.next(path), op)!\n        return { ...op, path: inversePath, newPath: inverseNewPath }\n      }\n\n      case 'remove_node': {\n        return { ...op, type: 'insert_node' }\n      }\n\n      case 'remove_text': {\n        return { ...op, type: 'insert_text' }\n      }\n\n      case 'set_node': {\n        const { properties, newProperties } = op\n        return { ...op, properties: newProperties, newProperties: properties }\n      }\n\n      case 'set_selection': {\n        const { properties, newProperties } = op\n\n        if (properties == null) {\n          return {\n            ...op,\n            properties: newProperties as Range,\n            newProperties: null,\n          }\n        } else if (newProperties == null) {\n          return {\n            ...op,\n            properties: null,\n            newProperties: properties as Range,\n          }\n        } else {\n          return { ...op, properties: newProperties, newProperties: properties }\n        }\n      }\n\n      case 'split_node': {\n        return { ...op, type: 'merge_node', path: Path.next(op.path) }\n      }\n    }\n  },\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { isPlainObject } from 'is-plain-object'\nimport { Range } from '../interfaces/range'\nimport { Node } from '../interfaces/node'\nimport { Operation } from '../interfaces/operation'\n\nconst IS_EDITOR_CACHE = new WeakMap<object, boolean>()\n\nexport const isEditor: EditorInterface['isEditor'] = (\n  value: any\n): value is Editor => {\n  const cachedIsEditor = IS_EDITOR_CACHE.get(value)\n  if (cachedIsEditor !== undefined) {\n    return cachedIsEditor\n  }\n\n  if (!isPlainObject(value)) {\n    return false\n  }\n\n  const isEditor =\n    typeof value.addMark === 'function' &&\n    typeof value.apply === 'function' &&\n    typeof value.deleteFragment === 'function' &&\n    typeof value.insertBreak === 'function' &&\n    typeof value.insertSoftBreak === 'function' &&\n    typeof value.insertFragment === 'function' &&\n    typeof value.insertNode === 'function' &&\n    typeof value.insertText === 'function' &&\n    typeof value.isElementReadOnly === 'function' &&\n    typeof value.isInline === 'function' &&\n    typeof value.isSelectable === 'function' &&\n    typeof value.isVoid === 'function' &&\n    typeof value.normalizeNode === 'function' &&\n    typeof value.onChange === 'function' &&\n    typeof value.removeMark === 'function' &&\n    typeof value.getDirtyPaths === 'function' &&\n    (value.marks === null || isPlainObject(value.marks)) &&\n    (value.selection === null || Range.isRange(value.selection)) &&\n    Node.isNodeList(value.children) &&\n    Operation.isOperationList(value.operations)\n  IS_EDITOR_CACHE.set(value, isEditor)\n  return isEditor\n}\n","import {\n  Ancestor,\n  Descendant,\n  Element,\n  ExtendedType,\n  Location,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  PathRef,\n  Point,\n  PointRef,\n  Range,\n  RangeRef,\n  Span,\n  Text,\n  Transforms,\n} from '..'\nimport {\n  LeafEdge,\n  MaximizeMode,\n  RangeDirection,\n  SelectionMode,\n  TextDirection,\n  TextUnit,\n  TextUnitAdjustment,\n} from '../types/types'\nimport { OmitFirstArg } from '../utils/types'\nimport { isEditor } from '../editor/is-editor'\nimport {\n  TextInsertFragmentOptions,\n  TextInsertTextOptions,\n} from './transforms/text'\nimport { NodeInsertNodesOptions } from './transforms/node'\n\n/**\n * The `Editor` interface stores all the state of a Slate editor. It is extended\n * by plugins that wish to add their own helpers and implement new behaviors.\n */\nexport interface BaseEditor {\n  // Core state.\n\n  children: Descendant[]\n  selection: Selection\n  operations: Operation[]\n  marks: EditorMarks | null\n\n  // Overrideable core methods.\n\n  apply: (operation: Operation) => void\n  getDirtyPaths: (operation: Operation) => Path[]\n  getFragment: () => Descendant[]\n  isElementReadOnly: (element: Element) => boolean\n  isSelectable: (element: Element) => boolean\n  markableVoid: (element: Element) => boolean\n  normalizeNode: (entry: NodeEntry, options?: { operation?: Operation }) => void\n  onChange: (options?: { operation?: Operation }) => void\n  shouldNormalize: ({\n    iteration,\n    dirtyPaths,\n    operation,\n  }: {\n    iteration: number\n    initialDirtyPathsLength: number\n    dirtyPaths: Path[]\n    operation?: Operation\n  }) => boolean\n\n  // Overrideable core transforms.\n\n  addMark: OmitFirstArg<typeof Editor.addMark>\n  collapse: OmitFirstArg<typeof Transforms.collapse>\n  delete: OmitFirstArg<typeof Transforms.delete>\n  deleteBackward: (unit: TextUnit) => void\n  deleteForward: (unit: TextUnit) => void\n  deleteFragment: OmitFirstArg<typeof Editor.deleteFragment>\n  deselect: OmitFirstArg<typeof Transforms.deselect>\n  insertBreak: OmitFirstArg<typeof Editor.insertBreak>\n  insertFragment: OmitFirstArg<typeof Transforms.insertFragment>\n  insertNode: OmitFirstArg<typeof Editor.insertNode>\n  insertNodes: OmitFirstArg<typeof Transforms.insertNodes>\n  insertSoftBreak: OmitFirstArg<typeof Editor.insertSoftBreak>\n  insertText: OmitFirstArg<typeof Transforms.insertText>\n  liftNodes: OmitFirstArg<typeof Transforms.liftNodes>\n  mergeNodes: OmitFirstArg<typeof Transforms.mergeNodes>\n  move: OmitFirstArg<typeof Transforms.move>\n  moveNodes: OmitFirstArg<typeof Transforms.moveNodes>\n  normalize: OmitFirstArg<typeof Editor.normalize>\n  removeMark: OmitFirstArg<typeof Editor.removeMark>\n  removeNodes: OmitFirstArg<typeof Transforms.removeNodes>\n  select: OmitFirstArg<typeof Transforms.select>\n  setNodes: <T extends Node>(\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n  setNormalizing: OmitFirstArg<typeof Editor.setNormalizing>\n  setPoint: OmitFirstArg<typeof Transforms.setPoint>\n  setSelection: OmitFirstArg<typeof Transforms.setSelection>\n  splitNodes: OmitFirstArg<typeof Transforms.splitNodes>\n  unsetNodes: OmitFirstArg<typeof Transforms.unsetNodes>\n  unwrapNodes: OmitFirstArg<typeof Transforms.unwrapNodes>\n  withoutNormalizing: OmitFirstArg<typeof Editor.withoutNormalizing>\n  wrapNodes: OmitFirstArg<typeof Transforms.wrapNodes>\n\n  // Overrideable core queries.\n\n  above: <T extends Ancestor>(\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n  after: OmitFirstArg<typeof Editor.after>\n  before: OmitFirstArg<typeof Editor.before>\n  edges: OmitFirstArg<typeof Editor.edges>\n  elementReadOnly: OmitFirstArg<typeof Editor.elementReadOnly>\n  end: OmitFirstArg<typeof Editor.end>\n  first: OmitFirstArg<typeof Editor.first>\n  fragment: OmitFirstArg<typeof Editor.fragment>\n  getMarks: OmitFirstArg<typeof Editor.marks>\n  hasBlocks: OmitFirstArg<typeof Editor.hasBlocks>\n  hasInlines: OmitFirstArg<typeof Editor.hasInlines>\n  hasPath: OmitFirstArg<typeof Editor.hasPath>\n  hasTexts: OmitFirstArg<typeof Editor.hasTexts>\n  isBlock: OmitFirstArg<typeof Editor.isBlock>\n  isEdge: OmitFirstArg<typeof Editor.isEdge>\n  isEmpty: OmitFirstArg<typeof Editor.isEmpty>\n  isEnd: OmitFirstArg<typeof Editor.isEnd>\n  isInline: OmitFirstArg<typeof Editor.isInline>\n  isNormalizing: OmitFirstArg<typeof Editor.isNormalizing>\n  isStart: OmitFirstArg<typeof Editor.isStart>\n  isVoid: OmitFirstArg<typeof Editor.isVoid>\n  last: OmitFirstArg<typeof Editor.last>\n  leaf: OmitFirstArg<typeof Editor.leaf>\n  levels: <T extends Node>(\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  next: <T extends Descendant>(\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n  node: OmitFirstArg<typeof Editor.node>\n  nodes: <T extends Node>(\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  parent: OmitFirstArg<typeof Editor.parent>\n  path: OmitFirstArg<typeof Editor.path>\n  pathRef: OmitFirstArg<typeof Editor.pathRef>\n  pathRefs: OmitFirstArg<typeof Editor.pathRefs>\n  point: OmitFirstArg<typeof Editor.point>\n  pointRef: OmitFirstArg<typeof Editor.pointRef>\n  pointRefs: OmitFirstArg<typeof Editor.pointRefs>\n  positions: OmitFirstArg<typeof Editor.positions>\n  previous: <T extends Node>(\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n  range: OmitFirstArg<typeof Editor.range>\n  rangeRef: OmitFirstArg<typeof Editor.rangeRef>\n  rangeRefs: OmitFirstArg<typeof Editor.rangeRefs>\n  start: OmitFirstArg<typeof Editor.start>\n  string: OmitFirstArg<typeof Editor.string>\n  unhangRange: OmitFirstArg<typeof Editor.unhangRange>\n  void: OmitFirstArg<typeof Editor.void>\n}\n\nexport type Editor = ExtendedType<'Editor', BaseEditor>\n\nexport type BaseSelection = Range | null\n\nexport type Selection = ExtendedType<'Selection', BaseSelection>\n\nexport type EditorMarks = Omit<Text, 'text'>\n\nexport interface EditorAboveOptions<T extends Ancestor> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorAfterOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorBeforeOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorDirectedDeletionOptions {\n  unit?: TextUnit\n}\n\nexport interface EditorElementReadOnlyOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorFragmentDeletionOptions {\n  direction?: TextDirection\n}\n\nexport interface EditorLeafOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorLevelsOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  reverse?: boolean\n  voids?: boolean\n}\n\nexport interface EditorNextOptions<T extends Descendant> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorNodeOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorNodesOptions<T extends Node> {\n  at?: Location | Span\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  universal?: boolean\n  reverse?: boolean\n  voids?: boolean\n  ignoreNonSelectable?: boolean\n}\n\nexport interface EditorNormalizeOptions {\n  force?: boolean\n  operation?: Operation\n}\n\nexport interface EditorParentOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPointOptions {\n  edge?: LeafEdge\n}\n\nexport interface EditorPointRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPositionsOptions {\n  at?: Location\n  unit?: TextUnitAdjustment\n  reverse?: boolean\n  voids?: boolean\n  ignoreNonSelectable?: boolean\n}\n\nexport interface EditorPreviousOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorRangeRefOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface EditorStringOptions {\n  voids?: boolean\n}\n\nexport interface EditorUnhangRangeOptions {\n  voids?: boolean\n}\n\nexport interface EditorVoidOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorInterface {\n  /**\n   * Get the ancestor above a location in the document.\n   */\n  above: <T extends Ancestor>(\n    editor: Editor,\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Add a custom property to the leaf text nodes in the current selection.\n   *\n   * If the selection is currently collapsed, the marks will be added to the\n   * `editor.marks` property instead, and applied when text is inserted next.\n   */\n  addMark: (editor: Editor, key: string, value: any) => void\n\n  /**\n   * Get the point after a location.\n   */\n  after: (\n    editor: Editor,\n    at: Location,\n    options?: EditorAfterOptions\n  ) => Point | undefined\n\n  /**\n   * Get the point before a location.\n   */\n  before: (\n    editor: Editor,\n    at: Location,\n    options?: EditorBeforeOptions\n  ) => Point | undefined\n\n  /**\n   * Delete content in the editor backward from the current selection.\n   */\n  deleteBackward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete content in the editor forward from the current selection.\n   */\n  deleteForward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete the content in the current selection.\n   */\n  deleteFragment: (\n    editor: Editor,\n    options?: EditorFragmentDeletionOptions\n  ) => void\n\n  /**\n   * Get the start and end points of a location.\n   */\n  edges: (editor: Editor, at: Location) => [Point, Point]\n\n  /**\n   * Match a read-only element in the current branch of the editor.\n   */\n  elementReadOnly: (\n    editor: Editor,\n    options?: EditorElementReadOnlyOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Get the end point of a location.\n   */\n  end: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the first node at a location.\n   */\n  first: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the fragment at a location.\n   */\n  fragment: (editor: Editor, at: Location) => Descendant[]\n\n  /**\n   * Check if a node has block children.\n   */\n  hasBlocks: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a node has inline and text children.\n   */\n  hasInlines: (editor: Editor, element: Element) => boolean\n\n  hasPath: (editor: Editor, path: Path) => boolean\n\n  /**\n   * Check if a node has text children.\n   */\n  hasTexts: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Insert a block break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertBreak: (editor: Editor) => void\n\n  /**\n   * Inserts a fragment\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Atomically inserts `nodes`\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNode: <T extends Node>(\n    editor: Editor,\n    node: Node,\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Insert a soft break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertSoftBreak: (editor: Editor) => void\n\n  /**\n   * Insert a string of text\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n\n  /**\n   * Check if a value is a block `Element` object.\n   */\n  isBlock: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if a point is an edge of a location.\n   */\n  isEdge: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an `Editor` object.\n   */\n  isEditor: (value: any) => value is Editor\n\n  /**\n   * Check if a value is a read-only `Element` object.\n   */\n  isElementReadOnly: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if an element is empty, accounting for void nodes.\n   */\n  isEmpty: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the end point of a location.\n   */\n  isEnd: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an inline `Element` object.\n   */\n  isInline: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if the editor is currently normalizing after each operation.\n   */\n  isNormalizing: (editor: Editor) => boolean\n\n  /**\n   * Check if a value is a selectable `Element` object.\n   */\n  isSelectable: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the start point of a location.\n   */\n  isStart: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is a void `Element` object.\n   */\n  isVoid: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Get the last node at a location.\n   */\n  last: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the leaf text node at a location.\n   */\n  leaf: (\n    editor: Editor,\n    at: Location,\n    options?: EditorLeafOptions\n  ) => NodeEntry<Text>\n\n  /**\n   * Iterate through all of the levels at a location.\n   */\n  levels: <T extends Node>(\n    editor: Editor,\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Get the marks that would be added to text at the current selection.\n   */\n  marks: (editor: Editor) => Omit<Text, 'text'> | null\n\n  /**\n   * Get the matching node in the branch of the document after a location.\n   */\n  next: <T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get the node at a location.\n   */\n  node: (editor: Editor, at: Location, options?: EditorNodeOptions) => NodeEntry\n\n  /**\n   * Iterate through all of the nodes in the Editor.\n   */\n  nodes: <T extends Node>(\n    editor: Editor,\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Normalize any dirty objects in the editor.\n   */\n  normalize: (editor: Editor, options?: EditorNormalizeOptions) => void\n\n  /**\n   * Get the parent node of a location.\n   */\n  parent: (\n    editor: Editor,\n    at: Location,\n    options?: EditorParentOptions\n  ) => NodeEntry<Ancestor>\n\n  /**\n   * Get the path of a location.\n   */\n  path: (editor: Editor, at: Location, options?: EditorPathOptions) => Path\n\n  /**\n   * Create a mutable ref for a `Path` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pathRef: (\n    editor: Editor,\n    path: Path,\n    options?: EditorPathRefOptions\n  ) => PathRef\n\n  /**\n   * Get the set of currently tracked path refs of the editor.\n   */\n  pathRefs: (editor: Editor) => Set<PathRef>\n\n  /**\n   * Get the start or end point of a location.\n   */\n  point: (editor: Editor, at: Location, options?: EditorPointOptions) => Point\n\n  /**\n   * Create a mutable ref for a `Point` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pointRef: (\n    editor: Editor,\n    point: Point,\n    options?: EditorPointRefOptions\n  ) => PointRef\n\n  /**\n   * Get the set of currently tracked point refs of the editor.\n   */\n  pointRefs: (editor: Editor) => Set<PointRef>\n\n  /**\n   * Return all the positions in `at` range where a `Point` can be placed.\n   *\n   * By default, moves forward by individual offsets at a time, but\n   * the `unit` option can be used to to move by character, word, line, or block.\n   *\n   * The `reverse` option can be used to change iteration direction.\n   *\n   * Note: By default void nodes are treated as a single point and iteration\n   * will not happen inside their content unless you pass in true for the\n   * `voids` option, then iteration will occur.\n   */\n  positions: (\n    editor: Editor,\n    options?: EditorPositionsOptions\n  ) => Generator<Point, void, undefined>\n\n  /**\n   * Get the matching node in the branch of the document before a location.\n   */\n  previous: <T extends Node>(\n    editor: Editor,\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get a range of a location.\n   */\n  range: (editor: Editor, at: Location, to?: Location) => Range\n\n  /**\n   * Create a mutable ref for a `Range` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  rangeRef: (\n    editor: Editor,\n    range: Range,\n    options?: EditorRangeRefOptions\n  ) => RangeRef\n\n  /**\n   * Get the set of currently tracked range refs of the editor.\n   */\n  rangeRefs: (editor: Editor) => Set<RangeRef>\n\n  /**\n   * Remove a custom property from all of the leaf text nodes in the current\n   * selection.\n   *\n   * If the selection is currently collapsed, the removal will be stored on\n   * `editor.marks` and applied to the text inserted next.\n   */\n  removeMark: (editor: Editor, key: string) => void\n\n  /**\n   * Manually set if the editor should currently be normalizing.\n   *\n   * Note: Using this incorrectly can leave the editor in an invalid state.\n   *\n   */\n  setNormalizing: (editor: Editor, isNormalizing: boolean) => void\n\n  /**\n   * Get the start point of a location.\n   */\n  start: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the text string content of a location.\n   *\n   * Note: by default the text of void nodes is considered to be an empty\n   * string, regardless of content, unless you pass in true for the voids option\n   */\n  string: (\n    editor: Editor,\n    at: Location,\n    options?: EditorStringOptions\n  ) => string\n\n  /**\n   * Convert a range into a non-hanging one.\n   */\n  unhangRange: (\n    editor: Editor,\n    range: Range,\n    options?: EditorUnhangRangeOptions\n  ) => Range\n\n  /**\n   * Match a void node in the current branch of the editor.\n   */\n  void: (\n    editor: Editor,\n    options?: EditorVoidOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Call a function, deferring normalization until after it completes.\n   */\n  withoutNormalizing: (editor: Editor, fn: () => void) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Editor: EditorInterface = {\n  above(editor, options) {\n    return editor.above(options)\n  },\n\n  addMark(editor, key, value) {\n    editor.addMark(key, value)\n  },\n\n  after(editor, at, options) {\n    return editor.after(at, options)\n  },\n\n  before(editor, at, options) {\n    return editor.before(at, options)\n  },\n\n  deleteBackward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteBackward(unit)\n  },\n\n  deleteForward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteForward(unit)\n  },\n\n  deleteFragment(editor, options) {\n    editor.deleteFragment(options)\n  },\n\n  edges(editor, at) {\n    return editor.edges(at)\n  },\n\n  elementReadOnly(editor: Editor, options: EditorElementReadOnlyOptions = {}) {\n    return editor.elementReadOnly(options)\n  },\n\n  end(editor, at) {\n    return editor.end(at)\n  },\n\n  first(editor, at) {\n    return editor.first(at)\n  },\n\n  fragment(editor, at) {\n    return editor.fragment(at)\n  },\n\n  hasBlocks(editor, element) {\n    return editor.hasBlocks(element)\n  },\n\n  hasInlines(editor, element) {\n    return editor.hasInlines(element)\n  },\n\n  hasPath(editor, path) {\n    return editor.hasPath(path)\n  },\n\n  hasTexts(editor, element) {\n    return editor.hasTexts(element)\n  },\n\n  insertBreak(editor) {\n    editor.insertBreak()\n  },\n\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n\n  insertNode(editor, node) {\n    editor.insertNode(node)\n  },\n\n  insertSoftBreak(editor) {\n    editor.insertSoftBreak()\n  },\n\n  insertText(editor, text) {\n    editor.insertText(text)\n  },\n\n  isBlock(editor, value) {\n    return editor.isBlock(value)\n  },\n\n  isEdge(editor, point, at) {\n    return editor.isEdge(point, at)\n  },\n\n  isEditor(value: any): value is Editor {\n    return isEditor(value)\n  },\n\n  isElementReadOnly(editor, element) {\n    return editor.isElementReadOnly(element)\n  },\n\n  isEmpty(editor, element) {\n    return editor.isEmpty(element)\n  },\n\n  isEnd(editor, point, at) {\n    return editor.isEnd(point, at)\n  },\n\n  isInline(editor, value) {\n    return editor.isInline(value)\n  },\n\n  isNormalizing(editor) {\n    return editor.isNormalizing()\n  },\n\n  isSelectable(editor: Editor, value: Element) {\n    return editor.isSelectable(value)\n  },\n\n  isStart(editor, point, at) {\n    return editor.isStart(point, at)\n  },\n\n  isVoid(editor, value) {\n    return editor.isVoid(value)\n  },\n\n  last(editor, at) {\n    return editor.last(at)\n  },\n\n  leaf(editor, at, options) {\n    return editor.leaf(at, options)\n  },\n\n  levels(editor, options) {\n    return editor.levels(options)\n  },\n\n  marks(editor) {\n    return editor.getMarks()\n  },\n\n  next<T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ): NodeEntry<T> | undefined {\n    return editor.next(options)\n  },\n\n  node(editor, at, options) {\n    return editor.node(at, options)\n  },\n\n  nodes(editor, options) {\n    return editor.nodes(options)\n  },\n\n  normalize(editor, options) {\n    editor.normalize(options)\n  },\n\n  parent(editor, at, options) {\n    return editor.parent(at, options)\n  },\n\n  path(editor, at, options) {\n    return editor.path(at, options)\n  },\n\n  pathRef(editor, path, options) {\n    return editor.pathRef(path, options)\n  },\n\n  pathRefs(editor) {\n    return editor.pathRefs()\n  },\n\n  point(editor, at, options) {\n    return editor.point(at, options)\n  },\n\n  pointRef(editor, point, options) {\n    return editor.pointRef(point, options)\n  },\n\n  pointRefs(editor) {\n    return editor.pointRefs()\n  },\n\n  positions(editor, options) {\n    return editor.positions(options)\n  },\n\n  previous(editor, options) {\n    return editor.previous(options)\n  },\n\n  range(editor, at, to) {\n    return editor.range(at, to)\n  },\n\n  rangeRef(editor, range, options) {\n    return editor.rangeRef(range, options)\n  },\n\n  rangeRefs(editor) {\n    return editor.rangeRefs()\n  },\n\n  removeMark(editor, key) {\n    editor.removeMark(key)\n  },\n\n  setNormalizing(editor, isNormalizing) {\n    editor.setNormalizing(isNormalizing)\n  },\n\n  start(editor, at) {\n    return editor.start(at)\n  },\n\n  string(editor, at, options) {\n    return editor.string(at, options)\n  },\n\n  unhangRange(editor, range, options) {\n    return editor.unhangRange(range, options)\n  },\n\n  void(editor, options) {\n    return editor.void(options)\n  },\n\n  withoutNormalizing(editor, fn: () => void) {\n    editor.withoutNormalizing(fn)\n  },\n}\n\n/**\n * A helper type for narrowing matched nodes with a predicate.\n */\n\nexport type NodeMatch<T extends Node> =\n  | ((node: Node, path: Path) => node is T)\n  | ((node: Node, path: Path) => boolean)\n\nexport type PropsCompare = (prop: Partial<Node>, node: Partial<Node>) => boolean\nexport type PropsMerge = (prop: Partial<Node>, node: Partial<Node>) => object\n","import { isPlainObject } from 'is-plain-object'\nimport { produce } from 'immer'\nimport { ExtendedType, Operation, Path } from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Point` objects refer to a specific location in a text node in a Slate\n * document. Its path refers to the location of the node in the tree, and its\n * offset refers to the distance into the node's string of text. Points can\n * only refer to `Text` nodes.\n */\n\nexport interface BasePoint {\n  path: Path\n  offset: number\n}\n\nexport type Point = ExtendedType<'Point', BasePoint>\n\nexport interface PointTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PointInterface {\n  /**\n   * Compare a point to another, returning an integer indicating whether the\n   * point was before, at, or after the other.\n   */\n  compare: (point: Point, another: Point) => -1 | 0 | 1\n\n  /**\n   * Check if a point is after another.\n   */\n  isAfter: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is before another.\n   */\n  isBefore: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is exactly equal to another.\n   */\n  equals: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a value implements the `Point` interface.\n   */\n  isPoint: (value: any) => value is Point\n\n  /**\n   * Transform a point by an operation.\n   */\n  transform: (\n    point: Point,\n    op: Operation,\n    options?: PointTransformOptions\n  ) => Point | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Point: PointInterface = {\n  compare(point: Point, another: Point): -1 | 0 | 1 {\n    const result = Path.compare(point.path, another.path)\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1\n      if (point.offset > another.offset) return 1\n      return 0\n    }\n\n    return result\n  },\n\n  isAfter(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === 1\n  },\n\n  isBefore(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === -1\n  },\n\n  equals(point: Point, another: Point): boolean {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return (\n      point.offset === another.offset && Path.equals(point.path, another.path)\n    )\n  },\n\n  isPoint(value: any): value is Point {\n    return (\n      isPlainObject(value) &&\n      typeof value.offset === 'number' &&\n      Path.isPath(value.path)\n    )\n  },\n\n  transform(\n    point: Point | null,\n    op: Operation,\n    options: PointTransformOptions = {}\n  ): Point | null {\n    return produce(point, p => {\n      if (p === null) {\n        return null\n      }\n      const { affinity = 'forward' } = options\n      const { path, offset } = p\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node': {\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'insert_text': {\n          if (\n            Path.equals(op.path, path) &&\n            (op.offset < offset ||\n              (op.offset === offset && affinity === 'forward'))\n          ) {\n            p.offset += op.text.length\n          }\n\n          break\n        }\n\n        case 'merge_node': {\n          if (Path.equals(op.path, path)) {\n            p.offset += op.position\n          }\n\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'remove_text': {\n          if (Path.equals(op.path, path) && op.offset <= offset) {\n            p.offset -= Math.min(offset - op.offset, op.text.length)\n          }\n\n          break\n        }\n\n        case 'remove_node': {\n          if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n            return null\n          }\n\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'split_node': {\n          if (Path.equals(op.path, path)) {\n            if (op.position === offset && affinity == null) {\n              return null\n            } else if (\n              op.position < offset ||\n              (op.position === offset && affinity === 'forward')\n            ) {\n              p.offset -= op.position\n\n              p.path = Path.transform(path, op, {\n                ...options,\n                affinity: 'forward',\n              })!\n            }\n          } else {\n            p.path = Path.transform(path, op, options)!\n          }\n\n          break\n        }\n      }\n    })\n  },\n}\n\n/**\n * `PointEntry` objects are returned when iterating over `Point` objects that\n * belong to a range.\n */\n\nexport type PointEntry = [Point, 'anchor' | 'focus']\n","export type Scrubber = (key: string, value: unknown) => unknown\n\nexport interface ScrubberInterface {\n  setScrubber(scrubber: Scrubber | undefined): void\n  stringify(value: any): string\n}\n\nlet _scrubber: Scrubber | undefined = undefined\n\n/**\n * This interface implements a stringify() function, which is used by Slate\n * internally when generating exceptions containing end user data. Developers\n * using Slate may call Scrubber.setScrubber() to alter the behavior of this\n * stringify() function.\n *\n * For example, to prevent the cleartext logging of 'text' fields within Nodes:\n *\n *    import { Scrubber } from 'slate';\n *    Scrubber.setScrubber((key, val) => {\n *      if (key === 'text') return '...scrubbed...'\n *      return val\n *    });\n *\n */\n// eslint-disable-next-line no-redeclare\nexport const Scrubber: ScrubberInterface = {\n  setScrubber(scrubber: Scrubber | undefined): void {\n    _scrubber = scrubber\n  },\n\n  stringify(value: any): string {\n    return JSON.stringify(value, _scrubber)\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Range } from '..'\nimport { ExtendedType } from '../types/custom-types'\nimport { isDeepEqual } from '../utils/deep-equal'\n\n/**\n * `Text` objects represent the nodes that contain the actual text content of a\n * Slate document along with any formatting properties. They are always leaf\n * nodes in the document tree as they cannot contain any children.\n */\n\nexport interface BaseText {\n  text: string\n}\n\nexport type Text = ExtendedType<'Text', BaseText>\n\nexport interface TextEqualsOptions {\n  loose?: boolean\n}\n\nexport interface TextInterface {\n  /**\n   * Check if two text nodes are equal.\n   *\n   * When loose is set, the text is not compared. This is\n   * used to check whether sibling text nodes can be merged.\n   */\n  equals: (text: Text, another: Text, options?: TextEqualsOptions) => boolean\n\n  /**\n   * Check if a value implements the `Text` interface.\n   */\n  isText: (value: any) => value is Text\n\n  /**\n   * Check if a value is a list of `Text` objects.\n   */\n  isTextList: (value: any) => value is Text[]\n\n  /**\n   * Check if some props are a partial of Text.\n   */\n  isTextProps: (props: any) => props is Partial<Text>\n\n  /**\n   * Check if an text matches set of properties.\n   *\n   * Note: this is for matching custom properties, and it does not ensure that\n   * the `text` property are two nodes equal.\n   */\n  matches: (text: Text, props: Partial<Text>) => boolean\n\n  /**\n   * Get the leaves for a text node given decorations.\n   */\n  decorations: (node: Text, decorations: Range[]) => Text[]\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Text: TextInterface = {\n  equals(text: Text, another: Text, options: TextEqualsOptions = {}): boolean {\n    const { loose = false } = options\n\n    function omitText(obj: Record<any, any>) {\n      const { text, ...rest } = obj\n\n      return rest\n    }\n\n    return isDeepEqual(\n      loose ? omitText(text) : text,\n      loose ? omitText(another) : another\n    )\n  },\n\n  isText(value: any): value is Text {\n    return isPlainObject(value) && typeof value.text === 'string'\n  },\n\n  isTextList(value: any): value is Text[] {\n    return Array.isArray(value) && value.every(val => Text.isText(val))\n  },\n\n  isTextProps(props: any): props is Partial<Text> {\n    return (props as Partial<Text>).text !== undefined\n  },\n\n  matches(text: Text, props: Partial<Text>): boolean {\n    for (const key in props) {\n      if (key === 'text') {\n        continue\n      }\n\n      if (\n        !text.hasOwnProperty(key) ||\n        text[<keyof Text>key] !== props[<keyof Text>key]\n      ) {\n        return false\n      }\n    }\n\n    return true\n  },\n\n  decorations(node: Text, decorations: Range[]): Text[] {\n    let leaves: Text[] = [{ ...node }]\n\n    for (const dec of decorations) {\n      const { anchor, focus, ...rest } = dec\n      const [start, end] = Range.edges(dec)\n      const next = []\n      let leafEnd = 0\n      const decorationStart = start.offset\n      const decorationEnd = end.offset\n\n      for (const leaf of leaves) {\n        const { length } = leaf.text\n        const leafStart = leafEnd\n        leafEnd += length\n\n        // If the range encompasses the entire leaf, add the range.\n        if (decorationStart <= leafStart && leafEnd <= decorationEnd) {\n          Object.assign(leaf, rest)\n          next.push(leaf)\n          continue\n        }\n\n        // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n        if (\n          (decorationStart !== decorationEnd &&\n            (decorationStart === leafEnd || decorationEnd === leafStart)) ||\n          decorationStart > leafEnd ||\n          decorationEnd < leafStart ||\n          (decorationEnd === leafStart && leafStart !== 0)\n        ) {\n          next.push(leaf)\n          continue\n        }\n\n        // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n        let middle = leaf\n        let before\n        let after\n\n        if (decorationEnd < leafEnd) {\n          const off = decorationEnd - leafStart\n          after = { ...middle, text: middle.text.slice(off) }\n          middle = { ...middle, text: middle.text.slice(0, off) }\n        }\n\n        if (decorationStart > leafStart) {\n          const off = decorationStart - leafStart\n          before = { ...middle, text: middle.text.slice(0, off) }\n          middle = { ...middle, text: middle.text.slice(off) }\n        }\n\n        Object.assign(middle, rest)\n\n        if (before) {\n          next.push(before)\n        }\n\n        next.push(middle)\n\n        if (after) {\n          next.push(after)\n        }\n      }\n\n      leaves = next\n    }\n\n    return leaves\n  },\n}\n","import { Editor, Location } from '../interfaces'\n\n/**\n * Get the default location to insert content into the editor.\n * By default, use the selection as the target location. But if there is\n * no selection, insert at the end of the document since that is such a\n * common use case when inserting from a non-selected state.\n */\nexport const getDefaultInsertLocation = (editor: Editor): Location => {\n  if (editor.selection) {\n    return editor.selection\n  } else if (editor.children.length > 0) {\n    return Editor.end(editor, [])\n  } else {\n    return [0]\n  }\n}\n","// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\n * Get the distance to the end of the first character in a string of text.\n */\n\nexport const getCharacterDistance = (str: string, isRTL = false): number => {\n  const isLTR = !isRTL\n  const codepoints = isRTL ? codepointsIteratorRTL(str) : str\n\n  let left: CodepointType = CodepointType.None\n  let right: CodepointType = CodepointType.None\n  let distance = 0\n  // Evaluation of these conditions are deferred.\n  let gb11: boolean | null = null // Is GB11 applicable?\n  let gb12Or13: boolean | null = null // Is GB12 or GB13 applicable?\n\n  for (const char of codepoints) {\n    const code = char.codePointAt(0)\n    if (!code) break\n\n    const type = getCodepointType(char, code)\n    ;[left, right] = isLTR ? [right, type] : [type, left]\n\n    if (\n      intersects(left, CodepointType.ZWJ) &&\n      intersects(right, CodepointType.ExtPict)\n    ) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance))\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance))\n      }\n      if (!gb11) break\n    }\n\n    if (\n      intersects(left, CodepointType.RI) &&\n      intersects(right, CodepointType.RI)\n    ) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13\n      } else {\n        if (isLTR) {\n          gb12Or13 = true\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(\n            str.substring(0, str.length - distance)\n          )\n        }\n      }\n      if (!gb12Or13) break\n    }\n\n    if (\n      left !== CodepointType.None &&\n      right !== CodepointType.None &&\n      isBoundaryPair(left, right)\n    ) {\n      break\n    }\n\n    distance += char.length\n  }\n\n  return distance || 1\n}\n\nconst SPACE = /\\s/\nconst PUNCTUATION =\n  /[\\u002B\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\nconst CHAMELEON = /['\\u2018\\u2019]/\n\n/**\n * Get the distance to the end of the first word in a string of text.\n */\n\nexport const getWordDistance = (text: string, isRTL = false): number => {\n  let dist = 0\n  let started = false\n\n  while (text.length > 0) {\n    const charDist = getCharacterDistance(text, isRTL)\n    const [char, remaining] = splitByCharacterDistance(text, charDist, isRTL)\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true\n      dist += charDist\n    } else if (!started) {\n      dist += charDist\n    } else {\n      break\n    }\n\n    text = remaining\n  }\n\n  return dist\n}\n\n/**\n * Split a string in two parts at a given distance starting from the end when\n * `isRTL` is set to `true`.\n */\n\nexport const splitByCharacterDistance = (\n  str: string,\n  dist: number,\n  isRTL?: boolean\n): [string, string] => {\n  if (isRTL) {\n    const at = str.length - dist\n    return [str.slice(at, str.length), str.slice(0, at)]\n  }\n\n  return [str.slice(0, dist), str.slice(dist)]\n}\n\n/**\n * Check if a character is a word character. The `remaining` argument is used\n * because sometimes you must read subsequent characters to truly determine it.\n */\n\nconst isWordCharacter = (\n  char: string,\n  remaining: string,\n  isRTL = false\n): boolean => {\n  if (SPACE.test(char)) {\n    return false\n  }\n\n  // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n  if (CHAMELEON.test(char)) {\n    const charDist = getCharacterDistance(remaining, isRTL)\n    const [nextChar, nextRemaining] = splitByCharacterDistance(\n      remaining,\n      charDist,\n      isRTL\n    )\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Iterate on codepoints from right to left.\n */\n\nexport const codepointsIteratorRTL = function* (str: string) {\n  const end = str.length - 1\n\n  for (let i = 0; i < str.length; i++) {\n    const char1 = str.charAt(end - i)\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      const char2 = str.charAt(end - i - 1)\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1\n\n        i++\n        continue\n      }\n    }\n\n    yield char1\n  }\n}\n\n/**\n * Is `charCode` a high surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isHighSurrogate = (charCode: number) => {\n  return charCode >= 0xd800 && charCode <= 0xdbff\n}\n\n/**\n * Is `charCode` a low surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isLowSurrogate = (charCode: number) => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff\n}\n\nenum CodepointType {\n  None = 0,\n  Extend = 1 << 0,\n  ZWJ = 1 << 1,\n  RI = 1 << 2,\n  Prepend = 1 << 3,\n  SpacingMark = 1 << 4,\n  L = 1 << 5,\n  V = 1 << 6,\n  T = 1 << 7,\n  LV = 1 << 8,\n  LVT = 1 << 9,\n  ExtPict = 1 << 10,\n  Any = 1 << 11,\n}\n\nconst reExtend = /^[\\p{Gr_Ext}\\p{EMod}]$/u\nconst rePrepend =\n  /^[\\u0600-\\u0605\\u06DD\\u070F\\u0890-\\u0891\\u08E2\\u0D4E\\u{110BD}\\u{110CD}\\u{111C2}-\\u{111C3}\\u{1193F}\\u{11941}\\u{11A3A}\\u{11A84}-\\u{11A89}\\u{11D46}]$/u\nconst reSpacingMark =\n  /^[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BF-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC1\\u0CC3-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0D02-\\u0D03\\u0D3F-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82-\\u0D83\\u0DD0-\\u0DD1\\u0DD8-\\u0DDE\\u0DF2-\\u0DF3\\u0E33\\u0EB3\\u0F3E-\\u0F3F\\u0F7F\\u1031\\u103B-\\u103C\\u1056-\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF7\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BE-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC\\u{11000}\\u{11002}\\u{11082}\\u{110B0}-\\u{110B2}\\u{110B7}-\\u{110B8}\\u{1112C}\\u{11145}-\\u{11146}\\u{11182}\\u{111B3}-\\u{111B5}\\u{111BF}-\\u{111C0}\\u{111CE}\\u{1122C}-\\u{1122E}\\u{11232}-\\u{11233}\\u{11235}\\u{112E0}-\\u{112E2}\\u{11302}-\\u{11303}\\u{1133F}\\u{11341}-\\u{11344}\\u{11347}-\\u{11348}\\u{1134B}-\\u{1134D}\\u{11362}-\\u{11363}\\u{11435}-\\u{11437}\\u{11440}-\\u{11441}\\u{11445}\\u{114B1}-\\u{114B2}\\u{114B9}\\u{114BB}-\\u{114BC}\\u{114BE}\\u{114C1}\\u{115B0}-\\u{115B1}\\u{115B8}-\\u{115BB}\\u{115BE}\\u{11630}-\\u{11632}\\u{1163B}-\\u{1163C}\\u{1163E}\\u{116AC}\\u{116AE}-\\u{116AF}\\u{116B6}\\u{11726}\\u{1182C}-\\u{1182E}\\u{11838}\\u{11931}-\\u{11935}\\u{11937}-\\u{11938}\\u{1193D}\\u{11940}\\u{11942}\\u{119D1}-\\u{119D3}\\u{119DC}-\\u{119DF}\\u{119E4}\\u{11A39}\\u{11A57}-\\u{11A58}\\u{11A97}\\u{11C2F}\\u{11C3E}\\u{11CA9}\\u{11CB1}\\u{11CB4}\\u{11D8A}-\\u{11D8E}\\u{11D93}-\\u{11D94}\\u{11D96}\\u{11EF5}-\\u{11EF6}\\u{16F51}-\\u{16F87}\\u{16FF0}-\\u{16FF1}\\u{1D166}\\u{1D16D}]$/u\nconst reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/u\nconst reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/u\nconst reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/u\nconst reLV =\n  /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/u\nconst reLVT =\n  /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/u\nconst reExtPict = /^\\p{ExtPict}$/u\n\nconst getCodepointType = (char: string, code: number): CodepointType => {\n  let type = CodepointType.Any\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend\n  }\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ\n  }\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI\n  }\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend\n  }\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark\n  }\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L\n  }\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V\n  }\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T\n  }\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV\n  }\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT\n  }\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict\n  }\n\n  return type\n}\n\nfunction intersects(x: CodepointType, y: CodepointType) {\n  return (x & y) !== 0\n}\n\nconst NonBoundaryPairs: [CodepointType, CodepointType][] = [\n  // GB6\n  [\n    CodepointType.L,\n    CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT,\n  ],\n  // GB7\n  [CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T],\n  // GB8\n  [CodepointType.LVT | CodepointType.T, CodepointType.T],\n  // GB9\n  [CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ],\n  // GB9a\n  [CodepointType.Any, CodepointType.SpacingMark],\n  // GB9b\n  [CodepointType.Prepend, CodepointType.Any],\n  // GB11\n  [CodepointType.ZWJ, CodepointType.ExtPict],\n  // GB12 and GB13\n  [CodepointType.RI, CodepointType.RI],\n]\n\nfunction isBoundaryPair(left: CodepointType, right: CodepointType) {\n  return (\n    NonBoundaryPairs.findIndex(\n      r => intersects(left, r[0]) && intersects(right, r[1])\n    ) === -1\n  )\n}\n\nconst endingEmojiZWJ = /\\p{ExtPict}[\\p{Gr_Ext}\\p{EMod}]*\\u200D$/u\nconst endsWithEmojiZWJ = (str: string): boolean => {\n  return str.search(endingEmojiZWJ) !== -1\n}\n\nconst endingRIs = /\\p{RI}+$/gu\nconst endsWithOddNumberOfRIs = (str: string): boolean => {\n  const match = str.match(endingRIs)\n  if (match === null) {\n    return false\n  } else {\n    // A RI is represented by a surrogate pair.\n    const numRIs = match[0].length / 2\n    return numRIs % 2 === 1\n  }\n}\n","import { Editor, Location, Node, Path, Range, Transforms } from '../../index'\nimport { TextUnit } from '../../types/types'\nimport { getDefaultInsertLocation } from '../../utils'\n\nexport interface TextDeleteOptions {\n  at?: Location\n  distance?: number\n  unit?: TextUnit\n  reverse?: boolean\n  hanging?: boolean\n  voids?: boolean\n}\n\nexport interface TextInsertFragmentOptions {\n  at?: Location\n  hanging?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface TextInsertTextOptions {\n  at?: Location\n  voids?: boolean\n}\n\nexport interface TextTransforms {\n  /**\n   * Delete content in the editor.\n   */\n  delete: (editor: Editor, options?: TextDeleteOptions) => void\n\n  /**\n   * Insert a fragment in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Insert a string of text in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const TextTransforms: TextTransforms = {\n  delete(editor, options) {\n    editor.delete(options)\n  },\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n  insertText(\n    editor: Editor,\n    text: string,\n    options: TextInsertTextOptions = {}\n  ): void {\n    Editor.withoutNormalizing(editor, () => {\n      const { voids = false } = options\n      let { at = getDefaultInsertLocation(editor) } = options\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at)\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor\n        } else {\n          const end = Range.end(at)\n          if (!voids && Editor.void(editor, { at: end })) {\n            return\n          }\n          const start = Range.start(at)\n          const startRef = Editor.pointRef(editor, start)\n          const endRef = Editor.pointRef(editor, end)\n          Transforms.delete(editor, { at, voids })\n          const startPoint = startRef.unref()\n          const endPoint = endRef.unref()\n\n          at = startPoint || endPoint!\n          Transforms.setSelection(editor, { anchor: at, focus: at })\n        }\n      }\n\n      if (\n        (!voids && Editor.void(editor, { at })) ||\n        Editor.elementReadOnly(editor, { at })\n      ) {\n        return\n      }\n\n      const { path, offset } = at\n      if (text.length > 0)\n        editor.apply({ type: 'insert_text', path, offset, text })\n    })\n  },\n}\n","import { GeneralTransforms } from './general'\nimport { NodeTransforms } from './node'\nimport { SelectionTransforms } from './selection'\nimport { TextTransforms } from './text'\n\nexport const Transforms: GeneralTransforms &\n  NodeTransforms &\n  SelectionTransforms &\n  TextTransforms = {\n  ...GeneralTransforms,\n  ...NodeTransforms,\n  ...SelectionTransforms,\n  ...TextTransforms,\n}\n","import { getRootBlockElement, YooEditor } from '@yoopta/editor';\n\ntype Params = {\n  editor: YooEditor;\n  onClose: () => void;\n  empty?: boolean;\n  view?: 'small' | 'default';\n};\n\nexport function buildActionMenuRenderProps({ editor, view, onClose }: Params) {\n  function filterToggleActions(editor: YooEditor, type: string) {\n    const block = editor.blocks[type];\n    if (!block) return false;\n\n    const rootBlock = getRootBlockElement(block.elements);\n    if (rootBlock?.props?.nodeType === 'void') return false;\n    return true;\n  }\n\n  const getActions = () => {\n    const items = Object.keys(editor.blocks)\n      .filter((type) => filterToggleActions(editor, type))\n      .map((action) => {\n        const title = editor.blocks[action].options?.display?.title || action;\n        const description = editor.blocks[action].options?.display?.description;\n        return { type: action, title, description };\n      });\n\n    return items;\n  };\n\n  const getRootProps = () => ({\n    'data-action-menu-list': true,\n  });\n\n  const getItemProps = (type) => ({\n    onMouseEnter: () => undefined,\n    'data-action-menu-item': true,\n    'data-action-menu-item-type': type,\n    'aria-selected': false,\n    onClick: () => {\n      editor.blocks[type].toggle({ focus: true });\n      onClose();\n    },\n  });\n\n  return {\n    actions: getActions(),\n    onClose,\n    empty: false,\n    getItemProps,\n    getRootProps,\n    editor,\n    view,\n  };\n}\n","import {\n  FontBoldIcon,\n  FontItalicIcon,\n  StrikethroughIcon,\n  CodeIcon,\n  UnderlineIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n} from '@radix-ui/react-icons';\nimport * as Toolbar from '@radix-ui/react-toolbar';\nimport {\n  useFloating,\n  offset,\n  flip,\n  shift,\n  inline,\n  autoUpdate,\n  FloatingPortal,\n  FloatingOverlay,\n} from '@floating-ui/react';\nimport { CSSProperties, MouseEvent, useEffect, useRef, useState } from 'react';\nimport { HighlightColor } from './HighlightColor';\nimport {\n  findSlateBySelectionPath,\n  getRootBlockElement,\n  HOTKEYS,\n  SlateElement,\n  useYooptaTools,\n  YooEditor,\n  YooptaBlock,\n} from '@yoopta/editor';\nimport { Editor, Element, NodeEntry, Range, Transforms } from 'slate';\nimport { ToolbarRenderProps } from '../types';\nimport { buildActionMenuRenderProps } from './utils';\n\ntype LinkValues = {\n  title?: string;\n  url: string;\n};\n\nfunction filterToggleActions(editor: YooEditor, type: string) {\n  const block = editor.blocks[type];\n  if (!block) return false;\n\n  const rootBlock = getRootBlockElement(block.elements);\n  if (rootBlock?.props?.nodeType === 'void') return false;\n  return true;\n}\n\nconst getLinkEntry = (slate) => {\n  const [link] = Editor.nodes(slate, {\n    match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\n  });\n\n  return link;\n};\n\nconst DEFAULT_MODALS = { link: false, highlight: false, actionMenu: false };\ntype ModalsState = typeof DEFAULT_MODALS;\n\nconst DefaultToolbarRender = ({ activeBlock, editor, toggleHoldToolbar }: ToolbarRenderProps) => {\n  const [modals, setModals] = useState<ModalsState>({ link: false, highlight: false, actionMenu: false });\n  const [linkValues, setLinkValues] = useState<LinkValues>({ title: '', url: '' });\n  const lastSelection = useRef<Range | null>(null);\n\n  const tools = useYooptaTools();\n\n  const onChangeModal = (modal: keyof ModalsState, value: boolean) => {\n    setModals(() => ({ ...DEFAULT_MODALS, [modal]: value }));\n  };\n\n  const { refs: actionMenuRefs, floatingStyles: actionMenuStyles } = useFloating({\n    placement: 'bottom-start',\n    open: modals.actionMenu,\n    onOpenChange: (open) => onChangeModal('actionMenu', open),\n    middleware: [inline(), flip(), shift(), offset(10)],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { refs: highlightPickerRefs, floatingStyles: highlightPickerStyles } = useFloating({\n    placement: 'top-end',\n    open: modals.highlight,\n    onOpenChange: (open) => onChangeModal('highlight', open),\n    middleware: [inline(), flip(), shift(), offset(10)],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { refs: linkToolRefs, floatingStyles: linkToolStyles } = useFloating({\n    placement: 'top-start',\n    open: modals.link,\n    onOpenChange: (open) => onChangeModal('link', open),\n    middleware: [inline(), flip(), shift(), offset(10)],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const getItemStyle = (type) => ({\n    backgroundColor: editor.formats[type]?.isActive() ? '#1183ff' : undefined,\n    color: editor.formats[type]?.isActive() ? '#fff' : undefined,\n  });\n\n  const highlight = editor.formats.highlight;\n  const highlightColors = highlight?.getValue();\n  const getHighlightTriggerStyle = (): CSSProperties => {\n    const buttonStyles = getModalTriggerStyle('highlight');\n\n    return {\n      color: highlightColors?.color,\n      backgroundColor: buttonStyles.backgroundColor || highlightColors?.backgroundColor,\n      backgroundImage: highlightColors?.backgroundImage,\n      WebkitTextFillColor: highlightColors?.webkitTextFillColor,\n    };\n  };\n\n  const blockLabel = activeBlock?.options?.display?.title || activeBlock?.type || '';\n\n  const ActionMenu = tools.ActionMenu;\n  const LinkTool = tools.LinkTool;\n\n  useEffect(() => {\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (HOTKEYS.isEscape(e)) {\n        setModals(DEFAULT_MODALS);\n        toggleHoldToolbar?.(false);\n        return;\n      }\n\n      // [TODO]: Implement this accessibility feature\n      // if (HOTKEYS.isEnter(e)) {\n      //   if (modals.link) {\n      //     onUpdateLink(linkValues);\n      //   }\n      // }\n    };\n\n    if (modals.link) {\n      const slate = findSlateBySelectionPath(editor);\n      if (!slate || !slate.selection) return;\n\n      lastSelection.current = slate.selection;\n\n      const title = Editor.string(slate, slate?.selection);\n      const linkNodeEntry = getLinkEntry(slate);\n      const link: LinkValues = { title, url: '' };\n\n      if (linkNodeEntry) {\n        const [linkNode] = linkNodeEntry as NodeEntry<SlateElement>;\n        link.url = linkNode.props.url;\n      }\n\n      setLinkValues(link);\n    }\n\n    document.addEventListener('keydown', onKeyDown);\n\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [editor.selection, editor.children, modals.link]);\n\n  const onUpdateLink = (link: LinkValues) => {\n    const slate = findSlateBySelectionPath(editor);\n    if (!slate) return;\n\n    Editor.withoutNormalizing(slate, () => {\n      if (!slate.selection) return;\n\n      const linkNodeEntry = getLinkEntry(slate);\n\n      if (linkNodeEntry) {\n        const [linkNode] = linkNodeEntry as NodeEntry<SlateElement>;\n        const updatedNode = { props: { ...linkNode?.props, url: link.url, title: link.title } };\n\n        Transforms.setNodes<SlateElement>(slate, updatedNode, {\n          match: (n) => Element.isElement(n) && (n as SlateElement).type === 'link',\n        });\n\n        Editor.insertText(slate, link.title || link.url, { at: slate.selection });\n        Transforms.collapse(slate, { edge: 'end' });\n      } else {\n        const linkNode = {\n          type: 'link',\n          children: [{ text: link.title }],\n          props: {\n            target: '_blank',\n            rel: 'noreferrer',\n            nodeType: 'inline',\n            url: link.url,\n            title: link.title,\n          },\n        } as SlateElement;\n\n        Transforms.wrapNodes(slate, linkNode, { split: true, at: slate.selection });\n        Transforms.setNodes(\n          slate,\n          { text: link.title },\n          {\n            at: slate.selection,\n            mode: 'lowest',\n            match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\n          },\n        );\n\n        Editor.insertText(slate, link.title || link.url, { at: slate.selection });\n        Transforms.collapse(slate, { edge: 'end' });\n      }\n\n      editor.applyChanges();\n      editor.emit('change', editor.children);\n\n      onChangeModal('link', false);\n      setLinkValues({ title: '', url: '' });\n      toggleHoldToolbar?.(false);\n\n      // if (lastSelection.current) {\n      //   try {\n      //     Transforms.select(slate, lastSelection.current);\n      //     Transforms.setSelection(slate, lastSelection.current);\n      //     lastSelection.current = null;\n      //   } catch (error) {}\n      // }\n    });\n  };\n\n  const onDeleteLink = () => {\n    const slate = findSlateBySelectionPath(editor);\n    if (!slate || !slate.selection) return;\n    const linkNodeEntry = getLinkEntry(slate);\n    if (linkNodeEntry) {\n      Transforms.unwrapNodes(slate, {\n        match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\n      });\n    }\n    onChangeModal('link', false);\n    setLinkValues({ title: '', url: '' });\n    toggleHoldToolbar?.(false);\n  };\n\n  const onClickLinkOverlay = (e: MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (linkToolRefs.floating.current?.contains(e.target as Node)) return;\n\n    toggleHoldToolbar?.(false);\n    setModals(DEFAULT_MODALS);\n  };\n\n  const isActiveTriggerModal = (modal: keyof ModalsState) => modals[modal];\n  const getModalTriggerStyle = (modal: keyof ModalsState) => ({\n    backgroundColor: isActiveTriggerModal(modal) ? '#f4f4f5' : undefined,\n  });\n\n  const onToggleMark = (format: string) => {\n    setModals(DEFAULT_MODALS);\n    editor.formats[format].toggle();\n  };\n\n  const onCloseActionMenu = () => onChangeModal('actionMenu', false);\n\n  const actionMenuRenderProps = buildActionMenuRenderProps({ editor, onClose: onCloseActionMenu, view: 'small' });\n\n  return (\n    <Toolbar.Root className=\"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-flex yoo-toolbar-z-50 yoo-toolbar-p-[5px] yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border-[1px] yoo-toolbar-border-solid yoo-toolbar-border-[#e3e3e3] yoo-toolbar-shadow-y-[4px]\">\n      <Toolbar.ToggleGroup\n        className=\"yoo-toolbar-flex yoo-toolbar-items-center\"\n        type=\"single\"\n        aria-label=\"Block formatting\"\n      >\n        <Toolbar.ToggleItem\n          className=\"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md\"\n          value={blockLabel}\n          aria-label={blockLabel}\n          ref={actionMenuRefs.setReference}\n          onClick={() => onChangeModal('actionMenu', !modals.actionMenu)}\n          style={getModalTriggerStyle('actionMenu')}\n        >\n          <span className=\"yoo-toolbar-mr-0\">{blockLabel}</span>\n          {modals.actionMenu && !!ActionMenu && (\n            <FloatingPortal id=\"yoo-toolbar-action-menu-list-portal\" root={document.getElementById('yoopta-editor')}>\n              <div style={actionMenuStyles} ref={actionMenuRefs.setFloating} onClick={(e) => e.stopPropagation()}>\n                <ActionMenu {...actionMenuRenderProps} />\n              </div>\n            </FloatingPortal>\n          )}\n        </Toolbar.ToggleItem>\n      </Toolbar.ToggleGroup>\n      <Toolbar.Separator className=\"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]\" />\n      <Toolbar.ToggleGroup\n        className=\"yoo-toolbar-flex yoo-toolbar-items-center\"\n        type=\"single\"\n        aria-label=\"Block formatting\"\n      >\n        <Toolbar.ToggleItem\n          className=\"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md\"\n          value=\"LinkTool\"\n          aria-label=\"LinkTool\"\n          ref={linkToolRefs.setReference}\n          onClick={() => {\n            onChangeModal('link', !modals.link);\n            toggleHoldToolbar?.(true);\n          }}\n          style={getModalTriggerStyle('link')}\n        >\n          <span className=\"yoo-toolbar-mr-0\">Link</span>\n          {modals.link && !!LinkTool && (\n            <FloatingPortal id=\"yoo-link-tool-portal\" root={document.getElementById('yoopta-editor')}>\n              <FloatingOverlay lockScroll className=\"z-[100]\" onClick={onClickLinkOverlay}>\n                <div style={linkToolStyles} ref={linkToolRefs.setFloating}>\n                  <LinkTool link={linkValues} onSave={onUpdateLink} onDelete={onDeleteLink} />\n                </div>\n              </FloatingOverlay>\n            </FloatingPortal>\n          )}\n        </Toolbar.ToggleItem>\n      </Toolbar.ToggleGroup>\n      <Toolbar.Separator className=\"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]\" />\n      <Toolbar.ToggleGroup\n        className=\"yoo-toolbar-flex yoo-toolbar-items-center\"\n        type=\"multiple\"\n        aria-label=\"Text formatting\"\n      >\n        {editor.formats.bold && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"bold\"\n            aria-label=\"Bold\"\n            style={getItemStyle('bold')}\n            onClick={() => onToggleMark('bold')}\n          >\n            <FontBoldIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.italic && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"italic\"\n            aria-label=\"Italic\"\n            style={getItemStyle('italic')}\n            onClick={() => onToggleMark('italic')}\n          >\n            <FontItalicIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.underline && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"underline\"\n            aria-label=\"Underline\"\n            style={getItemStyle('underline')}\n            onClick={() => onToggleMark('underline')}\n          >\n            <UnderlineIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.strike && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"strike\"\n            aria-label=\"Strike\"\n            style={getItemStyle('strike')}\n            onClick={() => onToggleMark('strike')}\n          >\n            <StrikethroughIcon width={20} height={20} />\n            {/* <span className=\"yoo-toolbar-w-[20px] yoo-toolbar-h-[20px] yoo-toolbar-line-through\">S</span> */}\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.code && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"code\"\n            aria-label=\"Code\"\n            style={getItemStyle('code')}\n            onClick={() => onToggleMark('code')}\n          >\n            <CodeIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.highlight && (\n          <>\n            {modals.highlight && (\n              <HighlightColor\n                editor={editor}\n                floatingStyles={highlightPickerStyles}\n                refs={highlightPickerRefs}\n                onClose={() => onChangeModal('highlight', false)}\n                highlightColors={highlightColors}\n              />\n            )}\n\n            <Toolbar.ToggleItem\n              className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n              value=\"highlight\"\n              aria-label=\"Highlight\"\n              style={getHighlightTriggerStyle()}\n              ref={highlightPickerRefs.setReference}\n              onClick={() => onChangeModal('highlight', !modals.highlight)}\n            >\n              <span className=\"yoo-toolbar-text-lg yoo-toolbar-px-1 yoo-toolbar-font-serif yoo-toolbar-text-col\">\n                A\n              </span>\n              {modals.highlight ? <ChevronUpIcon width={10} /> : <ChevronDownIcon width={10} />}\n            </Toolbar.ToggleItem>\n          </>\n        )}\n      </Toolbar.ToggleGroup>\n    </Toolbar.Root>\n  );\n};\n\nexport { DefaultToolbarRender };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import { useEffect, useState } from 'react';\nimport { DefaultToolbarRender } from './DefaultToolbarRender';\nimport {\n  useFloating,\n  offset,\n  flip,\n  shift,\n  inline,\n  autoUpdate,\n  FloatingPortal,\n  useTransitionStyles,\n} from '@floating-ui/react';\nimport throttle from 'lodash.throttle';\nimport { useYooptaEditor } from '@yoopta/editor';\nimport { ToolbarToolProps } from '../types';\n\nconst Toolbar = ({ render }: ToolbarToolProps) => {\n  const editor = useYooptaEditor();\n  const [isToolbarOpen, setIsToolbarOpen] = useState(false);\n  const [hold, setHold] = useState(false);\n\n  const { refs, floatingStyles, context } = useFloating({\n    placement: 'top',\n    open: isToolbarOpen,\n    onOpenChange: setIsToolbarOpen,\n    middleware: [inline(), flip(), shift(), offset(10)],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { isMounted, styles: transitionStyles } = useTransitionStyles(context, {\n    duration: 100,\n  });\n\n  const selectionChange = () => {\n    if (hold) return;\n\n    const domSelection = window.getSelection();\n\n    if (!domSelection || domSelection?.isCollapsed) return setIsToolbarOpen(false);\n\n    const domRange = domSelection.getRangeAt(0);\n    const selectionRect = domRange.getBoundingClientRect();\n    const text = domRange.toString().trim();\n\n    const pluginWithCustomEditor = document.querySelectorAll('[data-custom-editor]');\n    const yooptaEditorEl = document.getElementById('yoopta-editor');\n    const ancestor = domRange?.commonAncestorContainer;\n\n    let isInsideCustomEditor = false;\n    for (let i = 0; i < pluginWithCustomEditor.length; i++) {\n      if (pluginWithCustomEditor[i].contains(ancestor)) {\n        isInsideCustomEditor = true;\n        break;\n      }\n    }\n\n    if (!yooptaEditorEl?.contains(ancestor) || isInsideCustomEditor) {\n      return setIsToolbarOpen(false);\n    }\n\n    if (domRange && text.length > 0) {\n      refs.setReference({\n        getBoundingClientRect: () => selectionRect,\n        getClientRects: () => domRange.getClientRects(),\n      });\n\n      setIsToolbarOpen(true);\n    }\n  };\n\n  const onSelectionChange = throttle(selectionChange, 200);\n\n  useEffect(() => {\n    window.document.addEventListener('selectionchange', onSelectionChange);\n    return () => window.document.removeEventListener('selectionchange', onSelectionChange);\n  }, [editor.selectedBlocks, hold, editor.children]);\n\n  if (!isMounted) return null;\n\n  const activeBlock = Object.values(editor.blocks).find((block) => block.isActive());\n  const style = { ...floatingStyles, ...transitionStyles };\n\n  const toggleHoldToolbar = (hold: boolean) => setHold(hold);\n\n  if (render) {\n    const RenderComponent = render;\n\n    return (\n      <FloatingPortal id=\"yoo-toolbar-portal\" root={document.getElementById('yoopta-editor')}>\n        <div style={style} ref={refs.setFloating} onClick={(e) => e.stopPropagation()}>\n          <RenderComponent activeBlock={activeBlock} editor={editor} toggleHoldToolbar={toggleHoldToolbar} />\n        </div>\n      </FloatingPortal>\n    );\n  }\n\n  return (\n    // [TODO] - take care about SSR\n    <FloatingPortal id=\"yoo-toolbar-portal\" root={document.getElementById('yoopta-editor')}>\n      <div style={style} ref={refs.setFloating} onClick={(e) => e.stopPropagation()}>\n        <DefaultToolbarRender activeBlock={activeBlock} editor={editor} toggleHoldToolbar={toggleHoldToolbar} />\n      </div>\n    </FloatingPortal>\n  );\n};\n\nexport { Toolbar };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"names":["ChevronDownIcon","React","forwardedRef","color","props","width","height","viewBox","fill","xmlns","ref","d","fillRule","clipRule","ChevronUpIcon","CodeIcon","FontBoldIcon","FontItalicIcon","StrikethroughIcon","UnderlineIcon","_extends","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","handleEvent","event","defaultPrevented","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext","rootComponentName","defaultContext","BaseContext","index","length","Provider","scope","children","context","Context","value","Object","values","$3bkAK$createElement","useContext","consumerName","undefined","Error","displayName","createScope","scopeContexts","map","useScope","contexts","composeContextScopes","scopes","baseScope","scopeHooks","useComposedScopes","overrideScopes","nextScopes","reduce","scopeProps","currentScope","setRef","current","composeRefs","refs","node","forEach","useComposedRefs","Slot","slotProps","childrenArray","toArray","slottable","find","isSlottable","newElement","newChildren","child","count","only","$9IrjX$createElement","$9IrjX$babelruntimehelpersesmextends","SlotClone","mergeProps","Slottable","$9IrjX$Fragment","type","childProps","overrideProps","propName","slotPropValue","childPropValue","isHandler","test","args","filter","Boolean","join","createCollection","name","PROVIDER_NAME","createCollectionContext","createCollectionScope","CollectionProviderImpl","useCollectionContext","collectionRef","itemMap","Map","CollectionProvider","useRef","$6vYhU$react","COLLECTION_SLOT_NAME","CollectionSlot","forwardRef","composedRefs","$6vYhU$Slot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlot","itemData","useEffect","set","delete","useCollection","getItems","useCallback","collectionNode","orderedNodes","Array","from","querySelectorAll","items","orderedItems","sort","a","b","indexOf","ItemSlot","useLayoutEffect","globalThis","document","useReactId","toString","useId","deterministicId","id","setId","useState","reactId","String","NODES","Primitive","primitive","Node","asChild","primitiveProps","Comp","window","Symbol","for","$4q5Fq$createElement","$4q5Fq$babelruntimehelpersesmextends","useCallbackRef","callback","callbackRef","useControllableState","prop","defaultProp","onChange","uncontrolledProp","setUncontrolledProp","useUncontrolledState","isControlled","handleChange","setValue","nextValue","setter","uncontrolledState","prevValueRef","DirectionContext","useDirection","localDir","globalDir","ENTRY_FOCUS","EVENT_OPTIONS","bubbles","cancelable","GROUP_NAME","Collection","createRovingFocusGroupContext","createRovingFocusGroupScope","RovingFocusProvider","useRovingFocusContext","RovingFocusGroup","$98Iye$createElement","__scopeRovingFocusGroup","$98Iye$babelruntimehelpersesmextends","RovingFocusGroupImpl","orientation","loop","dir","currentTabStopId","currentTabStopIdProp","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","groupProps","direction","setCurrentTabStopId","isTabbingBackOut","setIsTabbingBackOut","handleEntryFocus","isClickFocusRef","focusableItemsCount","setFocusableItemsCount","addEventListener","removeEventListener","tabStopId","prevCount","$98Iye$Primitive","outline","style","onMouseDown","onFocus","isKeyboardFocus","target","currentTarget","entryFocusEvent","CustomEvent","dispatchEvent","item","focusable","activeItem","active","currentItem","candidateItems","candidateNodes","focusFirst","onBlur","ITEM_NAME","RovingFocusGroupItem","itemProps","autoId","isCurrentTabStop","onFocusableItemAdd","onFocusableItemRemove","preventDefault","onItemFocus","onKeyDown","key","shiftKey","onItemShiftTab","focusIntent","getFocusIntent","reverse","currentIndex","wrapArray","slice","setTimeout","MAP_KEY_TO_FOCUS_INTENT","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageUp","Home","PageDown","End","getDirectionAwareKey","includes","candidates","PREVIOUSLY_FOCUSED_ELEMENT","activeElement","candidate","focus","array","startIndex","_","Root","Item","DEFAULT_ORIENTATION","ORIENTATIONS","Separator","decorative","orientationProp","domProps","isValidOrientation","ariaOrientation","semanticProps","role","$5WXm8$createElement","$5WXm8$Primitive","$5WXm8$babelruntimehelpersesmextends","propTypes","componentName","propValue","strVal","getInvalidOrientationError","Toggle","pressed","pressedProp","defaultPressed","onPressedChange","buttonProps","setPressed","$5AXX7$createElement","$5AXX7$Primitive","$5AXX7$babelruntimehelpersesmextends","disabled","onClick","TOGGLE_GROUP_NAME","createToggleGroupContext","createToggleGroupScope","useRovingFocusGroupScope","ToggleGroup","toggleGroupProps","singleProps","$jFibJ$react","$jFibJ$babelruntimehelpersesmextends","multipleProps","ToggleGroupValueProvider","useToggleGroupValueContext","ToggleGroupImplSingle","valueProp","defaultValue","onValueChange","toggleGroupSingleProps","__scopeToggleGroup","ToggleGroupImplMultiple","toggleGroupMultipleProps","handleButtonActivate","itemValue","prevValue","handleButtonDeactivate","ToggleGroupContext","useToggleGroupContext","ToggleGroupImpl","rovingFocus","rovingFocusGroupScope","commonProps","$jFibJ$Root","$jFibJ$Primitive","ToggleGroupItem","valueContext","$jFibJ$Item","ToggleGroupItemImpl","typeProps","$jFibJ$Toggle","onItemActivate","onItemDeactivate","TOOLBAR_NAME","createToolbarContext","createToolbarScope","useToggleGroupScope","ToolbarProvider","useToolbarContext","Toolbar","__scopeToolbar","toolbarProps","$72MJ6$createElement","$72MJ6$Root","$72MJ6$babelruntimehelpersesmextends","$72MJ6$Primitive","SEPARATOR_NAME","ToolbarSeparator","separatorProps","$72MJ6$Root1","ToolbarButton","$72MJ6$Item","ToolbarToggleGroup","toggleGroupScope","$72MJ6$Root2","ToolbarToggleItem","toggleItemProps","$72MJ6$Item1","ToggleItem","isElement","getComputedStyle","computePosition","flip","inline","shift","useLatestRef","useFloating","candidateSelectors","candidateSelector","NoElement","Element","matches","prototype","msMatchesSelector","webkitMatchesSelector","getRootNode","element","_element$getRootNode","call","ownerDocument","isInert","lookUp","_node$getAttribute","inertAtt","getAttribute","inert","result","parentNode","isContentEditable","_node$getAttribute2","attValue","getCandidates","el","includeContainer","apply","unshift","getCandidatesIteratively","elements","options","elementsToCheck","tagName","assigned","assignedElements","content","nestedCandidates","flatten","push","scopeParent","validCandidate","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","hasTabIndex","isNaN","parseInt","getTabIndex","tabIndex","getSortOrderTabIndex","isScope","sortOrderedTabbables","documentOrder","isInput","isHiddenInput","isDetailsWithSummary","r","some","getCheckedRadio","nodes","form","i","checked","isTabbableRadio","radioScope","queryRadios","radioSet","CSS","escape","err","console","error","message","isRadio","isNonTabbableRadio","isNodeAttached","_nodeRoot","nodeRoot","nodeRootHost","host","attached","_nodeRootHost","_nodeRootHost$ownerDo","_node$ownerDocument","contains","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isZeroArea","_node$getBoundingClie","getBoundingClientRect","isHidden","_ref","displayCheck","visibility","isDirectSummary","nodeUnderDetails","parentElement","originalNode","rootNode","assignedSlot","getClientRects","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","acc","sortable","concat","tabbable","container","bind","_jsx","_jsxs","isObject","isPlainObject","immer","isSet","Immer","base","Path","ancestors","path","arguments","paths","levels","common","another","av","bv","compare","min","Math","endsAfter","as","bs","equals","endsAt","endsBefore","every","n","hasPrevious","isAfter","isAncestor","isBefore","isChild","isCommon","isDescendant","isParent","isPath","isArray","isSibling","al","bl","list","next","last","operationCanTransformPath","operation","parent","previous","relative","ancestor","transform","p","affinity","op","position","newPath","onp","copy","toPrimitive","toPropertyKey","applyToDraft","editor","selection","splice","point","Range","points","Point","offset","text","leaf","before","after","get","prevPath","prev","Text","isText","Scrubber","stringify","truePath","newParent","newIndex","texts","preferNext","properties","newProperties","hasOwnProperty","isRange","_objectSpread","newNode","GeneralTransforms","createDraft","finishDraft","isDraft","NodeTransforms","insertNodes","liftNodes","mergeNodes","moveNodes","removeNodes","setNodes","splitNodes","unsetNodes","unwrapNodes","wrapNodes","SelectionTransforms","collapse","deselect","move","select","setPoint","setSelection","isDeepEqual","objectWithoutPropertiesLoose","edges","range","anchor","isBackward","end","rs","re","ts","te","start","isAfterStart","isBeforeEnd","isPoint","intersection","rest","_objectWithoutProperties","_excluded","s1","e1","s2","e2","isCollapsed","isExpanded","isForward","produce","affinityAnchor","affinityFocus","isNodeList","Editor","isEditor","isElementList","val","isElementProps","isElementType","elementVal","elementKey","IS_NODE_LIST_CACHE","WeakMap","root","entry","c","childPath","descendant","descendants","extractProps","_excluded2","first","fragment","newRoot","nodeEntries","pass","has","isNode","cachedResult","isTextProps","to","visited","Set","add","nextIndex","parentPath","string","Operation","isNodeOperation","isOperation","endsWith","isOperationList","isSelectionOperation","isTextOperation","inverse","inversePath","inverseNewPath","IS_EDITOR_CACHE","cachedIsEditor","addMark","deleteFragment","insertBreak","insertSoftBreak","insertFragment","insertNode","insertText","isElementReadOnly","isInline","isSelectable","isVoid","normalizeNode","removeMark","getDirtyPaths","marks","operations","above","at","deleteBackward","unit","deleteForward","elementReadOnly","hasBlocks","hasInlines","hasPath","hasTexts","isBlock","isEdge","isEmpty","isEnd","isNormalizing","isStart","getMarks","normalize","pathRef","pathRefs","pointRef","pointRefs","positions","rangeRef","rangeRefs","setNormalizing","unhangRange","void","withoutNormalizing","fn","_scrubber","setScrubber","scrubber","JSON","loose","omitText","obj","isTextList","decorations","leaves","dec","leafEnd","decorationStart","decorationEnd","leafStart","assign","middle","off","getDefaultInsertLocation","CodepointType","L","V","LV","LVT","T","Any","Extend","ZWJ","SpacingMark","Prepend","ExtPict","RI","TextTransforms","voids","startRef","endRef","Transforms","startPoint","unref","endPoint","Toolbar.Root","Toolbar.ToggleGroup","Toolbar.ToggleItem","Toolbar.Separator","_Fragment","global","throttle"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,70,72]}
\ No newline at end of file
+{"version":3,"file":"index.js","sources":["../../../node_modules/@radix-ui/react-icons/src/ChevronDownIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/ChevronUpIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/CodeIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/FontBoldIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/FontItalicIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/StrikethroughIcon.tsx","../../../node_modules/@radix-ui/react-icons/src/UnderlineIcon.tsx","../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../node_modules/@radix-ui/primitive/dist/packages/core/primitive/src/primitive.tsx","../../../node_modules/@radix-ui/react-context/dist/packages/react/context/src/createContext.tsx","../../../node_modules/@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx","../../../node_modules/@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx","../../../node_modules/@radix-ui/react-collection/dist/packages/react/collection/src/Collection.tsx","../../../node_modules/@radix-ui/react-use-layout-effect/dist/packages/react/use-layout-effect/src/useLayoutEffect.tsx","../../../node_modules/@radix-ui/react-id/dist/packages/react/id/src/id.tsx","../../../node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../../../node_modules/@radix-ui/react-use-callback-ref/dist/packages/react/use-callback-ref/src/useCallbackRef.tsx","../../../node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/useControllableState.tsx","../../../node_modules/@radix-ui/react-direction/dist/packages/react/direction/src/Direction.tsx","../../../node_modules/@radix-ui/react-roving-focus/dist/packages/react/roving-focus/src/RovingFocusGroup.tsx","../../../node_modules/@radix-ui/react-separator/dist/packages/react/separator/src/Separator.tsx","../../../node_modules/@radix-ui/react-toggle/dist/packages/react/toggle/src/Toggle.tsx","../../../node_modules/@radix-ui/react-toggle-group/dist/packages/react/toggle-group/src/ToggleGroup.tsx","../../../node_modules/@radix-ui/react-toolbar/dist/packages/react/toolbar/src/Toolbar.tsx","../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../../node_modules/@floating-ui/react/dist/floating-ui.react.utils.mjs","../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../../../node_modules/tabbable/src/index.js","../../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs","../src/components/HighlightColor.tsx","../../../node_modules/is-plain-object/dist/is-plain-object.mjs","../../../node_modules/immer/src/utils/env.ts","../../../node_modules/immer/src/utils/errors.ts","../../../node_modules/immer/src/utils/common.ts","../../../node_modules/immer/src/utils/plugins.ts","../../../node_modules/immer/src/core/scope.ts","../../../node_modules/immer/src/core/finalize.ts","../../../node_modules/immer/src/core/proxy.ts","../../../node_modules/immer/src/core/immerClass.ts","../../../node_modules/immer/src/core/current.ts","../../../node_modules/immer/src/immer.ts","../../../node_modules/slate/src/interfaces/path.ts","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/slate/src/interfaces/transforms/general.ts","../../../node_modules/slate/src/interfaces/transforms/node.ts","../../../node_modules/slate/src/interfaces/transforms/selection.ts","../../../node_modules/slate/src/utils/deep-equal.ts","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/slate/src/interfaces/range.ts","../../../node_modules/slate/src/interfaces/element.ts","../../../node_modules/slate/src/interfaces/node.ts","../../../node_modules/slate/src/interfaces/operation.ts","../../../node_modules/slate/src/editor/is-editor.ts","../../../node_modules/slate/src/interfaces/editor.ts","../../../node_modules/slate/src/interfaces/point.ts","../../../node_modules/slate/src/interfaces/scrubber.ts","../../../node_modules/slate/src/interfaces/text.ts","../../../node_modules/slate/src/utils/get-default-insert-location.ts","../../../node_modules/slate/src/utils/string.ts","../../../node_modules/slate/src/interfaces/transforms/text.ts","../../../node_modules/slate/src/interfaces/transforms/index.ts","../src/components/utils.ts","../src/components/DefaultToolbarRender.tsx","../../../node_modules/lodash.throttle/index.js","../src/components/Toolbar.tsx","../../../node_modules/style-inject/dist/style-inject.es.js"],"sourcesContent":["import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const ChevronDownIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default ChevronDownIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const ChevronUpIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default ChevronUpIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const CodeIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default CodeIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const FontBoldIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.10505 12C4.70805 12 4.4236 11.912 4.25171 11.736C4.0839 11.5559 4 11.2715 4 10.8827V4.11733C4 3.72033 4.08595 3.43588 4.25784 3.26398C4.43383 3.08799 4.71623 3 5.10505 3C6.42741 3 8.25591 3 9.02852 3C10.1373 3 11.0539 3.98153 11.0539 5.1846C11.0539 6.08501 10.6037 6.81855 9.70327 7.23602C10.8657 7.44851 11.5176 8.62787 11.5176 9.48128C11.5176 10.5125 10.9902 12 9.27734 12C8.77742 12 6.42626 12 5.10505 12ZM8.37891 8.00341H5.8V10.631H8.37891C8.9 10.631 9.6296 10.1211 9.6296 9.29877C9.6296 8.47643 8.9 8.00341 8.37891 8.00341ZM5.8 4.36903V6.69577H8.17969C8.53906 6.69577 9.27734 6.35939 9.27734 5.50002C9.27734 4.64064 8.48047 4.36903 8.17969 4.36903H5.8Z\"\n          fill={color}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default FontBoldIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const FontItalicIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.67494 3.50017C5.67494 3.25164 5.87641 3.05017 6.12494 3.05017H10.6249C10.8735 3.05017 11.0749 3.25164 11.0749 3.50017C11.0749 3.7487 10.8735 3.95017 10.6249 3.95017H9.00587L7.2309 11.05H8.87493C9.12345 11.05 9.32493 11.2515 9.32493 11.5C9.32493 11.7486 9.12345 11.95 8.87493 11.95H4.37493C4.1264 11.95 3.92493 11.7486 3.92493 11.5C3.92493 11.2515 4.1264 11.05 4.37493 11.05H5.99397L7.76894 3.95017H6.12494C5.87641 3.95017 5.67494 3.7487 5.67494 3.50017Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default FontItalicIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const StrikethroughIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.00003 3.25C5.00003 2.97386 4.77617 2.75 4.50003 2.75C4.22389 2.75 4.00003 2.97386 4.00003 3.25V7.10003H2.49998C2.27906 7.10003 2.09998 7.27912 2.09998 7.50003C2.09998 7.72094 2.27906 7.90003 2.49998 7.90003H4.00003V8.55C4.00003 10.483 5.56703 12.05 7.50003 12.05C9.43303 12.05 11 10.483 11 8.55V7.90003H12.5C12.7209 7.90003 12.9 7.72094 12.9 7.50003C12.9 7.27912 12.7209 7.10003 12.5 7.10003H11V3.25C11 2.97386 10.7762 2.75 10.5 2.75C10.2239 2.75 10 2.97386 10 3.25V7.10003H5.00003V3.25ZM5.00003 7.90003V8.55C5.00003 9.93071 6.11932 11.05 7.50003 11.05C8.88074 11.05 10 9.93071 10 8.55V7.90003H5.00003Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default StrikethroughIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const UnderlineIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.00001 2.75C5.00001 2.47386 4.77615 2.25 4.50001 2.25C4.22387 2.25 4.00001 2.47386 4.00001 2.75V8.05C4.00001 9.983 5.56702 11.55 7.50001 11.55C9.43301 11.55 11 9.983 11 8.05V2.75C11 2.47386 10.7762 2.25 10.5 2.25C10.2239 2.25 10 2.47386 10 2.75V8.05C10 9.43071 8.88072 10.55 7.50001 10.55C6.1193 10.55 5.00001 9.43071 5.00001 8.05V2.75ZM3.49998 13.1001C3.27906 13.1001 3.09998 13.2791 3.09998 13.5001C3.09998 13.721 3.27906 13.9001 3.49998 13.9001H11.5C11.7209 13.9001 11.9 13.721 11.9 13.5001C11.9 13.2791 11.7209 13.1001 11.5 13.1001H3.49998Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default UnderlineIcon;\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","function composeEventHandlers<E>(\n  originalEventHandler?: (event: E) => void,\n  ourEventHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) {\n  return function handleEvent(event: E) {\n    originalEventHandler?.(event);\n\n    if (checkForDefaultPrevented === false || !((event as unknown) as Event).defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import * as React from 'react';\n\nfunction createContext<ContextValueType extends object | null>(\n  rootComponentName: string,\n  defaultContext?: ContextValueType\n) {\n  const Context = React.createContext<ContextValueType | undefined>(defaultContext);\n\n  function Provider(props: ContextValueType & { children: React.ReactNode }) {\n    const { children, ...context } = props;\n    // Only re-memoize when prop values change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  }\n\n  function useContext(consumerName: string) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== undefined) return defaultContext;\n    // if a defaultContext wasn't specified, it's a required context.\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n\n  Provider.displayName = rootComponentName + 'Provider';\n  return [Provider, useContext] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/\n\ntype Scope<C = any> = { [scopeName: string]: React.Context<C>[] } | undefined;\ntype ScopeHook = (scope: Scope) => { [__scopeProp: string]: Scope };\ninterface CreateScope {\n  scopeName: string;\n  (): ScopeHook;\n}\n\nfunction createContextScope(scopeName: string, createContextScopeDeps: CreateScope[] = []) {\n  let defaultContexts: any[] = [];\n\n  /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/\n\n  function createContext<ContextValueType extends object | null>(\n    rootComponentName: string,\n    defaultContext?: ContextValueType\n  ) {\n    const BaseContext = React.createContext<ContextValueType | undefined>(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n\n    function Provider(\n      props: ContextValueType & { scope: Scope<ContextValueType>; children: React.ReactNode }\n    ) {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName][index] || BaseContext;\n      // Only re-memoize when prop values change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n      return <Context.Provider value={value}>{children}</Context.Provider>;\n    }\n\n    function useContext(consumerName: string, scope: Scope<ContextValueType | undefined>) {\n      const Context = scope?.[scopeName][index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== undefined) return defaultContext;\n      // if a defaultContext wasn't specified, it's a required context.\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n\n    Provider.displayName = rootComponentName + 'Provider';\n    return [Provider, useContext] as const;\n  }\n\n  /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/\n\n  const createScope: CreateScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope: Scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n\n  createScope.scopeName = scopeName;\n  return [createContext, composeContextScopes(createScope, ...createContextScopeDeps)] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/\n\nfunction composeContextScopes(...scopes: CreateScope[]) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n\n  const createScope: CreateScope = () => {\n    const scopeHooks = scopes.map((createScope) => ({\n      useScope: createScope(),\n      scopeName: createScope.scopeName,\n    }));\n\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {\n        // We are calling a hook inside a callback which React warns against to avoid inconsistent\n        // renders, however, scoping doesn't have render side effects so we ignore the rule.\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes, ...currentScope };\n      }, {});\n\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nexport { createContext, createContextScope };\nexport type { CreateScope, Scope };\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children as React.ReactNode;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props.children as React.ReactNode)\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: forwardedRef ? composeRefs(forwardedRef, (children as any).ref) : (children as any).ref,\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Slot } from '@radix-ui/react-slot';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\ntype SlotProps = Radix.ComponentPropsWithoutRef<typeof Slot>;\ntype CollectionElement = HTMLElement;\ninterface CollectionProps extends SlotProps {\n  scope: any;\n}\n\n// We have resorted to returning slots directly rather than exposing primitives that can then\n// be slotted like `<CollectionItem as={Slot}>…</CollectionItem>`.\n// This is because we encountered issues with generic types that cannot be statically analysed\n// due to creating them dynamically via createCollection.\n\nfunction createCollection<ItemElement extends HTMLElement, ItemData = {}>(name: string) {\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionProvider\n   * ---------------------------------------------------------------------------------------------*/\n\n  const PROVIDER_NAME = name + 'CollectionProvider';\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n\n  type ContextValue = {\n    collectionRef: React.RefObject<CollectionElement>;\n    itemMap: Map<React.RefObject<ItemElement>, { ref: React.RefObject<ItemElement> } & ItemData>;\n  };\n\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext<ContextValue>(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: new Map() }\n  );\n\n  const CollectionProvider: React.FC<{ children?: React.ReactNode; scope: any }> = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef<CollectionElement>(null);\n    const itemMap = React.useRef<ContextValue['itemMap']>(new Map()).current;\n    return (\n      <CollectionProviderImpl scope={scope} itemMap={itemMap} collectionRef={ref}>\n        {children}\n      </CollectionProviderImpl>\n    );\n  };\n\n  CollectionProvider.displayName = PROVIDER_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionSlot\n   * ---------------------------------------------------------------------------------------------*/\n\n  const COLLECTION_SLOT_NAME = name + 'CollectionSlot';\n\n  const CollectionSlot = React.forwardRef<CollectionElement, CollectionProps>(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return <Slot ref={composedRefs}>{children}</Slot>;\n    }\n  );\n\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionItem\n   * ---------------------------------------------------------------------------------------------*/\n\n  const ITEM_SLOT_NAME = name + 'CollectionItemSlot';\n  const ITEM_DATA_ATTR = 'data-radix-collection-item';\n\n  type CollectionItemSlotProps = ItemData & {\n    children: React.ReactNode;\n    scope: any;\n  };\n\n  const CollectionItemSlot = React.forwardRef<ItemElement, CollectionItemSlotProps>(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef<ItemElement>(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...(itemData as unknown as ItemData) });\n        return () => void context.itemMap.delete(ref);\n      });\n\n      return (\n        <Slot {...{ [ITEM_DATA_ATTR]: '' }} ref={composedRefs}>\n          {children}\n        </Slot>\n      );\n    }\n  );\n\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * useCollection\n   * ---------------------------------------------------------------------------------------------*/\n\n  function useCollection(scope: any) {\n    const context = useCollectionContext(name + 'CollectionConsumer', scope);\n\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current!) - orderedNodes.indexOf(b.ref.current!)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n\n    return getItems;\n  }\n\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope,\n  ] as const;\n}\n\nexport { createCollection };\nexport type { CollectionProps };\n","import * as React from 'react';\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nconst useLayoutEffect = Boolean(globalThis?.document) ? React.useLayoutEffect : () => {};\n\nexport { useLayoutEffect };\n","import * as React from 'react';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n// We `toString()` to prevent bundlers from trying to `import { useId } from 'react';`\nconst useReactId = (React as any)['useId'.toString()] || (() => undefined);\nlet count = 0;\n\nfunction useId(deterministicId?: string): string {\n  const [id, setId] = React.useState<string | undefined>(useReactId());\n  // React versions older than 18 will have client-side ids only.\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : '');\n}\n\nexport { useId };\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'form',\n  'h2',\n  'h3',\n  'img',\n  'input',\n  'label',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    React.useEffect(() => {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }, []);\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click 👎\n * target.dispatchEvent(new Event(‘click’))\n *\n * dispatching a custom type within a non-discrete event 👎\n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(‘customType’))}\n *\n * dispatching a custom type within a `discrete` event 👍\n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(‘customType’))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const setter = nextValue as SetStateFn<T>;\n        const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n        if (value !== prop) handleChange(value as T);\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, handleChange]\n  );\n\n  return [value, setValue] as const;\n}\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nexport { useControllableState };\n","import * as React from 'react';\n\ntype Direction = 'ltr' | 'rtl';\nconst DirectionContext = React.createContext<Direction | undefined>(undefined);\n\n/* -------------------------------------------------------------------------------------------------\n * Direction\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DirectionProviderProps {\n  children?: React.ReactNode;\n  dir: Direction;\n}\nconst DirectionProvider: React.FC<DirectionProviderProps> = (props) => {\n  const { dir, children } = props;\n  return <DirectionContext.Provider value={dir}>{children}</DirectionContext.Provider>;\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction useDirection(localDir?: Direction) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || 'ltr';\n}\n\nconst Provider = DirectionProvider;\n\nexport {\n  useDirection,\n  //\n  Provider,\n  //\n  DirectionProvider,\n};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ENTRY_FOCUS = 'rovingFocusGroup.onEntryFocus';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'RovingFocusGroup';\n\ntype ItemData = { id: string; focusable: boolean; active: boolean };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  HTMLSpanElement,\n  ItemData\n>(GROUP_NAME);\n\ntype ScopedProps<P> = P & { __scopeRovingFocusGroup?: Scope };\nconst [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\n\ntype Orientation = React.AriaAttributes['aria-orientation'];\ntype Direction = 'ltr' | 'rtl';\n\ninterface RovingFocusGroupOptions {\n  /**\n   * The orientation of the group.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   */\n  orientation?: Orientation;\n  /**\n   * The direction of navigation between items.\n   */\n  dir?: Direction;\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: boolean;\n}\n\ntype RovingContextValue = RovingFocusGroupOptions & {\n  currentTabStopId: string | null;\n  onItemFocus(tabStopId: string): void;\n  onItemShiftTab(): void;\n  onFocusableItemAdd(): void;\n  onFocusableItemRemove(): void;\n};\n\nconst [RovingFocusProvider, useRovingFocusContext] =\n  createRovingFocusGroupContext<RovingContextValue>(GROUP_NAME);\n\ntype RovingFocusGroupElement = RovingFocusGroupImplElement;\ninterface RovingFocusGroupProps extends RovingFocusGroupImplProps {}\n\nconst RovingFocusGroup = React.forwardRef<RovingFocusGroupElement, RovingFocusGroupProps>(\n  (props: ScopedProps<RovingFocusGroupProps>, forwardedRef) => {\n    return (\n      <Collection.Provider scope={props.__scopeRovingFocusGroup}>\n        <Collection.Slot scope={props.__scopeRovingFocusGroup}>\n          <RovingFocusGroupImpl {...props} ref={forwardedRef} />\n        </Collection.Slot>\n      </Collection.Provider>\n    );\n  }\n);\n\nRovingFocusGroup.displayName = GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype RovingFocusGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RovingFocusGroupImplProps\n  extends Omit<PrimitiveDivProps, 'dir'>,\n    RovingFocusGroupOptions {\n  currentTabStopId?: string | null;\n  defaultCurrentTabStopId?: string;\n  onCurrentTabStopIdChange?: (tabStopId: string | null) => void;\n  onEntryFocus?: (event: Event) => void;\n}\n\nconst RovingFocusGroupImpl = React.forwardRef<\n  RovingFocusGroupImplElement,\n  RovingFocusGroupImplProps\n>((props: ScopedProps<RovingFocusGroupImplProps>, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    ...groupProps\n  } = props;\n  const ref = React.useRef<RovingFocusGroupImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId = null, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId,\n    onChange: onCurrentTabStopIdChange,\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n\n  return (\n    <RovingFocusProvider\n      scope={__scopeRovingFocusGroup}\n      orientation={orientation}\n      dir={direction}\n      loop={loop}\n      currentTabStopId={currentTabStopId}\n      onItemFocus={React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      )}\n      onItemShiftTab={React.useCallback(() => setIsTabbingBackOut(true), [])}\n      onFocusableItemAdd={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      )}\n      onFocusableItemRemove={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      )}\n    >\n      <Primitive.div\n        tabIndex={isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0}\n        data-orientation={orientation}\n        {...groupProps}\n        ref={composedRefs}\n        style={{ outline: 'none', ...props.style }}\n        onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n          isClickFocusRef.current = true;\n        })}\n        onFocus={composeEventHandlers(props.onFocus, (event) => {\n          // We normally wouldn't need this check, because we already check\n          // that the focus is on the current target and not bubbling to it.\n          // We do this because Safari doesn't focus buttons when clicked, and\n          // instead, the wrapper will get focused and not through a bubbling event.\n          const isKeyboardFocus = !isClickFocusRef.current;\n\n          if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n            const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n            event.currentTarget.dispatchEvent(entryFocusEvent);\n\n            if (!entryFocusEvent.defaultPrevented) {\n              const items = getItems().filter((item) => item.focusable);\n              const activeItem = items.find((item) => item.active);\n              const currentItem = items.find((item) => item.id === currentTabStopId);\n              const candidateItems = [activeItem, currentItem, ...items].filter(\n                Boolean\n              ) as typeof items;\n              const candidateNodes = candidateItems.map((item) => item.ref.current!);\n              focusFirst(candidateNodes);\n            }\n          }\n\n          isClickFocusRef.current = false;\n        })}\n        onBlur={composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))}\n      />\n    </RovingFocusProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RovingFocusGroupItem';\n\ntype RovingFocusItemElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface RovingFocusItemProps extends PrimitiveSpanProps {\n  tabStopId?: string;\n  focusable?: boolean;\n  active?: boolean;\n}\n\nconst RovingFocusGroupItem = React.forwardRef<RovingFocusItemElement, RovingFocusItemProps>(\n  (props: ScopedProps<RovingFocusItemProps>, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n\n    const { onFocusableItemAdd, onFocusableItemRemove } = context;\n\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeRovingFocusGroup}\n        id={id}\n        focusable={focusable}\n        active={active}\n      >\n        <Primitive.span\n          tabIndex={isCurrentTabStop ? 0 : -1}\n          data-orientation={context.orientation}\n          {...itemProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // We prevent focusing non-focusable items on `mousedown`.\n            // Even though the item has tabIndex={-1}, that only means take it out of the tab order.\n            if (!focusable) event.preventDefault();\n            // Safari doesn't focus a button when clicked so we run our logic on mousedown also\n            else context.onItemFocus(id);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => context.onItemFocus(id))}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === 'Tab' && event.shiftKey) {\n              context.onItemShiftTab();\n              return;\n            }\n\n            if (event.target !== event.currentTarget) return;\n\n            const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n\n            if (focusIntent !== undefined) {\n              event.preventDefault();\n              const items = getItems().filter((item) => item.focusable);\n              let candidateNodes = items.map((item) => item.ref.current!);\n\n              if (focusIntent === 'last') candidateNodes.reverse();\n              else if (focusIntent === 'prev' || focusIntent === 'next') {\n                if (focusIntent === 'prev') candidateNodes.reverse();\n                const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                candidateNodes = context.loop\n                  ? wrapArray(candidateNodes, currentIndex + 1)\n                  : candidateNodes.slice(currentIndex + 1);\n              }\n\n              /**\n               * Imperative focus during keydown is risky so we prevent React's batching updates\n               * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n               */\n              setTimeout(() => focusFirst(candidateNodes));\n            }\n          })}\n        />\n      </Collection.ItemSlot>\n    );\n  }\n);\n\nRovingFocusGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// prettier-ignore\nconst MAP_KEY_TO_FOCUS_INTENT: Record<string, FocusIntent> = {\n  ArrowLeft: 'prev', ArrowUp: 'prev',\n  ArrowRight: 'next', ArrowDown: 'next',\n  PageUp: 'first', Home: 'first',\n  PageDown: 'last', End: 'last',\n};\n\nfunction getDirectionAwareKey(key: string, dir?: Direction) {\n  if (dir !== 'rtl') return key;\n  return key === 'ArrowLeft' ? 'ArrowRight' : key === 'ArrowRight' ? 'ArrowLeft' : key;\n}\n\ntype FocusIntent = 'first' | 'last' | 'prev' | 'next';\n\nfunction getFocusIntent(event: React.KeyboardEvent, orientation?: Orientation, dir?: Direction) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === 'vertical' && ['ArrowLeft', 'ArrowRight'].includes(key)) return undefined;\n  if (orientation === 'horizontal' && ['ArrowUp', 'ArrowDown'].includes(key)) return undefined;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nconst Root = RovingFocusGroup;\nconst Item = RovingFocusGroupItem;\n\nexport {\n  createRovingFocusGroupScope,\n  //\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { RovingFocusGroupProps, RovingFocusItemProps };\n","import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n *  Separator\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Separator';\nconst DEFAULT_ORIENTATION = 'horizontal';\nconst ORIENTATIONS = ['horizontal', 'vertical'] as const;\n\ntype Orientation = typeof ORIENTATIONS[number];\ntype SeparatorElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SeparatorProps extends PrimitiveDivProps {\n  /**\n   * Either `vertical` or `horizontal`. Defaults to `horizontal`.\n   */\n  orientation?: Orientation;\n  /**\n   * Whether or not the component is purely decorative. When true, accessibility-related attributes\n   * are updated so that that the rendered element is removed from the accessibility tree.\n   */\n  decorative?: boolean;\n}\n\nconst Separator = React.forwardRef<SeparatorElement, SeparatorProps>((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  // `aria-orientation` defaults to `horizontal` so we only need it if `orientation` is vertical\n  const ariaOrientation = orientation === 'vertical' ? orientation : undefined;\n  const semanticProps = decorative\n    ? { role: 'none' }\n    : { 'aria-orientation': ariaOrientation, role: 'separator' };\n\n  return (\n    <Primitive.div\n      data-orientation={orientation}\n      {...semanticProps}\n      {...domProps}\n      ref={forwardedRef}\n    />\n  );\n});\n\nSeparator.displayName = NAME;\n\nSeparator.propTypes = {\n  orientation(props, propName, componentName) {\n    const propValue = props[propName];\n    const strVal = String(propValue);\n    if (propValue && !isValidOrientation(propValue)) {\n      return new Error(getInvalidOrientationError(strVal, componentName));\n    }\n    return null;\n  },\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// Split this out for clearer readability of the error message.\nfunction getInvalidOrientationError(value: string, componentName: string) {\n  return `Invalid prop \\`orientation\\` of value \\`${value}\\` supplied to \\`${componentName}\\`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to \\`${DEFAULT_ORIENTATION}\\`.`;\n}\n\nfunction isValidOrientation(orientation: any): orientation is Orientation {\n  return ORIENTATIONS.includes(orientation);\n}\n\nconst Root = Separator;\n\nexport {\n  Separator,\n  //\n  Root,\n};\nexport type { SeparatorProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Toggle\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Toggle';\n\ntype ToggleElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToggleProps extends PrimitiveButtonProps {\n  /**\n   * The controlled state of the toggle.\n   */\n  pressed?: boolean;\n  /**\n   * The state of the toggle when initially rendered. Use `defaultPressed`\n   * if you do not need to control the state of the toggle.\n   * @defaultValue false\n   */\n  defaultPressed?: boolean;\n  /**\n   * The callback that fires when the state of the toggle changes.\n   */\n  onPressedChange?(pressed: boolean): void;\n}\n\nconst Toggle = React.forwardRef<ToggleElement, ToggleProps>((props, forwardedRef) => {\n  const { pressed: pressedProp, defaultPressed = false, onPressedChange, ...buttonProps } = props;\n\n  const [pressed = false, setPressed] = useControllableState({\n    prop: pressedProp,\n    onChange: onPressedChange,\n    defaultProp: defaultPressed,\n  });\n\n  return (\n    <Primitive.button\n      type=\"button\"\n      aria-pressed={pressed}\n      data-state={pressed ? 'on' : 'off'}\n      data-disabled={props.disabled ? '' : undefined}\n      {...buttonProps}\n      ref={forwardedRef}\n      onClick={composeEventHandlers(props.onClick, () => {\n        if (!props.disabled) {\n          setPressed(!pressed);\n        }\n      })}\n    />\n  );\n});\n\nToggle.displayName = NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = Toggle;\n\nexport {\n  Toggle,\n  //\n  Root,\n};\nexport type { ToggleProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Toggle } from '@radix-ui/react-toggle';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToggleGroup';\n\ntype ScopedProps<P> = P & { __scopeToggleGroup?: Scope };\nconst [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype ToggleGroupElement = ToggleGroupImplSingleElement | ToggleGroupImplMultipleElement;\ninterface ToggleGroupSingleProps extends ToggleGroupImplSingleProps {\n  type: 'single';\n}\ninterface ToggleGroupMultipleProps extends ToggleGroupImplMultipleProps {\n  type: 'multiple';\n}\n\nconst ToggleGroup = React.forwardRef<\n  ToggleGroupElement,\n  ToggleGroupSingleProps | ToggleGroupMultipleProps\n>((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n\n  if (type === 'single') {\n    const singleProps = toggleGroupProps as ToggleGroupImplSingleProps;\n    return <ToggleGroupImplSingle {...singleProps} ref={forwardedRef} />;\n  }\n\n  if (type === 'multiple') {\n    const multipleProps = toggleGroupProps as ToggleGroupImplMultipleProps;\n    return <ToggleGroupImplMultiple {...multipleProps} ref={forwardedRef} />;\n  }\n\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupValueContextValue = {\n  type: 'single' | 'multiple';\n  value: string[];\n  onItemActivate(value: string): void;\n  onItemDeactivate(value: string): void;\n};\n\nconst [ToggleGroupValueProvider, useToggleGroupValueContext] =\n  createToggleGroupContext<ToggleGroupValueContextValue>(TOGGLE_GROUP_NAME);\n\ntype ToggleGroupImplSingleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplSingleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the item that is pressed.\n   */\n  value?: string;\n  /**\n   * The value of the item that is pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string;\n  /**\n   * The callback that fires when the value of the toggle group changes.\n   */\n  onValueChange?(value: string): void;\n}\n\nconst ToggleGroupImplSingle = React.forwardRef<\n  ToggleGroupImplSingleElement,\n  ToggleGroupImplSingleProps\n>((props: ScopedProps<ToggleGroupImplSingleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupSingleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"single\"\n      value={value ? [value] : []}\n      onItemActivate={setValue}\n      onItemDeactivate={React.useCallback(() => setValue(''), [setValue])}\n    >\n      <ToggleGroupImpl {...toggleGroupSingleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\ntype ToggleGroupImplMultipleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplMultipleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the items that are pressed.\n   */\n  value?: string[];\n  /**\n   * The value of the items that are pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string[];\n  /**\n   * The callback that fires when the state of the toggle group changes.\n   */\n  onValueChange?(value: string[]): void;\n}\n\nconst ToggleGroupImplMultiple = React.forwardRef<\n  ToggleGroupImplMultipleElement,\n  ToggleGroupImplMultipleProps\n>((props: ScopedProps<ToggleGroupImplMultipleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupMultipleProps\n  } = props;\n\n  const [value = [], setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n\n  const handleButtonActivate = React.useCallback(\n    (itemValue: string) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue: string) =>\n      setValue((prevValue = []) => prevValue.filter((value) => value !== itemValue)),\n    [setValue]\n  );\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"multiple\"\n      value={value}\n      onItemActivate={handleButtonActivate}\n      onItemDeactivate={handleButtonDeactivate}\n    >\n      <ToggleGroupImpl {...toggleGroupMultipleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupContextValue = { rovingFocus: boolean; disabled: boolean };\n\nconst [ToggleGroupContext, useToggleGroupContext] =\n  createToggleGroupContext<ToggleGroupContextValue>(TOGGLE_GROUP_NAME);\n\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToggleGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToggleGroupImplProps extends PrimitiveDivProps {\n  /**\n   * Whether the group is disabled from user interaction.\n   * @defaultValue false\n   */\n  disabled?: boolean;\n  /**\n   * Whether the group should maintain roving focus of its buttons.\n   * @defaultValue true\n   */\n  rovingFocus?: boolean;\n  loop?: RovingFocusGroupProps['loop'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst ToggleGroupImpl = React.forwardRef<ToggleGroupImplElement, ToggleGroupImplProps>(\n  (props: ScopedProps<ToggleGroupImplProps>, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: 'group', dir: direction, ...toggleGroupProps };\n    return (\n      <ToggleGroupContext scope={__scopeToggleGroup} rovingFocus={rovingFocus} disabled={disabled}>\n        {rovingFocus ? (\n          <RovingFocusGroup.Root\n            asChild\n            {...rovingFocusGroupScope}\n            orientation={orientation}\n            dir={direction}\n            loop={loop}\n          >\n            <Primitive.div {...commonProps} ref={forwardedRef} />\n          </RovingFocusGroup.Root>\n        ) : (\n          <Primitive.div {...commonProps} ref={forwardedRef} />\n        )}\n      </ToggleGroupContext>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'ToggleGroupItem';\n\ntype ToggleGroupItemElement = ToggleGroupItemImplElement;\ninterface ToggleGroupItemProps extends Omit<ToggleGroupItemImplProps, 'pressed'> {}\n\nconst ToggleGroupItem = React.forwardRef<ToggleGroupItemElement, ToggleGroupItemProps>(\n  (props: ScopedProps<ToggleGroupItemProps>, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef<HTMLDivElement>(null);\n    return context.rovingFocus ? (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={pressed}\n        ref={ref}\n      >\n        <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    ) : (\n      <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n    );\n  }\n);\n\nToggleGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupItemImplElement = React.ElementRef<typeof Toggle>;\ntype ToggleProps = Radix.ComponentPropsWithoutRef<typeof Toggle>;\ninterface ToggleGroupItemImplProps extends Omit<ToggleProps, 'defaultPressed' | 'onPressedChange'> {\n  /**\n   * A string value for the toggle group item. All items within a toggle group should use a unique value.\n   */\n  value: string;\n}\n\nconst ToggleGroupItemImpl = React.forwardRef<ToggleGroupItemImplElement, ToggleGroupItemImplProps>(\n  (props: ScopedProps<ToggleGroupItemImplProps>, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: 'radio', 'aria-checked': props.pressed, 'aria-pressed': undefined };\n    const typeProps = valueContext.type === 'single' ? singleProps : undefined;\n    return (\n      <Toggle\n        {...typeProps}\n        {...itemProps}\n        ref={forwardedRef}\n        onPressedChange={(pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = ToggleGroup;\nconst Item = ToggleGroupItem;\n\nexport {\n  createToggleGroupScope,\n  //\n  ToggleGroup,\n  ToggleGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { ToggleGroupSingleProps, ToggleGroupMultipleProps, ToggleGroupItemProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as SeparatorPrimitive from '@radix-ui/react-separator';\nimport * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';\nimport { createToggleGroupScope } from '@radix-ui/react-toggle-group';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Toolbar\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOOLBAR_NAME = 'Toolbar';\n\ntype ScopedProps<P> = P & { __scopeToolbar?: Scope };\nconst [createToolbarContext, createToolbarScope] = createContextScope(TOOLBAR_NAME, [\n  createRovingFocusGroupScope,\n  createToggleGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\nconst useToggleGroupScope = createToggleGroupScope();\n\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToolbarContextValue = {\n  orientation: RovingFocusGroupProps['orientation'];\n  dir: RovingFocusGroupProps['dir'];\n};\nconst [ToolbarProvider, useToolbarContext] =\n  createToolbarContext<ToolbarContextValue>(TOOLBAR_NAME);\n\ntype ToolbarElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToolbarProps extends PrimitiveDivProps {\n  orientation?: RovingFocusGroupProps['orientation'];\n  loop?: RovingFocusGroupProps['loop'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst Toolbar = React.forwardRef<ToolbarElement, ToolbarProps>(\n  (props: ScopedProps<ToolbarProps>, forwardedRef) => {\n    const { __scopeToolbar, orientation = 'horizontal', dir, loop = true, ...toolbarProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    const direction = useDirection(dir);\n    return (\n      <ToolbarProvider scope={__scopeToolbar} orientation={orientation} dir={direction}>\n        <RovingFocusGroup.Root\n          asChild\n          {...rovingFocusGroupScope}\n          orientation={orientation}\n          dir={direction}\n          loop={loop}\n        >\n          <Primitive.div\n            role=\"toolbar\"\n            aria-orientation={orientation}\n            dir={direction}\n            {...toolbarProps}\n            ref={forwardedRef}\n          />\n        </RovingFocusGroup.Root>\n      </ToolbarProvider>\n    );\n  }\n);\n\nToolbar.displayName = TOOLBAR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'ToolbarSeparator';\n\ntype ToolbarSeparatorElement = React.ElementRef<typeof SeparatorPrimitive.Root>;\ntype SeparatorProps = Radix.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>;\ninterface ToolbarSeparatorProps extends SeparatorProps {}\n\nconst ToolbarSeparator = React.forwardRef<ToolbarSeparatorElement, ToolbarSeparatorProps>(\n  (props: ScopedProps<ToolbarSeparatorProps>, forwardedRef) => {\n    const { __scopeToolbar, ...separatorProps } = props;\n    const context = useToolbarContext(SEPARATOR_NAME, __scopeToolbar);\n    return (\n      <SeparatorPrimitive.Root\n        orientation={context.orientation === 'horizontal' ? 'vertical' : 'horizontal'}\n        {...separatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nToolbarSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUTTON_NAME = 'ToolbarButton';\n\ntype ToolbarButtonElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToolbarButtonProps extends PrimitiveButtonProps {}\n\nconst ToolbarButton = React.forwardRef<ToolbarButtonElement, ToolbarButtonProps>(\n  (props: ScopedProps<ToolbarButtonProps>, forwardedRef) => {\n    const { __scopeToolbar, ...buttonProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    return (\n      <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable={!props.disabled}>\n        <Primitive.button type=\"button\" {...buttonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nToolbarButton.displayName = BUTTON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarLink\n * -----------------------------------------------------------------------------------------------*/\n\nconst LINK_NAME = 'ToolbarLink';\n\ntype ToolbarLinkElement = React.ElementRef<typeof Primitive.a>;\ntype PrimitiveLinkProps = Radix.ComponentPropsWithoutRef<typeof Primitive.a>;\ninterface ToolbarLinkProps extends PrimitiveLinkProps {}\n\nconst ToolbarLink = React.forwardRef<ToolbarLinkElement, ToolbarLinkProps>(\n  (props: ScopedProps<ToolbarLinkProps>, forwardedRef) => {\n    const { __scopeToolbar, ...linkProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    return (\n      <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable>\n        <Primitive.a\n          {...linkProps}\n          ref={forwardedRef}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === ' ') event.currentTarget.click();\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nToolbarLink.displayName = LINK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToolbarToggleGroup';\n\ntype ToolbarToggleGroupElement = React.ElementRef<typeof ToggleGroupPrimitive.Root>;\ntype ToggleGroupProps = Radix.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root>;\ninterface ToolbarToggleGroupSingleProps extends Extract<ToggleGroupProps, { type: 'single' }> {}\ninterface ToolbarToggleGroupMultipleProps extends Extract<ToggleGroupProps, { type: 'multiple' }> {}\n\nconst ToolbarToggleGroup = React.forwardRef<\n  ToolbarToggleGroupElement,\n  ToolbarToggleGroupSingleProps | ToolbarToggleGroupMultipleProps\n>(\n  (\n    props: ScopedProps<ToolbarToggleGroupSingleProps | ToolbarToggleGroupMultipleProps>,\n    forwardedRef\n  ) => {\n    const { __scopeToolbar, ...toggleGroupProps } = props;\n    const context = useToolbarContext(TOGGLE_GROUP_NAME, __scopeToolbar);\n    const toggleGroupScope = useToggleGroupScope(__scopeToolbar);\n    return (\n      <ToggleGroupPrimitive.Root\n        data-orientation={context.orientation}\n        dir={context.dir}\n        {...toggleGroupScope}\n        {...toggleGroupProps}\n        ref={forwardedRef}\n        rovingFocus={false}\n      />\n    );\n  }\n);\n\nToolbarToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarToggleItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_ITEM_NAME = 'ToolbarToggleItem';\n\ntype ToolbarToggleItemElement = React.ElementRef<typeof ToggleGroupPrimitive.Item>;\ntype ToggleGroupItemProps = Radix.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item>;\ninterface ToolbarToggleItemProps extends ToggleGroupItemProps {}\n\nconst ToolbarToggleItem = React.forwardRef<ToolbarToggleItemElement, ToolbarToggleItemProps>(\n  (props: ScopedProps<ToolbarToggleItemProps>, forwardedRef) => {\n    const { __scopeToolbar, ...toggleItemProps } = props;\n    const toggleGroupScope = useToggleGroupScope(__scopeToolbar);\n    const scope = { __scopeToolbar: props.__scopeToolbar };\n\n    return (\n      <ToolbarButton asChild {...scope}>\n        <ToggleGroupPrimitive.Item {...toggleGroupScope} {...toggleItemProps} ref={forwardedRef} />\n      </ToolbarButton>\n    );\n  }\n);\n\nToolbarToggleItem.displayName = TOGGLE_ITEM_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = Toolbar;\nconst Separator = ToolbarSeparator;\nconst Button = ToolbarButton;\nconst Link = ToolbarLink;\nconst ToggleGroup = ToolbarToggleGroup;\nconst ToggleItem = ToolbarToggleItem;\n\nexport {\n  createToolbarScope,\n  //\n  Toolbar,\n  ToolbarSeparator,\n  ToolbarButton,\n  ToolbarLink,\n  ToolbarToggleGroup,\n  ToolbarToggleItem,\n  //\n  Root,\n  Separator,\n  Button,\n  Link,\n  ToggleGroup,\n  ToggleItem,\n};\nexport type {\n  ToolbarProps,\n  ToolbarSeparatorProps,\n  ToolbarButtonProps,\n  ToolbarLinkProps,\n  ToolbarToggleGroupSingleProps,\n  ToolbarToggleGroupMultipleProps,\n  ToolbarToggleItemProps,\n};\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { isShadowRoot, isHTMLElement } from '@floating-ui/utils/dom';\n\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null || (_activeElement = _activeElement.shadowRoot) == null ? void 0 : _activeElement.activeElement) != null) {\n    var _activeElement;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  if (isJSDOM()) return false;\n  return !isAndroid() && event.width === 0 && event.height === 0 || isAndroid() && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333• for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isAndroid() {\n  const re = /android/i;\n  return re.test(getPlatform()) || re.test(getUserAgent());\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isJSDOM() {\n  return getUserAgent().includes('jsdom/');\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nfunction isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\nfunction isRootElement(element) {\n  return element.matches('html,body');\n}\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction isTypeableCombobox(element) {\n  if (!element) return false;\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\n\nexport { TYPEABLE_SELECTOR, activeElement, contains, getDocument, getPlatform, getTarget, getUserAgent, isAndroid, isEventTargetWithin, isJSDOM, isMac, isMouseLikePointerType, isReactEvent, isRootElement, isSafari, isTypeableCombobox, isTypeableElement, isVirtualClick, isVirtualPointerEvent, stopEvent };\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // biome-ignore lint/suspicious/noSelfCompare: in source\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: `hasWhileElementsMounted` is intentionally included.\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n","// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n","import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor } from '@floating-ui/utils';\nimport { platform, getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport { isElement, isHTMLElement, getNodeName, getWindow, isLastTraversableNode, getParentNode, getComputedStyle } from '@floating-ui/utils/dom';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n  }, refs);\n}\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  const isDisabledIndex = disabledIndices ? index => disabledIndices.includes(index) : index => {\n    const element = list[index];\n    return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n  };\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabledIndex(index));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === ARROW_RIGHT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === ARROW_LEFT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices,\n          decrement: true\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      return firstCellIndex + sizes[index].width - 1;\n    case 'bl':\n      return firstCellIndex + (sizes[index].height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that aren’t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(_ref, forwardedRef) {\n  let {\n    render,\n    orientation = 'both',\n    loop = true,\n    cols = 1,\n    disabledIndices = [],\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...props\n  } = _ref;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !disabledIndices.includes(index));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n      nextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...disabledIndices, undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl')\n      })]; // navigated cell will never be nullish\n    }\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const toEndKeys = {\n      horizontal: [ARROW_RIGHT],\n      vertical: [ARROW_DOWN],\n      both: [ARROW_RIGHT, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [ARROW_LEFT],\n      vertical: [ARROW_UP],\n      both: [ARROW_LEFT, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n\n      // Wait for FocusManager `returnFocus` to execute.\n      queueMicrotask(() => {\n        enqueueFocus(elementsRef.current[nextIndex]);\n      });\n    }\n  }\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      props.onKeyDown == null || props.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(_ref2, forwardedRef) {\n  let {\n    render,\n    ...props\n  } = _ref2;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      props.onFocus == null || props.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n  const clipPathId = useId();\n  if (!floating) {\n    return null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = platform.isRTL(floating);\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y : '';\n  const dValue = d ||\n  // biome-ignore lint/style/useTemplate: readability\n  'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + (transform != null ? transform : ''),\n      ...restStyle\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(_ref) {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(_ref2) {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true, event, 'hover');\n        }, openDelay);\n      } else {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay(event, true, 'safe-polygon');\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay(event);\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null || floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null || floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren;\n        const ref = domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove(event) {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true, event.nativeEvent, 'hover');\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave(event) {\n          closeWithDelay(event.nativeEvent, false);\n        }\n      }\n    };\n  }, [enabled, restMs, open, onOpenChange, closeWithDelay]);\n}\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n};\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    // biome-ignore lint/performance/noDelete: purity\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(_ref) {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled || !modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floating, activeElement(getDocument(floating))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floating, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled || !closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [disabled, open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getPreviouslyFocusedElement();\n      if (returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n      // If the focus moved somewhere else after mount, avoid returning focus\n      // since it likely entered a different element which should be\n      // respected: https://github.com/floating-ui/floating-ui/issues/2607\n      returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n        enqueueFocus(returnElement, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored — leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [disabled, floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled || !portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled || !floating || typeof MutationObserver !== 'function' || ignoreInitialFocus) {\n      return;\n    }\n    const handleMutation = () => {\n      const tabIndex = floating.getAttribute('tabindex');\n      if (orderRef.current.includes('floating') || activeElement(getDocument(floating)) !== refs.domReference.current && getTabbableContent().length === 0) {\n        if (tabIndex !== '0') {\n          floating.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floating.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floating, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nconst activeLocks = /*#__PURE__*/new Set();\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  const lockId = useId();\n  index(() => {\n    if (!lockScroll) return;\n    activeLocks.add(lockId);\n    const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n    const bodyStyle = document.body.style;\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.pageXOffset;\n    const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.pageYOffset;\n    bodyStyle.overflow = 'hidden';\n    if (scrollbarWidth) {\n      bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n    }\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (isIOS) {\n      var _window$visualViewpor, _window$visualViewpor2;\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n      const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n      Object.assign(bodyStyle, {\n        position: 'fixed',\n        top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n        left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n        right: '0'\n      });\n    }\n    return () => {\n      activeLocks.delete(lockId);\n      if (activeLocks.size === 0) {\n        Object.assign(bodyStyle, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n        if (isIOS) {\n          Object.assign(bodyStyle, {\n            position: '',\n            top: '',\n            left: '',\n            right: ''\n          });\n          window.scrollTo(scrollX, scrollY);\n        }\n      }\n    };\n  }, [lockId, lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: event => {\n          if (referencePress) {\n            onOpenChange(false, event.nativeEvent, 'reference-press');\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        onMouseDown() {\n          endedOrStartedInsideRef.current = true;\n        },\n        onMouseUp() {\n          endedOrStartedInsideRef.current = true;\n        },\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n}\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  var _options$elements2;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  if (process.env.NODE_ENV !== \"production\") {\n    var _options$elements;\n    const err = 'Floating UI: Cannot pass a virtual element to the ' + '`elements.reference` option, as it must be a real DOM element. ' + 'Use `refs.setPositionReference` instead.';\n    if ((_options$elements = options.elements) != null && _options$elements.reference && !isElement(options.elements.reference)) {\n      var _devMessageSet;\n      if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(err))) {\n        var _devMessageSet2;\n        (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(err);\n        console.error(err);\n      }\n    }\n  }\n  const [_domReference, setDomReference] = React.useState(null);\n  const domReference = ((_options$elements2 = options.elements) == null ? void 0 : _options$elements2.reference) || _domReference;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    if (open) {\n      dataRef.current.openEvent = event;\n    }\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    unstable_onOpenChange == null || unstable_onOpenChange(open, event, reason);\n  });\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    refs,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(event) {\n          if (isVirtualPointerEvent(event.nativeEvent)) return;\n          keyboardModalityRef.current = false;\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          if (blockFocusRef.current) return;\n          const target = getTarget(event.nativeEvent);\n          if (visibleOnly && isElement(target)) {\n            try {\n              // Mac Safari unreliably matches `:focus-visible` on the reference\n              // if focus was outside the page initially - use the fallback\n              // instead.\n              if (isSafari() && isMac()) throw Error();\n              if (!target.matches(':focus-visible')) return;\n            } catch (e) {\n              // Old browsers will throw an error when using `:focus-visible`.\n              if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n                return;\n              }\n            }\n          }\n          onOpenChange(true, event.nativeEvent, 'focus');\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = window.setTimeout(() => {\n            const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n            // Focus left the page, keep it open.\n            if (!relatedTarget && activeEl === domReference) return;\n\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            // We can not rely on relatedTarget to point to the correct element\n            // as it will only point to the shadow host of the newly focused element\n            // and not the element that actually has received focus if it is located\n            // inside a shadow root.\n            if (contains(refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false, event.nativeEvent, 'focus');\n          });\n        }\n      }\n    };\n  }, [enabled, visibleOnly, domReference, refs, onOpenChange]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n      tree == null || tree.events.emit('virtualfocus', item);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null || item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled || !tree || !virtual || parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false, event.nativeEvent, 'list-navigation');\n        if (isHTMLElement(domReference) && !virtual) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const sizes = itemSizes || Array.from({\n          length: listRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = buildCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !(disabledIndices != null && disabledIndices.includes(index)));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n        indexRef.current = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loop,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getCellIndices([...(disabledIndices || []), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getCellIndexOfCorner(indexRef.current, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction\n          // we're moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          stopEvent: true\n        })]; // navigated cell will never be nullish\n\n        onNavigate(indexRef.current);\n        if (orientation === 'both') {\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n    const activeItem = listRef.current.find(item => (item == null ? void 0 : item.id) === activeId);\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n          if (virtual && open) {\n            const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n            const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n            if (isArrowKey && deepestNode && virtualItemRef) {\n              const eventObject = new KeyboardEvent('keydown', {\n                key: event.key,\n                bubbles: true\n              });\n              if (isCrossOpenKey || isCrossCloseKey) {\n                var _deepestNode$context, _deepestNode$context2;\n                const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n                const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? activeItem : null;\n                if (dispatchItem) {\n                  stopEvent(event);\n                  dispatchItem.dispatchEvent(eventObject);\n                  setVirtualId(undefined);\n                }\n              }\n              if (isMainKey && deepestNode.context) {\n                if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                  var _deepestNode$context$;\n                  stopEvent(event);\n                  (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                  return;\n                }\n              }\n            }\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossOpenKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true, event.nativeEvent, 'list-navigation');\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...(!isTypeableCombobox(domReference) && ariaActiveDescendantProp),\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, virtualId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item, tree, virtualItemRef, itemSizes, dense]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        reference: {\n          [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n        'aria-controls': open ? floatingId : undefined,\n        ...(ariaRole === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(ariaRole === 'menu' && {\n          id: referenceId\n        }),\n        ...(ariaRole === 'menu' && isNested && {\n          role: 'menuitem'\n        }),\n        ...(role === 'select' && {\n          'aria-autocomplete': 'none'\n        }),\n        ...(role === 'combobox' && {\n          'aria-autocomplete': 'list'\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(ariaRole === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      },\n      item(_ref) {\n        let {\n          active,\n          selected\n        } = _ref;\n        const commonProps = {\n          role: 'option',\n          ...(active && {\n            id: floatingId + \"-option\"\n          })\n        };\n\n        // For `menu`, we are unable to tell if the item is a `menuitemradio`\n        // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n        // avoid defaulting to `menuitem` as it may overwrite custom role props.\n        switch (role) {\n          case 'select':\n            return {\n              ...commonProps,\n              'aria-selected': active && selected\n            };\n          case 'combobox':\n            {\n              return {\n                ...commonProps,\n                ...(active && {\n                  'aria-selected': true\n                })\n              };\n            }\n        }\n        return {};\n      }\n    };\n  }, [enabled, role, ariaRole, open, floatingId, referenceId, isNested]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setInitiated(true);\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n        setTypingChange(false);\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n","import { FloatingPortal } from '@floating-ui/react';\n// import { ChevronUpIcon } from '@radix-ui/react-icons';\nimport { CSSProperties, MouseEvent } from 'react';\nimport { YooEditor } from '@yoopta/editor';\n\nconst colors = [\n  ['Default', 'black'],\n  ['Gray', '#787774'],\n  ['Brown', '#976D57'],\n  ['Orange', '#CC772F'],\n  ['Yellow', '#C29243'],\n  ['Green', '#548064'],\n  ['Blue', '#477DA5'],\n  ['Purple', '#A48BBE'],\n  ['Pink', '#B35588'],\n  ['Red', '#C4554D'],\n];\n\nconst backgroundColors = [\n  ['Default', 'unset'],\n  ['Gray', '#F1F1EF'],\n  ['Brown', '#F3EEEE'],\n  ['Orange', '#F8ECDF'],\n  ['Yellow', '#FAF3DD'],\n  ['Green', '#EEF3ED'],\n  ['Blue', '#E9F3F7'],\n  ['Purple', '#F6F3F8'],\n  ['Pink', '#F9F2F5'],\n  ['Red', '#FAECEC'],\n];\n\n// const linearGradients = [\n//   ['Default', 'linear-gradient(90deg, #000000 0%, #000000 100%)'],\n//   ['Gray', 'linear-gradient(90deg, #787774 0%, #787774 100%)'],\n//   ['Brown', 'linear-gradient(90deg, #976D57 0%, #976D57 100%)'],\n//   ['Orange', 'linear-gradient(90deg, #CC772F 0%, #CC772F 100%)'],\n//   ['Yellow', 'linear-gradient(90deg, #C29243 0%, #C29243 100%)'],\n//   ['Green', 'linear-gradient(90deg, #548064 0%, #548064 100%)'],\n//   ['Blue', 'linear-gradient(90deg, #477DA5 0%, #477DA5 100%)'],\n//   ['Purple', 'linear-gradient(90deg, #A48BBE 0%, #A48BBE 100%)'],\n//   ['Pink', 'linear-gradient(90deg, #B35588 0%, #B35588 100%)'],\n//   ['Red', 'linear-gradient(90deg, #C4554D 0%, #C4554D 100%)'],\n// ];\n\nconst itemStyles = {\n  border: '1px solid #e3e3e3',\n};\n\ntype Props = {\n  editor: YooEditor;\n  highlightColors: CSSProperties;\n  onClose: () => void;\n  refs: { setFloating: (el: any) => void };\n  floatingStyles: React.CSSProperties;\n};\n\nconst HighlightColor = ({ editor, highlightColors, onClose, refs, floatingStyles }: Props) => {\n  const getItemStyles = (type, color) => {\n    if (highlightColors?.[type] === color) {\n      return {\n        border: '2px solid #3b82f6',\n        backgroundColor: color,\n      };\n    }\n\n    return { backgroundColor: color, ...itemStyles };\n  };\n\n  const updateColor = (type, color) => {\n    const value = editor.formats.highlight.getValue();\n    if (value?.[type] === color) {\n      editor.formats.highlight.update({ ...highlightColors, [type]: undefined });\n      return;\n    }\n\n    editor.formats.highlight.update({ ...highlightColors, [type]: color });\n  };\n\n  return (\n    <FloatingPortal id=\"yoo-highlight-color-portal\" root={document.getElementById('yoopta-editor')}>\n      <div style={floatingStyles} ref={refs.setFloating} onClick={(e: MouseEvent) => e.stopPropagation()}>\n        <div className=\"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-p-[5px] yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border-[1px] yoo-toolbar-border-solid yoo-toolbar-border-[#e5e7eb] yoo-toolbar-shadow-y-[4px]\">\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center yoo-toolbar-justify-between\">\n            <span className=\"yoo-toolbar-text-xs\">Text color</span>\n          </div>\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center\">\n            {colors.map(([label, color]) => (\n              <button\n                key={label}\n                title={label}\n                type=\"button\"\n                className=\"yoo-toolbar-w-[25px] yoo-toolbar-h-[25px] yoo-toolbar-rounded-md yoo-toolbar-mx-[2px] yoo-toolbar-my-[5px] yoo-toolbar-border yoo-toolbar-border-solid-[#e3e3e3]\"\n                style={getItemStyles('color', color)}\n                onClick={() => updateColor('color', color)}\n              />\n            ))}\n          </div>\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center yoo-toolbar-justify-between yoo-toolbar-mt-1\">\n            <span className=\"yoo-toolbar-text-xs\">Background color</span>\n          </div>\n          <div className=\"yoo-toolbar-flex yoo-toolbar-items-center\">\n            {backgroundColors.map(([label, backgroundColor]) => (\n              <button\n                key={label}\n                title={label}\n                type=\"button\"\n                className=\"yoo-toolbar-w-[25px] yoo-toolbar-h-[25px] yoo-toolbar-rounded-md yoo-toolbar-mx-[2px] yoo-toolbar-my-[5px] yoo-toolbar-border yoo-toolbar-border-[#e3e3e3]\"\n                style={getItemStyles('backgroundColor', backgroundColor)}\n                onClick={() => updateColor('backgroundColor', backgroundColor)}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </FloatingPortal>\n  );\n};\n\nexport { HighlightColor };\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","// Should be no imports here!\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: unique symbol = Symbol.for(\"immer-nothing\")\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = Symbol.for(\"immer-draftable\")\n\nexport const DRAFT_STATE: unique symbol = Symbol.for(\"immer-state\")\n","export const errors =\n\tprocess.env.NODE_ENV !== \"production\"\n\t\t? [\n\t\t\t\t// All error codes, starting by 0:\n\t\t\t\tfunction(plugin: string) {\n\t\t\t\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t\t\t\t},\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t\t\t\t},\n\t\t\t\t\"This object has been frozen and should not be mutated\",\n\t\t\t\tfunction(data: any) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\t\t\t\tdata\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t\t\t\t\"Immer forbids circular references\",\n\t\t\t\t\"The first or second argument to `produce` must be a function\",\n\t\t\t\t\"The third argument to `produce` must be a function or undefined\",\n\t\t\t\t\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t\t\t\t\"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'current' expects a draft, got: ${thing}`\n\t\t\t\t},\n\t\t\t\t\"Object.defineProperty() cannot be used on an Immer draft\",\n\t\t\t\t\"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t\t\t\t\"Immer only supports deleting array indices\",\n\t\t\t\t\"Immer only supports setting array indices and the 'length' property\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'original' expects a draft, got: ${thing}`\n\t\t\t\t}\n\t\t\t\t// Note: if more errors are added, the errorOffset in Patches.ts should be increased\n\t\t\t\t// See Patches.ts for additional errors\n\t\t  ]\n\t\t: []\n\nexport function die(error: number, ...args: any[]): never {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tconst e = errors[error]\n\t\tconst msg = typeof e === \"function\" ? e.apply(null, args as any) : e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\tArchType,\n\tdie\n} from \"../internal\"\n\nexport const getPrototypeOf = Object.getPrototypeOf\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor?.[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(15, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/**\n * Each iterates a map, set or array.\n * Or, if any other kind of of object all it's own properties.\n * Regardless whether they are enumerable or symbols\n */\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void\n): void\nexport function each(obj: any, iter: any) {\n\tif (getArchtype(obj) === ArchType.Object) {\n\t\tReflect.ownKeys(obj).forEach(key => {\n\t\t\titer(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): ArchType {\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_\n\t\t: Array.isArray(thing)\n\t\t? ArchType.Array\n\t\t: isMap(thing)\n\t\t? ArchType.Map\n\t\t: isSet(thing)\n\t\t? ArchType.Set\n\t\t: ArchType.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchType.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchType.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchType.Map) thing.set(propOrOldValue, value)\n\telse if (t === ArchType.Set) {\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any, strict: boolean) {\n\tif (isMap(base)) {\n\t\treturn new Map(base)\n\t}\n\tif (isSet(base)) {\n\t\treturn new Set(base)\n\t}\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\n\tif (!strict && isPlainObject(base)) {\n\t\tif (!getPrototypeOf(base)) {\n\t\t\tconst obj = Object.create(null)\n\t\t\treturn Object.assign(obj, base)\n\t\t}\n\t\treturn {...base}\n\t}\n\n\tconst descriptors = Object.getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = Reflect.ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep)\n\t\t// See #590, don't recurse into non-enumerable / Symbol properties when freezing\n\t\t// So use Object.entries (only string-like, enumerables) instead of each()\n\t\tObject.entries(obj).forEach(([key, value]) => freeze(value, true))\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tDrafted,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tArchType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\tbase: any,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(0, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ArchType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ArchType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tArchType,\n\tgetPlugin\n} from \"../internal\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (state.type_ === ArchType.Object || state.type_ === ArchType.Array)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tArchType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE].base_,\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(value, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path)\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result = state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// To preserve insertion order in all cases we then clear the set\n\t\t// And we let finalizeProperty know it needs to re-add non-draft children back to the target\n\t\tlet resultEach = result\n\t\tlet isSet = false\n\t\tif (state.type_ === ArchType.Set) {\n\t\t\tresultEach = new Set(result)\n\t\t\tresult.clear()\n\t\t\tisSet = true\n\t\t}\n\t\teach(resultEach, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path, isSet)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath,\n\ttargetIsSet?: boolean\n) {\n\tif (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n\t\tdie(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ArchType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t} else if (targetIsSet) {\n\t\ttargetObject.add(childValue)\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// Immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\t// Per #590, we never freeze symbolic properties. Just to make sure don't accidentally interfere\n\t\t// with other frameworks.\n\t\tif (\n\t\t\t(!parentState || !parentState.scope_.parent_) &&\n\t\t\ttypeof prop !== \"symbol\" &&\n\t\t\tObject.prototype.propertyIsEnumerable.call(targetObject, prop)\n\t\t)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\t// we never freeze for a non-root scope; as it would prevent pruning for drafts inside wrapping objects\n\tif (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tgetPrototypeOf,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tArchType,\n\tImmerScope\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ArchType.Object\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ArchType.Array\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ArchType.Array : (ArchType.Object as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(value, state))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\t(state.copy_![prop] === value &&\n\t\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t\t(value !== undefined || prop in state.copy_)) ||\n\t\t\t// special case: NaN\n\t\t\t(Number.isNaN(value) && Number.isNaN(state.copy_![prop]))\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\tif (state.copy_) {\n\t\t\tdelete state.copy_[prop]\n\t\t}\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ArchType.Array || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop as any)))\n\t\tdie(13)\n\t// @ts-ignore\n\treturn arrayTraps.set!.call(this, state, prop, undefined)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (\n\t\tprocess.env.NODE_ENV !== \"production\" &&\n\t\tprop !== \"length\" &&\n\t\tisNaN(parseInt(prop as any))\n\t)\n\t\tdie(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {\n\tbase_: any\n\tcopy_: any\n\tscope_: ImmerScope\n}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(\n\t\t\tstate.base_,\n\t\t\tstate.scope_.immer_.useStrictShallowCopy_\n\t\t)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tautoFreeze_: boolean = true\n\tuseStrictShallowCopy_: boolean = false\n\n\tconstructor(config?: {autoFreeze?: boolean; useStrictShallowCopy?: boolean}) {\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t\tif (typeof config?.useStrictShallowCopy === \"boolean\")\n\t\t\tthis.setUseStrictShallowCopy(config!.useStrictShallowCopy)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === undefined) result = base\n\t\t\tif (result === NOTHING) result = undefined\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\tif (patchListener) {\n\t\t\t\tconst p: Patch[] = []\n\t\t\t\tconst ip: Patch[] = []\n\t\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip)\n\t\t\t\tpatchListener(p, ip)\n\t\t\t}\n\t\t\treturn result\n\t\t} else die(1, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (base: any, recipe?: any): any => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => base(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst result = this.produce(base, recipe, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [result, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (!state || !state.isManual_) die(9)\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to enable strict shallow copy.\n\t *\n\t * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n\t */\n\tsetUseStrictShallowCopy(value: boolean) {\n\t\tthis.useStrictShallowCopy_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: createProxyProxy(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tisFrozen\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(10, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value) || isFrozen(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tif (state) {\n\t\tif (!state.modified_) return state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_)\n\t} else {\n\t\tcopy = shallowCopy(value, true)\n\t}\n\t// recurse\n\teach(copy, (key, childValue) => {\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\tif (state) {\n\t\tstate.finalized_ = false\n\t}\n\treturn copy\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze,\n\tObjectish\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to enable strict shallow copy.\n *\n * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n */\nexport const setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\n","import {\n  InsertNodeOperation,\n  MergeNodeOperation,\n  MoveNodeOperation,\n  Operation,\n  RemoveNodeOperation,\n  SplitNodeOperation,\n} from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Path` arrays are a list of indexes that describe a node's exact position in\n * a Slate node tree. Although they are usually relative to the root `Editor`\n * object, they can be relative to any `Node` object.\n */\n\nexport type Path = number[]\n\nexport interface PathAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface PathLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface PathTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PathInterface {\n  /**\n   * Get a list of ancestor paths for a given path.\n   *\n   * The paths are sorted from shallowest to deepest ancestor. However, if the\n   * `reverse: true` option is passed, they are reversed.\n   */\n  ancestors: (path: Path, options?: PathAncestorsOptions) => Path[]\n\n  /**\n   * Get the common ancestor path of two paths.\n   */\n  common: (path: Path, another: Path) => Path\n\n  /**\n   * Compare a path to another, returning an integer indicating whether the path\n   * was before, at, or after the other.\n   *\n   * Note: Two paths of unequal length can still receive a `0` result if one is\n   * directly above or below the other. If you want exact matching, use\n   * [[Path.equals]] instead.\n   */\n  compare: (path: Path, another: Path) => -1 | 0 | 1\n\n  /**\n   * Check if a path ends after one of the indexes in another.\n   */\n  endsAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends at one of the indexes in another.\n   */\n  endsAt: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends before one of the indexes in another.\n   */\n  endsBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is exactly equal to another.\n   */\n  equals: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if the path of previous sibling node exists\n   */\n  hasPrevious: (path: Path) => boolean\n\n  /**\n   * Check if a path is after another.\n   */\n  isAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is an ancestor of another.\n   */\n  isAncestor: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is before another.\n   */\n  isBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a child of another.\n   */\n  isChild: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is equal to or an ancestor of another.\n   */\n  isCommon: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a descendant of another.\n   */\n  isDescendant: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is the parent of another.\n   */\n  isParent: (path: Path, another: Path) => boolean\n\n  /**\n   * Check is a value implements the `Path` interface.\n   */\n  isPath: (value: any) => value is Path\n\n  /**\n   * Check if a path is a sibling of another.\n   */\n  isSibling: (path: Path, another: Path) => boolean\n\n  /**\n   * Get a list of paths at every level down to a path. Note: this is the same\n   * as `Path.ancestors`, but including the path itself.\n   *\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\n   * true` option is passed, they are reversed.\n   */\n  levels: (path: Path, options?: PathLevelsOptions) => Path[]\n\n  /**\n   * Given a path, get the path to the next sibling node.\n   */\n  next: (path: Path) => Path\n\n  /**\n   * Returns whether this operation can affect paths or not. Used as an\n   * optimization when updating dirty paths during normalization\n   *\n   * NOTE: This *must* be kept in sync with the implementation of 'transform'\n   * below\n   */\n  operationCanTransformPath: (\n    operation: Operation\n  ) => operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation\n\n  /**\n   * Given a path, return a new path referring to the parent node above it.\n   */\n  parent: (path: Path) => Path\n\n  /**\n   * Given a path, get the path to the previous sibling node.\n   */\n  previous: (path: Path) => Path\n\n  /**\n   * Get a path relative to an ancestor.\n   */\n  relative: (path: Path, ancestor: Path) => Path\n\n  /**\n   * Transform a path by an operation.\n   */\n  transform: (\n    path: Path,\n    operation: Operation,\n    options?: PathTransformOptions\n  ) => Path | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Path: PathInterface = {\n  ancestors(path: Path, options: PathAncestorsOptions = {}): Path[] {\n    const { reverse = false } = options\n    let paths = Path.levels(path, options)\n\n    if (reverse) {\n      paths = paths.slice(1)\n    } else {\n      paths = paths.slice(0, -1)\n    }\n\n    return paths\n  },\n\n  common(path: Path, another: Path): Path {\n    const common: Path = []\n\n    for (let i = 0; i < path.length && i < another.length; i++) {\n      const av = path[i]\n      const bv = another[i]\n\n      if (av !== bv) {\n        break\n      }\n\n      common.push(av)\n    }\n\n    return common\n  },\n\n  compare(path: Path, another: Path): -1 | 0 | 1 {\n    const min = Math.min(path.length, another.length)\n\n    for (let i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1\n      if (path[i] > another[i]) return 1\n    }\n\n    return 0\n  },\n\n  endsAfter(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av > bv\n  },\n\n  endsAt(path: Path, another: Path): boolean {\n    const i = path.length\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    return Path.equals(as, bs)\n  },\n\n  endsBefore(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av < bv\n  },\n\n  equals(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length && path.every((n, i) => n === another[i])\n    )\n  },\n\n  hasPrevious(path: Path): boolean {\n    return path[path.length - 1] > 0\n  },\n\n  isAfter(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === 1\n  },\n\n  isAncestor(path: Path, another: Path): boolean {\n    return path.length < another.length && Path.compare(path, another) === 0\n  },\n\n  isBefore(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === -1\n  },\n\n  isChild(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length + 1 && Path.compare(path, another) === 0\n    )\n  },\n\n  isCommon(path: Path, another: Path): boolean {\n    return path.length <= another.length && Path.compare(path, another) === 0\n  },\n\n  isDescendant(path: Path, another: Path): boolean {\n    return path.length > another.length && Path.compare(path, another) === 0\n  },\n\n  isParent(path: Path, another: Path): boolean {\n    return (\n      path.length + 1 === another.length && Path.compare(path, another) === 0\n    )\n  },\n\n  isPath(value: any): value is Path {\n    return (\n      Array.isArray(value) &&\n      (value.length === 0 || typeof value[0] === 'number')\n    )\n  },\n\n  isSibling(path: Path, another: Path): boolean {\n    if (path.length !== another.length) {\n      return false\n    }\n\n    const as = path.slice(0, -1)\n    const bs = another.slice(0, -1)\n    const al = path[path.length - 1]\n    const bl = another[another.length - 1]\n    return al !== bl && Path.equals(as, bs)\n  },\n\n  levels(path: Path, options: PathLevelsOptions = {}): Path[] {\n    const { reverse = false } = options\n    const list: Path[] = []\n\n    for (let i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i))\n    }\n\n    if (reverse) {\n      list.reverse()\n    }\n\n    return list\n  },\n\n  next(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the next path of a root path [${path}], because it has no next index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n    return path.slice(0, -1).concat(last + 1)\n  },\n\n  operationCanTransformPath(\n    operation: Operation\n  ): operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true\n      default:\n        return false\n    }\n  },\n\n  parent(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(`Cannot get the parent path of the root path [${path}].`)\n    }\n\n    return path.slice(0, -1)\n  },\n\n  previous(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the previous path of a root path [${path}], because it has no previous index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n\n    if (last <= 0) {\n      throw new Error(\n        `Cannot get the previous path of a first child path [${path}] because it would result in a negative index.`\n      )\n    }\n\n    return path.slice(0, -1).concat(last - 1)\n  },\n\n  relative(path: Path, ancestor: Path): Path {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\n        `Cannot get the relative path of [${path}] inside ancestor [${ancestor}], because it is not above or equal to the path.`\n      )\n    }\n\n    return path.slice(ancestor.length)\n  },\n\n  transform(\n    path: Path | null,\n    operation: Operation,\n    options: PathTransformOptions = {}\n  ): Path | null {\n    if (!path) return null\n\n    // PERF: use destructing instead of immer\n    const p = [...path]\n    const { affinity = 'forward' } = options\n\n    // PERF: Exit early if the operation is guaranteed not to have an effect.\n    if (path.length === 0) {\n      return p\n    }\n\n    switch (operation.type) {\n      case 'insert_node': {\n        const { path: op } = operation\n\n        if (\n          Path.equals(op, p) ||\n          Path.endsBefore(op, p) ||\n          Path.isAncestor(op, p)\n        ) {\n          p[op.length - 1] += 1\n        }\n\n        break\n      }\n\n      case 'remove_node': {\n        const { path: op } = operation\n\n        if (Path.equals(op, p) || Path.isAncestor(op, p)) {\n          return null\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n\n      case 'merge_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p) || Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        } else if (Path.isAncestor(op, p)) {\n          p[op.length - 1] -= 1\n          p[op.length] += position\n        }\n\n        break\n      }\n\n      case 'split_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p)) {\n          if (affinity === 'forward') {\n            p[p.length - 1] += 1\n          } else if (affinity === 'backward') {\n            // Nothing, because it still refers to the right path.\n          } else {\n            return null\n          }\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] += 1\n        } else if (Path.isAncestor(op, p) && path[op.length] >= position) {\n          p[op.length - 1] += 1\n          p[op.length] -= position\n        }\n\n        break\n      }\n\n      case 'move_node': {\n        const { path: op, newPath: onp } = operation\n\n        // If the old and new path are the same, it's a no-op.\n        if (Path.equals(op, onp)) {\n          return p\n        }\n\n        if (Path.isAncestor(op, p) || Path.equals(op, p)) {\n          const copy = onp.slice()\n\n          if (Path.endsBefore(op, onp) && op.length < onp.length) {\n            copy[op.length - 1] -= 1\n          }\n\n          return copy.concat(p.slice(op.length))\n        } else if (\n          Path.isSibling(op, onp) &&\n          (Path.isAncestor(onp, p) || Path.equals(onp, p))\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          } else {\n            p[op.length - 1] += 1\n          }\n        } else if (\n          Path.endsBefore(onp, p) ||\n          Path.equals(onp, p) ||\n          Path.isAncestor(onp, p)\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          }\n\n          p[onp.length - 1] += 1\n        } else if (Path.endsBefore(op, p)) {\n          if (Path.equals(onp, p)) {\n            p[onp.length - 1] += 1\n          }\n\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n    }\n\n    return p\n  },\n}\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import { createDraft, finishDraft, isDraft } from 'immer'\nimport {\n  Ancestor,\n  Descendant,\n  Editor,\n  Element,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  Point,\n  Range,\n  Scrubber,\n  Selection,\n  Text,\n} from '../../index'\n\nexport interface GeneralTransforms {\n  /**\n   * Transform the editor by an operation.\n   */\n  transform: (editor: Editor, op: Operation) => void\n}\n\nconst applyToDraft = (editor: Editor, selection: Selection, op: Operation) => {\n  switch (op.type) {\n    case 'insert_node': {\n      const { path, node } = op\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      if (index > parent.children.length) {\n        throw new Error(\n          `Cannot apply an \"insert_node\" operation at path [${path}] because the destination is past the end of the node.`\n        )\n      }\n\n      parent.children.splice(index, 0, node)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'insert_text': {\n      const { path, offset, text } = op\n      if (text.length === 0) break\n      const node = Node.leaf(editor, path)\n      const before = node.text.slice(0, offset)\n      const after = node.text.slice(offset)\n      node.text = before + text + after\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'merge_node': {\n      const { path } = op\n      const node = Node.get(editor, path)\n      const prevPath = Path.previous(path)\n      const prev = Node.get(editor, prevPath)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      if (Text.isText(node) && Text.isText(prev)) {\n        prev.text += node.text\n      } else if (!Text.isText(node) && !Text.isText(prev)) {\n        prev.children.push(...node.children)\n      } else {\n        throw new Error(\n          `Cannot apply a \"merge_node\" operation at path [${path}] to nodes of different interfaces: ${Scrubber.stringify(\n            node\n          )} ${Scrubber.stringify(prev)}`\n        )\n      }\n\n      parent.children.splice(index, 1)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'move_node': {\n      const { path, newPath } = op\n\n      if (Path.isAncestor(path, newPath)) {\n        throw new Error(\n          `Cannot move a path [${path}] to new path [${newPath}] because the destination is inside itself.`\n        )\n      }\n\n      const node = Node.get(editor, path)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      // This is tricky, but since the `path` and `newPath` both refer to\n      // the same snapshot in time, there's a mismatch. After either\n      // removing the original position, the second step's path can be out\n      // of date. So instead of using the `op.newPath` directly, we\n      // transform `op.path` to ascertain what the `newPath` would be after\n      // the operation was applied.\n      parent.children.splice(index, 1)\n      const truePath = Path.transform(path, op)!\n      const newParent = Node.get(editor, Path.parent(truePath)) as Ancestor\n      const newIndex = truePath[truePath.length - 1]\n\n      newParent.children.splice(newIndex, 0, node)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'remove_node': {\n      const { path } = op\n      const index = path[path.length - 1]\n      const parent = Node.parent(editor, path)\n      parent.children.splice(index, 1)\n\n      // Transform all the points in the value, but if the point was in the\n      // node that was removed we need to update the range or remove it.\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          const result = Point.transform(point, op)\n\n          if (selection != null && result != null) {\n            selection[key] = result\n          } else {\n            let prev: NodeEntry<Text> | undefined\n            let next: NodeEntry<Text> | undefined\n\n            for (const [n, p] of Node.texts(editor)) {\n              if (Path.compare(p, path) === -1) {\n                prev = [n, p]\n              } else {\n                next = [n, p]\n                break\n              }\n            }\n\n            let preferNext = false\n            if (prev && next) {\n              if (Path.equals(next[1], path)) {\n                preferNext = !Path.hasPrevious(next[1])\n              } else {\n                preferNext =\n                  Path.common(prev[1], path).length <\n                  Path.common(next[1], path).length\n              }\n            }\n\n            if (prev && !preferNext) {\n              point.path = prev[1]\n              point.offset = prev[0].text.length\n            } else if (next) {\n              point.path = next[1]\n              point.offset = 0\n            } else {\n              selection = null\n            }\n          }\n        }\n      }\n\n      break\n    }\n\n    case 'remove_text': {\n      const { path, offset, text } = op\n      if (text.length === 0) break\n      const node = Node.leaf(editor, path)\n      const before = node.text.slice(0, offset)\n      const after = node.text.slice(offset + text.length)\n      node.text = before + after\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'set_node': {\n      const { path, properties, newProperties } = op\n\n      if (path.length === 0) {\n        throw new Error(`Cannot set properties on the root node!`)\n      }\n\n      const node = Node.get(editor, path)\n\n      for (const key in newProperties) {\n        if (key === 'children' || key === 'text') {\n          throw new Error(`Cannot set the \"${key}\" property of nodes!`)\n        }\n\n        const value = newProperties[<keyof Node>key]\n\n        if (value == null) {\n          delete node[<keyof Node>key]\n        } else {\n          node[<keyof Node>key] = value\n        }\n      }\n\n      // properties that were previously defined, but are now missing, must be deleted\n      for (const key in properties) {\n        if (!newProperties.hasOwnProperty(key)) {\n          delete node[<keyof Node>key]\n        }\n      }\n\n      break\n    }\n\n    case 'set_selection': {\n      const { newProperties } = op\n\n      if (newProperties == null) {\n        selection = newProperties\n      } else {\n        if (selection == null) {\n          if (!Range.isRange(newProperties)) {\n            throw new Error(\n              `Cannot apply an incomplete \"set_selection\" operation properties ${Scrubber.stringify(\n                newProperties\n              )} when there is no current selection.`\n            )\n          }\n\n          selection = { ...newProperties }\n        }\n\n        for (const key in newProperties) {\n          const value = newProperties[<keyof Range>key]\n\n          if (value == null) {\n            if (key === 'anchor' || key === 'focus') {\n              throw new Error(`Cannot remove the \"${key}\" selection property`)\n            }\n\n            delete selection[<keyof Range>key]\n          } else {\n            selection[<keyof Range>key] = value\n          }\n        }\n      }\n\n      break\n    }\n\n    case 'split_node': {\n      const { path, position, properties } = op\n\n      if (path.length === 0) {\n        throw new Error(\n          `Cannot apply a \"split_node\" operation at path [${path}] because the root node cannot be split.`\n        )\n      }\n\n      const node = Node.get(editor, path)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n      let newNode: Descendant\n\n      if (Text.isText(node)) {\n        const before = node.text.slice(0, position)\n        const after = node.text.slice(position)\n        node.text = before\n        newNode = {\n          ...(properties as Partial<Text>),\n          text: after,\n        }\n      } else {\n        const before = node.children.slice(0, position)\n        const after = node.children.slice(position)\n        node.children = before\n\n        newNode = {\n          ...(properties as Partial<Element>),\n          children: after,\n        }\n      }\n\n      parent.children.splice(index + 1, 0, newNode)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n  }\n  return selection\n}\n\n// eslint-disable-next-line no-redeclare\nexport const GeneralTransforms: GeneralTransforms = {\n  transform(editor: Editor, op: Operation): void {\n    editor.children = createDraft(editor.children)\n    let selection = editor.selection && createDraft(editor.selection)\n\n    try {\n      selection = applyToDraft(editor, selection, op)\n    } finally {\n      editor.children = finishDraft(editor.children)\n\n      if (selection) {\n        editor.selection = isDraft(selection)\n          ? (finishDraft(selection) as Range)\n          : selection\n      } else {\n        editor.selection = null\n      }\n    }\n  },\n}\n","import { Editor, Element, Location, Node, Path } from '../../index'\nimport { NodeMatch, PropsCompare, PropsMerge } from '../editor'\nimport { MaximizeMode, RangeMode } from '../../types/types'\n\nexport interface NodeInsertNodesOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: RangeMode\n  hanging?: boolean\n  select?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface NodeTransforms {\n  /**\n   * Insert nodes in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNodes: <T extends Node>(\n    editor: Editor,\n    nodes: Node | Node[],\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Lift nodes at a specific location upwards in the document tree, splitting\n   * their parent in two if necessary.\n   */\n  liftNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Merge a node at a location with the previous node of the same depth,\n   * removing any empty containing nodes after the merge if necessary.\n   */\n  mergeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Move the nodes at a location to a new location.\n   */\n  moveNodes: <T extends Node>(\n    editor: Editor,\n    options: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      to: Path\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Remove the nodes at a specific location in the document.\n   */\n  removeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Set new properties on the nodes at a location.\n   */\n  setNodes: <T extends Node>(\n    editor: Editor,\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n\n  /**\n   * Split the nodes at a specific location.\n   */\n  splitNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      always?: boolean\n      height?: number\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unset properties on the nodes at a location.\n   */\n  unsetNodes: <T extends Node>(\n    editor: Editor,\n    props: string | string[],\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unwrap the nodes at a location from a parent node, splitting the parent if\n   * necessary to ensure that only the content in the range is unwrapped.\n   */\n  unwrapNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Wrap the nodes at a location in a new container node, splitting the edges\n   * of the range first to ensure that only the content in the range is wrapped.\n   */\n  wrapNodes: <T extends Node>(\n    editor: Editor,\n    element: Element,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const NodeTransforms: NodeTransforms = {\n  insertNodes(editor, nodes, options) {\n    editor.insertNodes(nodes, options)\n  },\n  liftNodes(editor, options) {\n    editor.liftNodes(options)\n  },\n  mergeNodes(editor, options) {\n    editor.mergeNodes(options)\n  },\n  moveNodes(editor, options) {\n    editor.moveNodes(options)\n  },\n  removeNodes(editor, options) {\n    editor.removeNodes(options)\n  },\n  setNodes(editor, props, options) {\n    editor.setNodes(props, options)\n  },\n  splitNodes(editor, options) {\n    editor.splitNodes(options)\n  },\n  unsetNodes(editor, props, options) {\n    editor.unsetNodes(props, options)\n  },\n  unwrapNodes(editor, options) {\n    editor.unwrapNodes(options)\n  },\n  wrapNodes(editor, element, options) {\n    editor.wrapNodes(element, options)\n  },\n}\n","import { Editor, Location, Point, Range } from '../../index'\nimport { MoveUnit, SelectionEdge } from '../../types/types'\n\nexport interface SelectionCollapseOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionMoveOptions {\n  distance?: number\n  unit?: MoveUnit\n  reverse?: boolean\n  edge?: SelectionEdge\n}\n\nexport interface SelectionSetPointOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionTransforms {\n  /**\n   * Collapse the selection.\n   */\n  collapse: (editor: Editor, options?: SelectionCollapseOptions) => void\n\n  /**\n   * Unset the selection.\n   */\n  deselect: (editor: Editor) => void\n\n  /**\n   * Move the selection's point forward or backward.\n   */\n  move: (editor: Editor, options?: SelectionMoveOptions) => void\n\n  /**\n   * Set the selection to a new value.\n   */\n  select: (editor: Editor, target: Location) => void\n\n  /**\n   * Set new properties on one of the selection's points.\n   */\n  setPoint: (\n    editor: Editor,\n    props: Partial<Point>,\n    options?: SelectionSetPointOptions\n  ) => void\n\n  /**\n   * Set new properties on the selection.\n   */\n  setSelection: (editor: Editor, props: Partial<Range>) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const SelectionTransforms: SelectionTransforms = {\n  collapse(editor, options) {\n    editor.collapse(options)\n  },\n  deselect(editor) {\n    editor.deselect()\n  },\n  move(editor, options) {\n    editor.move(options)\n  },\n  select(editor, target) {\n    editor.select(target)\n  },\n  setPoint(editor, props, options) {\n    editor.setPoint(props, options)\n  },\n  setSelection(editor, props) {\n    editor.setSelection(props)\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\n\n/*\n  Custom deep equal comparison for Slate nodes.\n\n  We don't need general purpose deep equality;\n  Slate only supports plain values, Arrays, and nested objects.\n  Complex values nested inside Arrays are not supported.\n\n  Slate objects are designed to be serialised, so\n  missing keys are deliberately normalised to undefined.\n */\nexport const isDeepEqual = (\n  node: Record<string, any>,\n  another: Record<string, any>\n): boolean => {\n  for (const key in node) {\n    const a = node[key]\n    const b = another[key]\n    if (isPlainObject(a) && isPlainObject(b)) {\n      if (!isDeepEqual(a, b)) return false\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false\n      }\n    } else if (a !== b) {\n      return false\n    }\n  }\n\n  /*\n    Deep object equality is only necessary in one direction; in the reverse direction\n    we are only looking for keys that are missing.\n    As above, undefined keys are normalised to missing.\n  */\n\n  for (const key in another) {\n    if (node[key] === undefined && another[key] !== undefined) {\n      return false\n    }\n  }\n\n  return true\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","import { produce } from 'immer'\nimport { isPlainObject } from 'is-plain-object'\nimport { ExtendedType, Operation, Path, Point, PointEntry } from '..'\nimport { RangeDirection } from '../types/types'\n\n/**\n * `Range` objects are a set of points that refer to a specific span of a Slate\n * document. They can define a span inside a single node or a can span across\n * multiple nodes.\n */\n\nexport interface BaseRange {\n  anchor: Point\n  focus: Point\n}\n\nexport type Range = ExtendedType<'Range', BaseRange>\n\nexport interface RangeEdgesOptions {\n  reverse?: boolean\n}\n\nexport interface RangeTransformOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface RangeInterface {\n  /**\n   * Get the start and end points of a range, in the order in which they appear\n   * in the document.\n   */\n  edges: (range: Range, options?: RangeEdgesOptions) => [Point, Point]\n\n  /**\n   * Get the end point of a range.\n   */\n  end: (range: Range) => Point\n\n  /**\n   * Check if a range is exactly equal to another.\n   */\n  equals: (range: Range, another: Range) => boolean\n\n  /**\n   * Check if a range includes a path, a point or part of another range.\n   */\n  includes: (range: Range, target: Path | Point | Range) => boolean\n\n  /**\n   * Get the intersection of a range with another.\n   */\n  intersection: (range: Range, another: Range) => Range | null\n\n  /**\n   * Check if a range is backward, meaning that its anchor point appears in the\n   * document _after_ its focus point.\n   */\n  isBackward: (range: Range) => boolean\n\n  /**\n   * Check if a range is collapsed, meaning that both its anchor and focus\n   * points refer to the exact same position in the document.\n   */\n  isCollapsed: (range: Range) => boolean\n\n  /**\n   * Check if a range is expanded.\n   *\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\n   */\n  isExpanded: (range: Range) => boolean\n\n  /**\n   * Check if a range is forward.\n   *\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\n   */\n  isForward: (range: Range) => boolean\n\n  /**\n   * Check if a value implements the [[Range]] interface.\n   */\n  isRange: (value: any) => value is Range\n\n  /**\n   * Iterate through all of the point entries in a range.\n   */\n  points: (range: Range) => Generator<PointEntry, void, undefined>\n\n  /**\n   * Get the start point of a range.\n   */\n  start: (range: Range) => Point\n\n  /**\n   * Transform a range by an operation.\n   */\n  transform: (\n    range: Range,\n    op: Operation,\n    options?: RangeTransformOptions\n  ) => Range | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Range: RangeInterface = {\n  edges(range: Range, options: RangeEdgesOptions = {}): [Point, Point] {\n    const { reverse = false } = options\n    const { anchor, focus } = range\n    return Range.isBackward(range) === reverse\n      ? [anchor, focus]\n      : [focus, anchor]\n  },\n\n  end(range: Range): Point {\n    const [, end] = Range.edges(range)\n    return end\n  },\n\n  equals(range: Range, another: Range): boolean {\n    return (\n      Point.equals(range.anchor, another.anchor) &&\n      Point.equals(range.focus, another.focus)\n    )\n  },\n\n  includes(range: Range, target: Path | Point | Range): boolean {\n    if (Range.isRange(target)) {\n      if (\n        Range.includes(range, target.anchor) ||\n        Range.includes(range, target.focus)\n      ) {\n        return true\n      }\n\n      const [rs, re] = Range.edges(range)\n      const [ts, te] = Range.edges(target)\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te)\n    }\n\n    const [start, end] = Range.edges(range)\n    let isAfterStart = false\n    let isBeforeEnd = false\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0\n      isBeforeEnd = Point.compare(target, end) <= 0\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0\n      isBeforeEnd = Path.compare(target, end.path) <= 0\n    }\n\n    return isAfterStart && isBeforeEnd\n  },\n\n  intersection(range: Range, another: Range): Range | null {\n    const { anchor, focus, ...rest } = range\n    const [s1, e1] = Range.edges(range)\n    const [s2, e2] = Range.edges(another)\n    const start = Point.isBefore(s1, s2) ? s2 : s1\n    const end = Point.isBefore(e1, e2) ? e1 : e2\n\n    if (Point.isBefore(end, start)) {\n      return null\n    } else {\n      return { anchor: start, focus: end, ...rest }\n    }\n  },\n\n  isBackward(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.isAfter(anchor, focus)\n  },\n\n  isCollapsed(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.equals(anchor, focus)\n  },\n\n  isExpanded(range: Range): boolean {\n    return !Range.isCollapsed(range)\n  },\n\n  isForward(range: Range): boolean {\n    return !Range.isBackward(range)\n  },\n\n  isRange(value: any): value is Range {\n    return (\n      isPlainObject(value) &&\n      Point.isPoint(value.anchor) &&\n      Point.isPoint(value.focus)\n    )\n  },\n\n  *points(range: Range): Generator<PointEntry, void, undefined> {\n    yield [range.anchor, 'anchor']\n    yield [range.focus, 'focus']\n  },\n\n  start(range: Range): Point {\n    const [start] = Range.edges(range)\n    return start\n  },\n\n  transform(\n    range: Range | null,\n    op: Operation,\n    options: RangeTransformOptions = {}\n  ): Range | null {\n    return produce(range, r => {\n      if (r === null) {\n        return null\n      }\n      const { affinity = 'inward' } = options\n      let affinityAnchor: 'forward' | 'backward' | null\n      let affinityFocus: 'forward' | 'backward' | null\n\n      if (affinity === 'inward') {\n        // If the range is collapsed, make sure to use the same affinity to\n        // avoid the two points passing each other and expanding in the opposite\n        // direction\n        const isCollapsed = Range.isCollapsed(r)\n        if (Range.isForward(r)) {\n          affinityAnchor = 'forward'\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward'\n        } else {\n          affinityAnchor = 'backward'\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward'\n        }\n      } else if (affinity === 'outward') {\n        if (Range.isForward(r)) {\n          affinityAnchor = 'backward'\n          affinityFocus = 'forward'\n        } else {\n          affinityAnchor = 'forward'\n          affinityFocus = 'backward'\n        }\n      } else {\n        affinityAnchor = affinity\n        affinityFocus = affinity\n      }\n      const anchor = Point.transform(r.anchor, op, { affinity: affinityAnchor })\n      const focus = Point.transform(r.focus, op, { affinity: affinityFocus })\n\n      if (!anchor || !focus) {\n        return null\n      }\n\n      r.anchor = anchor\n      r.focus = focus\n    })\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Ancestor, Descendant, Editor, ExtendedType, Node, Path } from '..'\n\n/**\n * `Element` objects are a type of node in a Slate document that contain other\n * element nodes or text nodes. They can be either \"blocks\" or \"inlines\"\n * depending on the Slate editor's configuration.\n */\n\nexport interface BaseElement {\n  children: Descendant[]\n}\n\nexport type Element = ExtendedType<'Element', BaseElement>\n\nexport interface ElementInterface {\n  /**\n   * Check if a value implements the 'Ancestor' interface.\n   */\n  isAncestor: (value: any) => value is Ancestor\n\n  /**\n   * Check if a value implements the `Element` interface.\n   */\n  isElement: (value: any) => value is Element\n\n  /**\n   * Check if a value is an array of `Element` objects.\n   */\n  isElementList: (value: any) => value is Element[]\n\n  /**\n   * Check if a set of props is a partial of Element.\n   */\n  isElementProps: (props: any) => props is Partial<Element>\n\n  /**\n   * Check if a value implements the `Element` interface and has elementKey with selected value.\n   * Default it check to `type` key value\n   */\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey?: string\n  ) => value is T\n\n  /**\n   * Check if an element matches set of properties.\n   *\n   * Note: this checks custom properties, and it does not ensure that any\n   * children are equivalent.\n   */\n  matches: (element: Element, props: Partial<Element>) => boolean\n}\n\n/**\n * Shared the function with isElementType utility\n */\nconst isElement = (value: any): value is Element => {\n  return (\n    isPlainObject(value) &&\n    Node.isNodeList(value.children) &&\n    !Editor.isEditor(value)\n  )\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Element: ElementInterface = {\n  isAncestor(value: any): value is Ancestor {\n    return isPlainObject(value) && Node.isNodeList(value.children)\n  },\n\n  isElement,\n\n  isElementList(value: any): value is Element[] {\n    return Array.isArray(value) && value.every(val => Element.isElement(val))\n  },\n\n  isElementProps(props: any): props is Partial<Element> {\n    return (props as Partial<Element>).children !== undefined\n  },\n\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey: string = 'type'\n  ): value is T => {\n    return (\n      isElement(value) && value[<keyof Descendant>elementKey] === elementVal\n    )\n  },\n\n  matches(element: Element, props: Partial<Element>): boolean {\n    for (const key in props) {\n      if (key === 'children') {\n        continue\n      }\n\n      if (element[<keyof Descendant>key] !== props[<keyof Descendant>key]) {\n        return false\n      }\n    }\n\n    return true\n  },\n}\n\n/**\n * `ElementEntry` objects refer to an `Element` and the `Path` where it can be\n * found inside a root node.\n */\nexport type ElementEntry = [Element, Path]\n","import { produce } from 'immer'\nimport { Editor, Path, Range, Scrubber, Text } from '..'\nimport { Element, ElementEntry } from './element'\n\n/**\n * The `Node` union type represents all of the different types of nodes that\n * occur in a Slate document tree.\n */\n\nexport type BaseNode = Editor | Element | Text\nexport type Node = Editor | Element | Text\n\nexport interface NodeAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeChildrenOptions {\n  reverse?: boolean\n}\n\nexport interface NodeDescendantsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeElementsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeNodesOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (entry: NodeEntry) => boolean\n}\n\nexport interface NodeTextsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeInterface {\n  /**\n   * Get the node at a specific path, asserting that it's an ancestor node.\n   */\n  ancestor: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Return a generator of all the ancestor nodes above a specific path.\n   *\n   * By default the order is top-down, from highest to lowest ancestor in\n   * the tree, but you can pass the `reverse: true` option to go bottom-up.\n   */\n  ancestors: (\n    root: Node,\n    path: Path,\n    options?: NodeAncestorsOptions\n  ) => Generator<NodeEntry<Ancestor>, void, undefined>\n\n  /**\n   * Get the child of a node at a specific index.\n   */\n  child: (root: Node, index: number) => Descendant\n\n  /**\n   * Iterate over the children of a node at a specific path.\n   */\n  children: (\n    root: Node,\n    path: Path,\n    options?: NodeChildrenOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Get an entry for the common ancesetor node of two paths.\n   */\n  common: (root: Node, path: Path, another: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, asserting that it's a descendant node.\n   */\n  descendant: (root: Node, path: Path) => Descendant\n\n  /**\n   * Return a generator of all the descendant node entries inside a root node.\n   */\n  descendants: (\n    root: Node,\n    options?: NodeDescendantsOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Return a generator of all the element nodes inside a root node. Each iteration\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\n   * root node is an element it will be included in the iteration as well.\n   */\n  elements: (\n    root: Node,\n    options?: NodeElementsOptions\n  ) => Generator<ElementEntry, void, undefined>\n\n  /**\n   * Extract props from a Node.\n   */\n  extractProps: (node: Node) => NodeProps\n\n  /**\n   * Get the first node entry in a root node from a path.\n   */\n  first: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the sliced fragment represented by a range inside a root node.\n   */\n  fragment: (root: Node, range: Range) => Descendant[]\n\n  /**\n   * Get the descendant node referred to by a specific path. If the path is an\n   * empty array, it refers to the root node itself.\n   */\n  get: (root: Node, path: Path) => Node\n\n  /**\n   * Check if a descendant node exists at a specific path.\n   */\n  has: (root: Node, path: Path) => boolean\n\n  /**\n   * Check if a value implements the `Node` interface.\n   */\n  isNode: (value: any) => value is Node\n\n  /**\n   * Check if a value is a list of `Node` objects.\n   */\n  isNodeList: (value: any) => value is Node[]\n\n  /**\n   * Get the last node entry in a root node from a path.\n   */\n  last: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, ensuring it's a leaf text node.\n   */\n  leaf: (root: Node, path: Path) => Text\n\n  /**\n   * Return a generator of the in a branch of the tree, from a specific path.\n   *\n   * By default the order is top-down, from highest to lowest node in the tree,\n   * but you can pass the `reverse: true` option to go bottom-up.\n   */\n  levels: (\n    root: Node,\n    path: Path,\n    options?: NodeLevelsOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Check if a node matches a set of props.\n   */\n  matches: (node: Node, props: Partial<Node>) => boolean\n\n  /**\n   * Return a generator of all the node entries of a root node. Each entry is\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\n   * position inside the root node.\n   */\n  nodes: (\n    root: Node,\n    options?: NodeNodesOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Get the parent of a node at a specific path.\n   */\n  parent: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Get the concatenated text string of a node's content.\n   *\n   * Note that this will not include spaces or line breaks between block nodes.\n   * It is not a user-facing string, but a string for performing offset-related\n   * computations for a node.\n   */\n  string: (node: Node) => string\n\n  /**\n   * Return a generator of all leaf text nodes in a root node.\n   */\n  texts: (\n    root: Node,\n    options?: NodeTextsOptions\n  ) => Generator<NodeEntry<Text>, void, undefined>\n}\n\nconst IS_NODE_LIST_CACHE = new WeakMap<any[], boolean>()\n\n// eslint-disable-next-line no-redeclare\nexport const Node: NodeInterface = {\n  ancestor(root: Node, path: Path): Ancestor {\n    const node = Node.get(root, path)\n\n    if (Text.isText(node)) {\n      throw new Error(\n        `Cannot get the ancestor node at path [${path}] because it refers to a text node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *ancestors(\n    root: Node,\n    path: Path,\n    options: NodeAncestorsOptions = {}\n  ): Generator<NodeEntry<Ancestor>, void, undefined> {\n    for (const p of Path.ancestors(path, options)) {\n      const n = Node.ancestor(root, p)\n      const entry: NodeEntry<Ancestor> = [n, p]\n      yield entry\n    }\n  },\n\n  child(root: Node, index: number): Descendant {\n    if (Text.isText(root)) {\n      throw new Error(\n        `Cannot get the child of a text node: ${Scrubber.stringify(root)}`\n      )\n    }\n\n    const c = root.children[index] as Descendant\n\n    if (c == null) {\n      throw new Error(\n        `Cannot get child at index \\`${index}\\` in node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    return c\n  },\n\n  *children(\n    root: Node,\n    path: Path,\n    options: NodeChildrenOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    const { reverse = false } = options\n    const ancestor = Node.ancestor(root, path)\n    const { children } = ancestor\n    let index = reverse ? children.length - 1 : 0\n\n    while (reverse ? index >= 0 : index < children.length) {\n      const child = Node.child(ancestor, index)\n      const childPath = path.concat(index)\n      yield [child, childPath]\n      index = reverse ? index - 1 : index + 1\n    }\n  },\n\n  common(root: Node, path: Path, another: Path): NodeEntry {\n    const p = Path.common(path, another)\n    const n = Node.get(root, p)\n    return [n, p]\n  },\n\n  descendant(root: Node, path: Path): Descendant {\n    const node = Node.get(root, path)\n\n    if (Editor.isEditor(node)) {\n      throw new Error(\n        `Cannot get the descendant node at path [${path}] because it refers to the root editor node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *descendants(\n    root: Node,\n    options: NodeDescendantsOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path] as NodeEntry<Descendant>\n      }\n    }\n  },\n\n  *elements(\n    root: Node,\n    options: NodeElementsOptions = {}\n  ): Generator<ElementEntry, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Element.isElement(node)) {\n        yield [node, path]\n      }\n    }\n  },\n\n  extractProps(node: Node): NodeProps {\n    if (Element.isAncestor(node)) {\n      const { children, ...properties } = node\n\n      return properties\n    } else {\n      const { text, ...properties } = node\n\n      return properties\n    }\n  },\n\n  first(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        n = n.children[0]\n        p.push(0)\n      }\n    }\n\n    return [n, p]\n  },\n\n  fragment(root: Node, range: Range): Descendant[] {\n    if (Text.isText(root)) {\n      throw new Error(\n        `Cannot get a fragment starting from a root text node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    const newRoot = produce({ children: root.children }, r => {\n      const [start, end] = Range.edges(range)\n      const nodeEntries = Node.nodes(r, {\n        reverse: true,\n        pass: ([, path]) => !Range.includes(range, path),\n      })\n\n      for (const [, path] of nodeEntries) {\n        if (!Range.includes(range, path)) {\n          const parent = Node.parent(r, path)\n          const index = path[path.length - 1]\n          parent.children.splice(index, 1)\n        }\n\n        if (Path.equals(path, end.path)) {\n          const leaf = Node.leaf(r, path)\n          leaf.text = leaf.text.slice(0, end.offset)\n        }\n\n        if (Path.equals(path, start.path)) {\n          const leaf = Node.leaf(r, path)\n          leaf.text = leaf.text.slice(start.offset)\n        }\n      }\n\n      if (Editor.isEditor(r)) {\n        r.selection = null\n      }\n    })\n\n    return newRoot.children\n  },\n\n  get(root: Node, path: Path): Node {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\n          `Cannot find a descendant at path [${path}] in node: ${Scrubber.stringify(\n            root\n          )}`\n        )\n      }\n\n      node = node.children[p]\n    }\n\n    return node\n  },\n\n  has(root: Node, path: Path): boolean {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false\n      }\n\n      node = node.children[p]\n    }\n\n    return true\n  },\n\n  isNode(value: any): value is Node {\n    return (\n      Text.isText(value) || Element.isElement(value) || Editor.isEditor(value)\n    )\n  },\n\n  isNodeList(value: any): value is Node[] {\n    if (!Array.isArray(value)) {\n      return false\n    }\n    const cachedResult = IS_NODE_LIST_CACHE.get(value)\n    if (cachedResult !== undefined) {\n      return cachedResult\n    }\n    const isNodeList = value.every(val => Node.isNode(val))\n    IS_NODE_LIST_CACHE.set(value, isNodeList)\n    return isNodeList\n  },\n\n  last(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        const i = n.children.length - 1\n        n = n.children[i]\n        p.push(i)\n      }\n    }\n\n    return [n, p]\n  },\n\n  leaf(root: Node, path: Path): Text {\n    const node = Node.get(root, path)\n\n    if (!Text.isText(node)) {\n      throw new Error(\n        `Cannot get the leaf node at path [${path}] because it refers to a non-leaf node: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *levels(\n    root: Node,\n    path: Path,\n    options: NodeLevelsOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    for (const p of Path.levels(path, options)) {\n      const n = Node.get(root, p)\n      yield [n, p]\n    }\n  },\n\n  matches(node: Node, props: Partial<Node>): boolean {\n    return (\n      (Element.isElement(node) &&\n        Element.isElementProps(props) &&\n        Element.matches(node, props)) ||\n      (Text.isText(node) &&\n        Text.isTextProps(props) &&\n        Text.matches(node, props))\n    )\n  },\n\n  *nodes(\n    root: Node,\n    options: NodeNodesOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    const { pass, reverse = false } = options\n    const { from = [], to } = options\n    const visited = new Set()\n    let p: Path = []\n    let n = root\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p]\n      }\n\n      // If we're allowed to go downward and we haven't descended yet, do.\n      if (\n        !visited.has(n) &&\n        !Text.isText(n) &&\n        n.children.length !== 0 &&\n        (pass == null || pass([n, p]) === false)\n      ) {\n        visited.add(n)\n        let nextIndex = reverse ? n.children.length - 1 : 0\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length]\n        }\n\n        p = p.concat(nextIndex)\n        n = Node.get(root, p)\n        continue\n      }\n\n      // If we're at the root and we can't go down, we're done.\n      if (p.length === 0) {\n        break\n      }\n\n      // If we're going forward...\n      if (!reverse) {\n        const newPath = Path.next(p)\n\n        if (Node.has(root, newPath)) {\n          p = newPath\n          n = Node.get(root, p)\n          continue\n        }\n      }\n\n      // If we're going backward...\n      if (reverse && p[p.length - 1] !== 0) {\n        const newPath = Path.previous(p)\n        p = newPath\n        n = Node.get(root, p)\n        continue\n      }\n\n      // Otherwise we're going upward...\n      p = Path.parent(p)\n      n = Node.get(root, p)\n      visited.add(n)\n    }\n  },\n\n  parent(root: Node, path: Path): Ancestor {\n    const parentPath = Path.parent(path)\n    const p = Node.get(root, parentPath)\n\n    if (Text.isText(p)) {\n      throw new Error(\n        `Cannot get the parent of path [${path}] because it does not exist in the root.`\n      )\n    }\n\n    return p\n  },\n\n  string(node: Node): string {\n    if (Text.isText(node)) {\n      return node.text\n    } else {\n      return node.children.map(Node.string).join('')\n    }\n  },\n\n  *texts(\n    root: Node,\n    options: NodeTextsOptions = {}\n  ): Generator<NodeEntry<Text>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Text.isText(node)) {\n        yield [node, path]\n      }\n    }\n  },\n}\n\n/**\n * The `Descendant` union type represents nodes that are descendants in the\n * tree. It is returned as a convenience in certain cases to narrow a value\n * further than the more generic `Node` union.\n */\n\nexport type Descendant = Element | Text\n\n/**\n * The `Ancestor` union type represents nodes that are ancestors in the tree.\n * It is returned as a convenience in certain cases to narrow a value further\n * than the more generic `Node` union.\n */\n\nexport type Ancestor = Editor | Element\n\n/**\n * `NodeEntry` objects are returned when iterating over the nodes in a Slate\n * document tree. They consist of the node and its `Path` relative to the root\n * node in the document.\n */\n\nexport type NodeEntry<T extends Node = Node> = [T, Path]\n\n/**\n * Convenience type for returning the props of a node.\n */\nexport type NodeProps =\n  | Omit<Editor, 'children'>\n  | Omit<Element, 'children'>\n  | Omit<Text, 'text'>\n","import { ExtendedType, Node, Path, Range } from '..'\nimport { isPlainObject } from 'is-plain-object'\n\nexport type BaseInsertNodeOperation = {\n  type: 'insert_node'\n  path: Path\n  node: Node\n}\n\nexport type InsertNodeOperation = ExtendedType<\n  'InsertNodeOperation',\n  BaseInsertNodeOperation\n>\n\nexport type BaseInsertTextOperation = {\n  type: 'insert_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type InsertTextOperation = ExtendedType<\n  'InsertTextOperation',\n  BaseInsertTextOperation\n>\n\nexport type BaseMergeNodeOperation = {\n  type: 'merge_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type MergeNodeOperation = ExtendedType<\n  'MergeNodeOperation',\n  BaseMergeNodeOperation\n>\n\nexport type BaseMoveNodeOperation = {\n  type: 'move_node'\n  path: Path\n  newPath: Path\n}\n\nexport type MoveNodeOperation = ExtendedType<\n  'MoveNodeOperation',\n  BaseMoveNodeOperation\n>\n\nexport type BaseRemoveNodeOperation = {\n  type: 'remove_node'\n  path: Path\n  node: Node\n}\n\nexport type RemoveNodeOperation = ExtendedType<\n  'RemoveNodeOperation',\n  BaseRemoveNodeOperation\n>\n\nexport type BaseRemoveTextOperation = {\n  type: 'remove_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type RemoveTextOperation = ExtendedType<\n  'RemoveTextOperation',\n  BaseRemoveTextOperation\n>\n\nexport type BaseSetNodeOperation = {\n  type: 'set_node'\n  path: Path\n  properties: Partial<Node>\n  newProperties: Partial<Node>\n}\n\nexport type SetNodeOperation = ExtendedType<\n  'SetNodeOperation',\n  BaseSetNodeOperation\n>\n\nexport type BaseSetSelectionOperation =\n  | {\n      type: 'set_selection'\n      properties: null\n      newProperties: Range\n    }\n  | {\n      type: 'set_selection'\n      properties: Partial<Range>\n      newProperties: Partial<Range>\n    }\n  | {\n      type: 'set_selection'\n      properties: Range\n      newProperties: null\n    }\n\nexport type SetSelectionOperation = ExtendedType<\n  'SetSelectionOperation',\n  BaseSetSelectionOperation\n>\n\nexport type BaseSplitNodeOperation = {\n  type: 'split_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type SplitNodeOperation = ExtendedType<\n  'SplitNodeOperation',\n  BaseSplitNodeOperation\n>\n\nexport type NodeOperation =\n  | InsertNodeOperation\n  | MergeNodeOperation\n  | MoveNodeOperation\n  | RemoveNodeOperation\n  | SetNodeOperation\n  | SplitNodeOperation\n\nexport type SelectionOperation = SetSelectionOperation\n\nexport type TextOperation = InsertTextOperation | RemoveTextOperation\n\n/**\n * `Operation` objects define the low-level instructions that Slate editors use\n * to apply changes to their internal state. Representing all changes as\n * operations is what allows Slate editors to easily implement history,\n * collaboration, and other features.\n */\n\nexport type BaseOperation = NodeOperation | SelectionOperation | TextOperation\nexport type Operation = ExtendedType<'Operation', BaseOperation>\n\nexport interface OperationInterface {\n  /**\n   * Check if a value is a `NodeOperation` object.\n   */\n  isNodeOperation: (value: any) => value is NodeOperation\n\n  /**\n   * Check if a value is an `Operation` object.\n   */\n  isOperation: (value: any) => value is Operation\n\n  /**\n   * Check if a value is a list of `Operation` objects.\n   */\n  isOperationList: (value: any) => value is Operation[]\n\n  /**\n   * Check if a value is a `SelectionOperation` object.\n   */\n  isSelectionOperation: (value: any) => value is SelectionOperation\n\n  /**\n   * Check if a value is a `TextOperation` object.\n   */\n  isTextOperation: (value: any) => value is TextOperation\n\n  /**\n   * Invert an operation, returning a new operation that will exactly undo the\n   * original when applied.\n   */\n  inverse: (op: Operation) => Operation\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Operation: OperationInterface = {\n  isNodeOperation(value: any): value is NodeOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_node')\n  },\n\n  isOperation(value: any): value is Operation {\n    if (!isPlainObject(value)) {\n      return false\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'insert_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'merge_node':\n        return (\n          typeof value.position === 'number' &&\n          Path.isPath(value.path) &&\n          isPlainObject(value.properties)\n        )\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath)\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'remove_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'set_node':\n        return (\n          Path.isPath(value.path) &&\n          isPlainObject(value.properties) &&\n          isPlainObject(value.newProperties)\n        )\n      case 'set_selection':\n        return (\n          (value.properties === null && Range.isRange(value.newProperties)) ||\n          (value.newProperties === null && Range.isRange(value.properties)) ||\n          (isPlainObject(value.properties) &&\n            isPlainObject(value.newProperties))\n        )\n      case 'split_node':\n        return (\n          Path.isPath(value.path) &&\n          typeof value.position === 'number' &&\n          isPlainObject(value.properties)\n        )\n      default:\n        return false\n    }\n  },\n\n  isOperationList(value: any): value is Operation[] {\n    return (\n      Array.isArray(value) && value.every(val => Operation.isOperation(val))\n    )\n  },\n\n  isSelectionOperation(value: any): value is SelectionOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_selection')\n  },\n\n  isTextOperation(value: any): value is TextOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_text')\n  },\n\n  inverse(op: Operation): Operation {\n    switch (op.type) {\n      case 'insert_node': {\n        return { ...op, type: 'remove_node' }\n      }\n\n      case 'insert_text': {\n        return { ...op, type: 'remove_text' }\n      }\n\n      case 'merge_node': {\n        return { ...op, type: 'split_node', path: Path.previous(op.path) }\n      }\n\n      case 'move_node': {\n        const { newPath, path } = op\n\n        // PERF: in this case the move operation is a no-op anyways.\n        if (Path.equals(newPath, path)) {\n          return op\n        }\n\n        // If the move happens completely within a single parent the path and\n        // newPath are stable with respect to each other.\n        if (Path.isSibling(path, newPath)) {\n          return { ...op, path: newPath, newPath: path }\n        }\n\n        // If the move does not happen within a single parent it is possible\n        // for the move to impact the true path to the location where the node\n        // was removed from and where it was inserted. We have to adjust for this\n        // and find the original path. We can accomplish this (only in non-sibling)\n        // moves by looking at the impact of the move operation on the node\n        // after the original move path.\n        const inversePath = Path.transform(path, op)!\n        const inverseNewPath = Path.transform(Path.next(path), op)!\n        return { ...op, path: inversePath, newPath: inverseNewPath }\n      }\n\n      case 'remove_node': {\n        return { ...op, type: 'insert_node' }\n      }\n\n      case 'remove_text': {\n        return { ...op, type: 'insert_text' }\n      }\n\n      case 'set_node': {\n        const { properties, newProperties } = op\n        return { ...op, properties: newProperties, newProperties: properties }\n      }\n\n      case 'set_selection': {\n        const { properties, newProperties } = op\n\n        if (properties == null) {\n          return {\n            ...op,\n            properties: newProperties as Range,\n            newProperties: null,\n          }\n        } else if (newProperties == null) {\n          return {\n            ...op,\n            properties: null,\n            newProperties: properties as Range,\n          }\n        } else {\n          return { ...op, properties: newProperties, newProperties: properties }\n        }\n      }\n\n      case 'split_node': {\n        return { ...op, type: 'merge_node', path: Path.next(op.path) }\n      }\n    }\n  },\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { isPlainObject } from 'is-plain-object'\nimport { Range } from '../interfaces/range'\nimport { Node } from '../interfaces/node'\nimport { Operation } from '../interfaces/operation'\n\nconst IS_EDITOR_CACHE = new WeakMap<object, boolean>()\n\nexport const isEditor: EditorInterface['isEditor'] = (\n  value: any\n): value is Editor => {\n  const cachedIsEditor = IS_EDITOR_CACHE.get(value)\n  if (cachedIsEditor !== undefined) {\n    return cachedIsEditor\n  }\n\n  if (!isPlainObject(value)) {\n    return false\n  }\n\n  const isEditor =\n    typeof value.addMark === 'function' &&\n    typeof value.apply === 'function' &&\n    typeof value.deleteFragment === 'function' &&\n    typeof value.insertBreak === 'function' &&\n    typeof value.insertSoftBreak === 'function' &&\n    typeof value.insertFragment === 'function' &&\n    typeof value.insertNode === 'function' &&\n    typeof value.insertText === 'function' &&\n    typeof value.isElementReadOnly === 'function' &&\n    typeof value.isInline === 'function' &&\n    typeof value.isSelectable === 'function' &&\n    typeof value.isVoid === 'function' &&\n    typeof value.normalizeNode === 'function' &&\n    typeof value.onChange === 'function' &&\n    typeof value.removeMark === 'function' &&\n    typeof value.getDirtyPaths === 'function' &&\n    (value.marks === null || isPlainObject(value.marks)) &&\n    (value.selection === null || Range.isRange(value.selection)) &&\n    Node.isNodeList(value.children) &&\n    Operation.isOperationList(value.operations)\n  IS_EDITOR_CACHE.set(value, isEditor)\n  return isEditor\n}\n","import {\n  Ancestor,\n  Descendant,\n  Element,\n  ExtendedType,\n  Location,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  PathRef,\n  Point,\n  PointRef,\n  Range,\n  RangeRef,\n  Span,\n  Text,\n  Transforms,\n} from '..'\nimport {\n  LeafEdge,\n  MaximizeMode,\n  RangeDirection,\n  SelectionMode,\n  TextDirection,\n  TextUnit,\n  TextUnitAdjustment,\n} from '../types/types'\nimport { OmitFirstArg } from '../utils/types'\nimport { isEditor } from '../editor/is-editor'\nimport {\n  TextInsertFragmentOptions,\n  TextInsertTextOptions,\n} from './transforms/text'\nimport { NodeInsertNodesOptions } from './transforms/node'\n\n/**\n * The `Editor` interface stores all the state of a Slate editor. It is extended\n * by plugins that wish to add their own helpers and implement new behaviors.\n */\nexport interface BaseEditor {\n  // Core state.\n\n  children: Descendant[]\n  selection: Selection\n  operations: Operation[]\n  marks: EditorMarks | null\n\n  // Overrideable core methods.\n\n  apply: (operation: Operation) => void\n  getDirtyPaths: (operation: Operation) => Path[]\n  getFragment: () => Descendant[]\n  isElementReadOnly: (element: Element) => boolean\n  isSelectable: (element: Element) => boolean\n  markableVoid: (element: Element) => boolean\n  normalizeNode: (entry: NodeEntry, options?: { operation?: Operation }) => void\n  onChange: (options?: { operation?: Operation }) => void\n  shouldNormalize: ({\n    iteration,\n    dirtyPaths,\n    operation,\n  }: {\n    iteration: number\n    initialDirtyPathsLength: number\n    dirtyPaths: Path[]\n    operation?: Operation\n  }) => boolean\n\n  // Overrideable core transforms.\n\n  addMark: OmitFirstArg<typeof Editor.addMark>\n  collapse: OmitFirstArg<typeof Transforms.collapse>\n  delete: OmitFirstArg<typeof Transforms.delete>\n  deleteBackward: (unit: TextUnit) => void\n  deleteForward: (unit: TextUnit) => void\n  deleteFragment: OmitFirstArg<typeof Editor.deleteFragment>\n  deselect: OmitFirstArg<typeof Transforms.deselect>\n  insertBreak: OmitFirstArg<typeof Editor.insertBreak>\n  insertFragment: OmitFirstArg<typeof Transforms.insertFragment>\n  insertNode: OmitFirstArg<typeof Editor.insertNode>\n  insertNodes: OmitFirstArg<typeof Transforms.insertNodes>\n  insertSoftBreak: OmitFirstArg<typeof Editor.insertSoftBreak>\n  insertText: OmitFirstArg<typeof Transforms.insertText>\n  liftNodes: OmitFirstArg<typeof Transforms.liftNodes>\n  mergeNodes: OmitFirstArg<typeof Transforms.mergeNodes>\n  move: OmitFirstArg<typeof Transforms.move>\n  moveNodes: OmitFirstArg<typeof Transforms.moveNodes>\n  normalize: OmitFirstArg<typeof Editor.normalize>\n  removeMark: OmitFirstArg<typeof Editor.removeMark>\n  removeNodes: OmitFirstArg<typeof Transforms.removeNodes>\n  select: OmitFirstArg<typeof Transforms.select>\n  setNodes: <T extends Node>(\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n  setNormalizing: OmitFirstArg<typeof Editor.setNormalizing>\n  setPoint: OmitFirstArg<typeof Transforms.setPoint>\n  setSelection: OmitFirstArg<typeof Transforms.setSelection>\n  splitNodes: OmitFirstArg<typeof Transforms.splitNodes>\n  unsetNodes: OmitFirstArg<typeof Transforms.unsetNodes>\n  unwrapNodes: OmitFirstArg<typeof Transforms.unwrapNodes>\n  withoutNormalizing: OmitFirstArg<typeof Editor.withoutNormalizing>\n  wrapNodes: OmitFirstArg<typeof Transforms.wrapNodes>\n\n  // Overrideable core queries.\n\n  above: <T extends Ancestor>(\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n  after: OmitFirstArg<typeof Editor.after>\n  before: OmitFirstArg<typeof Editor.before>\n  edges: OmitFirstArg<typeof Editor.edges>\n  elementReadOnly: OmitFirstArg<typeof Editor.elementReadOnly>\n  end: OmitFirstArg<typeof Editor.end>\n  first: OmitFirstArg<typeof Editor.first>\n  fragment: OmitFirstArg<typeof Editor.fragment>\n  getMarks: OmitFirstArg<typeof Editor.marks>\n  hasBlocks: OmitFirstArg<typeof Editor.hasBlocks>\n  hasInlines: OmitFirstArg<typeof Editor.hasInlines>\n  hasPath: OmitFirstArg<typeof Editor.hasPath>\n  hasTexts: OmitFirstArg<typeof Editor.hasTexts>\n  isBlock: OmitFirstArg<typeof Editor.isBlock>\n  isEdge: OmitFirstArg<typeof Editor.isEdge>\n  isEmpty: OmitFirstArg<typeof Editor.isEmpty>\n  isEnd: OmitFirstArg<typeof Editor.isEnd>\n  isInline: OmitFirstArg<typeof Editor.isInline>\n  isNormalizing: OmitFirstArg<typeof Editor.isNormalizing>\n  isStart: OmitFirstArg<typeof Editor.isStart>\n  isVoid: OmitFirstArg<typeof Editor.isVoid>\n  last: OmitFirstArg<typeof Editor.last>\n  leaf: OmitFirstArg<typeof Editor.leaf>\n  levels: <T extends Node>(\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  next: <T extends Descendant>(\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n  node: OmitFirstArg<typeof Editor.node>\n  nodes: <T extends Node>(\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  parent: OmitFirstArg<typeof Editor.parent>\n  path: OmitFirstArg<typeof Editor.path>\n  pathRef: OmitFirstArg<typeof Editor.pathRef>\n  pathRefs: OmitFirstArg<typeof Editor.pathRefs>\n  point: OmitFirstArg<typeof Editor.point>\n  pointRef: OmitFirstArg<typeof Editor.pointRef>\n  pointRefs: OmitFirstArg<typeof Editor.pointRefs>\n  positions: OmitFirstArg<typeof Editor.positions>\n  previous: <T extends Node>(\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n  range: OmitFirstArg<typeof Editor.range>\n  rangeRef: OmitFirstArg<typeof Editor.rangeRef>\n  rangeRefs: OmitFirstArg<typeof Editor.rangeRefs>\n  start: OmitFirstArg<typeof Editor.start>\n  string: OmitFirstArg<typeof Editor.string>\n  unhangRange: OmitFirstArg<typeof Editor.unhangRange>\n  void: OmitFirstArg<typeof Editor.void>\n}\n\nexport type Editor = ExtendedType<'Editor', BaseEditor>\n\nexport type BaseSelection = Range | null\n\nexport type Selection = ExtendedType<'Selection', BaseSelection>\n\nexport type EditorMarks = Omit<Text, 'text'>\n\nexport interface EditorAboveOptions<T extends Ancestor> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorAfterOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorBeforeOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorDirectedDeletionOptions {\n  unit?: TextUnit\n}\n\nexport interface EditorElementReadOnlyOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorFragmentDeletionOptions {\n  direction?: TextDirection\n}\n\nexport interface EditorLeafOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorLevelsOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  reverse?: boolean\n  voids?: boolean\n}\n\nexport interface EditorNextOptions<T extends Descendant> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorNodeOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorNodesOptions<T extends Node> {\n  at?: Location | Span\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  universal?: boolean\n  reverse?: boolean\n  voids?: boolean\n  ignoreNonSelectable?: boolean\n}\n\nexport interface EditorNormalizeOptions {\n  force?: boolean\n  operation?: Operation\n}\n\nexport interface EditorParentOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPointOptions {\n  edge?: LeafEdge\n}\n\nexport interface EditorPointRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPositionsOptions {\n  at?: Location\n  unit?: TextUnitAdjustment\n  reverse?: boolean\n  voids?: boolean\n  ignoreNonSelectable?: boolean\n}\n\nexport interface EditorPreviousOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorRangeRefOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface EditorStringOptions {\n  voids?: boolean\n}\n\nexport interface EditorUnhangRangeOptions {\n  voids?: boolean\n}\n\nexport interface EditorVoidOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorInterface {\n  /**\n   * Get the ancestor above a location in the document.\n   */\n  above: <T extends Ancestor>(\n    editor: Editor,\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Add a custom property to the leaf text nodes in the current selection.\n   *\n   * If the selection is currently collapsed, the marks will be added to the\n   * `editor.marks` property instead, and applied when text is inserted next.\n   */\n  addMark: (editor: Editor, key: string, value: any) => void\n\n  /**\n   * Get the point after a location.\n   */\n  after: (\n    editor: Editor,\n    at: Location,\n    options?: EditorAfterOptions\n  ) => Point | undefined\n\n  /**\n   * Get the point before a location.\n   */\n  before: (\n    editor: Editor,\n    at: Location,\n    options?: EditorBeforeOptions\n  ) => Point | undefined\n\n  /**\n   * Delete content in the editor backward from the current selection.\n   */\n  deleteBackward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete content in the editor forward from the current selection.\n   */\n  deleteForward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete the content in the current selection.\n   */\n  deleteFragment: (\n    editor: Editor,\n    options?: EditorFragmentDeletionOptions\n  ) => void\n\n  /**\n   * Get the start and end points of a location.\n   */\n  edges: (editor: Editor, at: Location) => [Point, Point]\n\n  /**\n   * Match a read-only element in the current branch of the editor.\n   */\n  elementReadOnly: (\n    editor: Editor,\n    options?: EditorElementReadOnlyOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Get the end point of a location.\n   */\n  end: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the first node at a location.\n   */\n  first: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the fragment at a location.\n   */\n  fragment: (editor: Editor, at: Location) => Descendant[]\n\n  /**\n   * Check if a node has block children.\n   */\n  hasBlocks: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a node has inline and text children.\n   */\n  hasInlines: (editor: Editor, element: Element) => boolean\n\n  hasPath: (editor: Editor, path: Path) => boolean\n\n  /**\n   * Check if a node has text children.\n   */\n  hasTexts: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Insert a block break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertBreak: (editor: Editor) => void\n\n  /**\n   * Inserts a fragment\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Atomically inserts `nodes`\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNode: <T extends Node>(\n    editor: Editor,\n    node: Node,\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Insert a soft break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertSoftBreak: (editor: Editor) => void\n\n  /**\n   * Insert a string of text\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n\n  /**\n   * Check if a value is a block `Element` object.\n   */\n  isBlock: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if a point is an edge of a location.\n   */\n  isEdge: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an `Editor` object.\n   */\n  isEditor: (value: any) => value is Editor\n\n  /**\n   * Check if a value is a read-only `Element` object.\n   */\n  isElementReadOnly: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if an element is empty, accounting for void nodes.\n   */\n  isEmpty: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the end point of a location.\n   */\n  isEnd: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an inline `Element` object.\n   */\n  isInline: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if the editor is currently normalizing after each operation.\n   */\n  isNormalizing: (editor: Editor) => boolean\n\n  /**\n   * Check if a value is a selectable `Element` object.\n   */\n  isSelectable: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the start point of a location.\n   */\n  isStart: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is a void `Element` object.\n   */\n  isVoid: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Get the last node at a location.\n   */\n  last: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the leaf text node at a location.\n   */\n  leaf: (\n    editor: Editor,\n    at: Location,\n    options?: EditorLeafOptions\n  ) => NodeEntry<Text>\n\n  /**\n   * Iterate through all of the levels at a location.\n   */\n  levels: <T extends Node>(\n    editor: Editor,\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Get the marks that would be added to text at the current selection.\n   */\n  marks: (editor: Editor) => Omit<Text, 'text'> | null\n\n  /**\n   * Get the matching node in the branch of the document after a location.\n   */\n  next: <T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get the node at a location.\n   */\n  node: (editor: Editor, at: Location, options?: EditorNodeOptions) => NodeEntry\n\n  /**\n   * Iterate through all of the nodes in the Editor.\n   */\n  nodes: <T extends Node>(\n    editor: Editor,\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Normalize any dirty objects in the editor.\n   */\n  normalize: (editor: Editor, options?: EditorNormalizeOptions) => void\n\n  /**\n   * Get the parent node of a location.\n   */\n  parent: (\n    editor: Editor,\n    at: Location,\n    options?: EditorParentOptions\n  ) => NodeEntry<Ancestor>\n\n  /**\n   * Get the path of a location.\n   */\n  path: (editor: Editor, at: Location, options?: EditorPathOptions) => Path\n\n  /**\n   * Create a mutable ref for a `Path` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pathRef: (\n    editor: Editor,\n    path: Path,\n    options?: EditorPathRefOptions\n  ) => PathRef\n\n  /**\n   * Get the set of currently tracked path refs of the editor.\n   */\n  pathRefs: (editor: Editor) => Set<PathRef>\n\n  /**\n   * Get the start or end point of a location.\n   */\n  point: (editor: Editor, at: Location, options?: EditorPointOptions) => Point\n\n  /**\n   * Create a mutable ref for a `Point` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pointRef: (\n    editor: Editor,\n    point: Point,\n    options?: EditorPointRefOptions\n  ) => PointRef\n\n  /**\n   * Get the set of currently tracked point refs of the editor.\n   */\n  pointRefs: (editor: Editor) => Set<PointRef>\n\n  /**\n   * Return all the positions in `at` range where a `Point` can be placed.\n   *\n   * By default, moves forward by individual offsets at a time, but\n   * the `unit` option can be used to to move by character, word, line, or block.\n   *\n   * The `reverse` option can be used to change iteration direction.\n   *\n   * Note: By default void nodes are treated as a single point and iteration\n   * will not happen inside their content unless you pass in true for the\n   * `voids` option, then iteration will occur.\n   */\n  positions: (\n    editor: Editor,\n    options?: EditorPositionsOptions\n  ) => Generator<Point, void, undefined>\n\n  /**\n   * Get the matching node in the branch of the document before a location.\n   */\n  previous: <T extends Node>(\n    editor: Editor,\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get a range of a location.\n   */\n  range: (editor: Editor, at: Location, to?: Location) => Range\n\n  /**\n   * Create a mutable ref for a `Range` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  rangeRef: (\n    editor: Editor,\n    range: Range,\n    options?: EditorRangeRefOptions\n  ) => RangeRef\n\n  /**\n   * Get the set of currently tracked range refs of the editor.\n   */\n  rangeRefs: (editor: Editor) => Set<RangeRef>\n\n  /**\n   * Remove a custom property from all of the leaf text nodes in the current\n   * selection.\n   *\n   * If the selection is currently collapsed, the removal will be stored on\n   * `editor.marks` and applied to the text inserted next.\n   */\n  removeMark: (editor: Editor, key: string) => void\n\n  /**\n   * Manually set if the editor should currently be normalizing.\n   *\n   * Note: Using this incorrectly can leave the editor in an invalid state.\n   *\n   */\n  setNormalizing: (editor: Editor, isNormalizing: boolean) => void\n\n  /**\n   * Get the start point of a location.\n   */\n  start: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the text string content of a location.\n   *\n   * Note: by default the text of void nodes is considered to be an empty\n   * string, regardless of content, unless you pass in true for the voids option\n   */\n  string: (\n    editor: Editor,\n    at: Location,\n    options?: EditorStringOptions\n  ) => string\n\n  /**\n   * Convert a range into a non-hanging one.\n   */\n  unhangRange: (\n    editor: Editor,\n    range: Range,\n    options?: EditorUnhangRangeOptions\n  ) => Range\n\n  /**\n   * Match a void node in the current branch of the editor.\n   */\n  void: (\n    editor: Editor,\n    options?: EditorVoidOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Call a function, deferring normalization until after it completes.\n   */\n  withoutNormalizing: (editor: Editor, fn: () => void) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Editor: EditorInterface = {\n  above(editor, options) {\n    return editor.above(options)\n  },\n\n  addMark(editor, key, value) {\n    editor.addMark(key, value)\n  },\n\n  after(editor, at, options) {\n    return editor.after(at, options)\n  },\n\n  before(editor, at, options) {\n    return editor.before(at, options)\n  },\n\n  deleteBackward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteBackward(unit)\n  },\n\n  deleteForward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteForward(unit)\n  },\n\n  deleteFragment(editor, options) {\n    editor.deleteFragment(options)\n  },\n\n  edges(editor, at) {\n    return editor.edges(at)\n  },\n\n  elementReadOnly(editor: Editor, options: EditorElementReadOnlyOptions = {}) {\n    return editor.elementReadOnly(options)\n  },\n\n  end(editor, at) {\n    return editor.end(at)\n  },\n\n  first(editor, at) {\n    return editor.first(at)\n  },\n\n  fragment(editor, at) {\n    return editor.fragment(at)\n  },\n\n  hasBlocks(editor, element) {\n    return editor.hasBlocks(element)\n  },\n\n  hasInlines(editor, element) {\n    return editor.hasInlines(element)\n  },\n\n  hasPath(editor, path) {\n    return editor.hasPath(path)\n  },\n\n  hasTexts(editor, element) {\n    return editor.hasTexts(element)\n  },\n\n  insertBreak(editor) {\n    editor.insertBreak()\n  },\n\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n\n  insertNode(editor, node) {\n    editor.insertNode(node)\n  },\n\n  insertSoftBreak(editor) {\n    editor.insertSoftBreak()\n  },\n\n  insertText(editor, text) {\n    editor.insertText(text)\n  },\n\n  isBlock(editor, value) {\n    return editor.isBlock(value)\n  },\n\n  isEdge(editor, point, at) {\n    return editor.isEdge(point, at)\n  },\n\n  isEditor(value: any): value is Editor {\n    return isEditor(value)\n  },\n\n  isElementReadOnly(editor, element) {\n    return editor.isElementReadOnly(element)\n  },\n\n  isEmpty(editor, element) {\n    return editor.isEmpty(element)\n  },\n\n  isEnd(editor, point, at) {\n    return editor.isEnd(point, at)\n  },\n\n  isInline(editor, value) {\n    return editor.isInline(value)\n  },\n\n  isNormalizing(editor) {\n    return editor.isNormalizing()\n  },\n\n  isSelectable(editor: Editor, value: Element) {\n    return editor.isSelectable(value)\n  },\n\n  isStart(editor, point, at) {\n    return editor.isStart(point, at)\n  },\n\n  isVoid(editor, value) {\n    return editor.isVoid(value)\n  },\n\n  last(editor, at) {\n    return editor.last(at)\n  },\n\n  leaf(editor, at, options) {\n    return editor.leaf(at, options)\n  },\n\n  levels(editor, options) {\n    return editor.levels(options)\n  },\n\n  marks(editor) {\n    return editor.getMarks()\n  },\n\n  next<T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ): NodeEntry<T> | undefined {\n    return editor.next(options)\n  },\n\n  node(editor, at, options) {\n    return editor.node(at, options)\n  },\n\n  nodes(editor, options) {\n    return editor.nodes(options)\n  },\n\n  normalize(editor, options) {\n    editor.normalize(options)\n  },\n\n  parent(editor, at, options) {\n    return editor.parent(at, options)\n  },\n\n  path(editor, at, options) {\n    return editor.path(at, options)\n  },\n\n  pathRef(editor, path, options) {\n    return editor.pathRef(path, options)\n  },\n\n  pathRefs(editor) {\n    return editor.pathRefs()\n  },\n\n  point(editor, at, options) {\n    return editor.point(at, options)\n  },\n\n  pointRef(editor, point, options) {\n    return editor.pointRef(point, options)\n  },\n\n  pointRefs(editor) {\n    return editor.pointRefs()\n  },\n\n  positions(editor, options) {\n    return editor.positions(options)\n  },\n\n  previous(editor, options) {\n    return editor.previous(options)\n  },\n\n  range(editor, at, to) {\n    return editor.range(at, to)\n  },\n\n  rangeRef(editor, range, options) {\n    return editor.rangeRef(range, options)\n  },\n\n  rangeRefs(editor) {\n    return editor.rangeRefs()\n  },\n\n  removeMark(editor, key) {\n    editor.removeMark(key)\n  },\n\n  setNormalizing(editor, isNormalizing) {\n    editor.setNormalizing(isNormalizing)\n  },\n\n  start(editor, at) {\n    return editor.start(at)\n  },\n\n  string(editor, at, options) {\n    return editor.string(at, options)\n  },\n\n  unhangRange(editor, range, options) {\n    return editor.unhangRange(range, options)\n  },\n\n  void(editor, options) {\n    return editor.void(options)\n  },\n\n  withoutNormalizing(editor, fn: () => void) {\n    editor.withoutNormalizing(fn)\n  },\n}\n\n/**\n * A helper type for narrowing matched nodes with a predicate.\n */\n\nexport type NodeMatch<T extends Node> =\n  | ((node: Node, path: Path) => node is T)\n  | ((node: Node, path: Path) => boolean)\n\nexport type PropsCompare = (prop: Partial<Node>, node: Partial<Node>) => boolean\nexport type PropsMerge = (prop: Partial<Node>, node: Partial<Node>) => object\n","import { isPlainObject } from 'is-plain-object'\nimport { produce } from 'immer'\nimport { ExtendedType, Operation, Path } from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Point` objects refer to a specific location in a text node in a Slate\n * document. Its path refers to the location of the node in the tree, and its\n * offset refers to the distance into the node's string of text. Points can\n * only refer to `Text` nodes.\n */\n\nexport interface BasePoint {\n  path: Path\n  offset: number\n}\n\nexport type Point = ExtendedType<'Point', BasePoint>\n\nexport interface PointTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PointInterface {\n  /**\n   * Compare a point to another, returning an integer indicating whether the\n   * point was before, at, or after the other.\n   */\n  compare: (point: Point, another: Point) => -1 | 0 | 1\n\n  /**\n   * Check if a point is after another.\n   */\n  isAfter: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is before another.\n   */\n  isBefore: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is exactly equal to another.\n   */\n  equals: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a value implements the `Point` interface.\n   */\n  isPoint: (value: any) => value is Point\n\n  /**\n   * Transform a point by an operation.\n   */\n  transform: (\n    point: Point,\n    op: Operation,\n    options?: PointTransformOptions\n  ) => Point | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Point: PointInterface = {\n  compare(point: Point, another: Point): -1 | 0 | 1 {\n    const result = Path.compare(point.path, another.path)\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1\n      if (point.offset > another.offset) return 1\n      return 0\n    }\n\n    return result\n  },\n\n  isAfter(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === 1\n  },\n\n  isBefore(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === -1\n  },\n\n  equals(point: Point, another: Point): boolean {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return (\n      point.offset === another.offset && Path.equals(point.path, another.path)\n    )\n  },\n\n  isPoint(value: any): value is Point {\n    return (\n      isPlainObject(value) &&\n      typeof value.offset === 'number' &&\n      Path.isPath(value.path)\n    )\n  },\n\n  transform(\n    point: Point | null,\n    op: Operation,\n    options: PointTransformOptions = {}\n  ): Point | null {\n    return produce(point, p => {\n      if (p === null) {\n        return null\n      }\n      const { affinity = 'forward' } = options\n      const { path, offset } = p\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node': {\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'insert_text': {\n          if (\n            Path.equals(op.path, path) &&\n            (op.offset < offset ||\n              (op.offset === offset && affinity === 'forward'))\n          ) {\n            p.offset += op.text.length\n          }\n\n          break\n        }\n\n        case 'merge_node': {\n          if (Path.equals(op.path, path)) {\n            p.offset += op.position\n          }\n\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'remove_text': {\n          if (Path.equals(op.path, path) && op.offset <= offset) {\n            p.offset -= Math.min(offset - op.offset, op.text.length)\n          }\n\n          break\n        }\n\n        case 'remove_node': {\n          if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n            return null\n          }\n\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'split_node': {\n          if (Path.equals(op.path, path)) {\n            if (op.position === offset && affinity == null) {\n              return null\n            } else if (\n              op.position < offset ||\n              (op.position === offset && affinity === 'forward')\n            ) {\n              p.offset -= op.position\n\n              p.path = Path.transform(path, op, {\n                ...options,\n                affinity: 'forward',\n              })!\n            }\n          } else {\n            p.path = Path.transform(path, op, options)!\n          }\n\n          break\n        }\n      }\n    })\n  },\n}\n\n/**\n * `PointEntry` objects are returned when iterating over `Point` objects that\n * belong to a range.\n */\n\nexport type PointEntry = [Point, 'anchor' | 'focus']\n","export type Scrubber = (key: string, value: unknown) => unknown\n\nexport interface ScrubberInterface {\n  setScrubber(scrubber: Scrubber | undefined): void\n  stringify(value: any): string\n}\n\nlet _scrubber: Scrubber | undefined = undefined\n\n/**\n * This interface implements a stringify() function, which is used by Slate\n * internally when generating exceptions containing end user data. Developers\n * using Slate may call Scrubber.setScrubber() to alter the behavior of this\n * stringify() function.\n *\n * For example, to prevent the cleartext logging of 'text' fields within Nodes:\n *\n *    import { Scrubber } from 'slate';\n *    Scrubber.setScrubber((key, val) => {\n *      if (key === 'text') return '...scrubbed...'\n *      return val\n *    });\n *\n */\n// eslint-disable-next-line no-redeclare\nexport const Scrubber: ScrubberInterface = {\n  setScrubber(scrubber: Scrubber | undefined): void {\n    _scrubber = scrubber\n  },\n\n  stringify(value: any): string {\n    return JSON.stringify(value, _scrubber)\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Range } from '..'\nimport { ExtendedType } from '../types/custom-types'\nimport { isDeepEqual } from '../utils/deep-equal'\n\n/**\n * `Text` objects represent the nodes that contain the actual text content of a\n * Slate document along with any formatting properties. They are always leaf\n * nodes in the document tree as they cannot contain any children.\n */\n\nexport interface BaseText {\n  text: string\n}\n\nexport type Text = ExtendedType<'Text', BaseText>\n\nexport interface TextEqualsOptions {\n  loose?: boolean\n}\n\nexport interface TextInterface {\n  /**\n   * Check if two text nodes are equal.\n   *\n   * When loose is set, the text is not compared. This is\n   * used to check whether sibling text nodes can be merged.\n   */\n  equals: (text: Text, another: Text, options?: TextEqualsOptions) => boolean\n\n  /**\n   * Check if a value implements the `Text` interface.\n   */\n  isText: (value: any) => value is Text\n\n  /**\n   * Check if a value is a list of `Text` objects.\n   */\n  isTextList: (value: any) => value is Text[]\n\n  /**\n   * Check if some props are a partial of Text.\n   */\n  isTextProps: (props: any) => props is Partial<Text>\n\n  /**\n   * Check if an text matches set of properties.\n   *\n   * Note: this is for matching custom properties, and it does not ensure that\n   * the `text` property are two nodes equal.\n   */\n  matches: (text: Text, props: Partial<Text>) => boolean\n\n  /**\n   * Get the leaves for a text node given decorations.\n   */\n  decorations: (node: Text, decorations: Range[]) => Text[]\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Text: TextInterface = {\n  equals(text: Text, another: Text, options: TextEqualsOptions = {}): boolean {\n    const { loose = false } = options\n\n    function omitText(obj: Record<any, any>) {\n      const { text, ...rest } = obj\n\n      return rest\n    }\n\n    return isDeepEqual(\n      loose ? omitText(text) : text,\n      loose ? omitText(another) : another\n    )\n  },\n\n  isText(value: any): value is Text {\n    return isPlainObject(value) && typeof value.text === 'string'\n  },\n\n  isTextList(value: any): value is Text[] {\n    return Array.isArray(value) && value.every(val => Text.isText(val))\n  },\n\n  isTextProps(props: any): props is Partial<Text> {\n    return (props as Partial<Text>).text !== undefined\n  },\n\n  matches(text: Text, props: Partial<Text>): boolean {\n    for (const key in props) {\n      if (key === 'text') {\n        continue\n      }\n\n      if (\n        !text.hasOwnProperty(key) ||\n        text[<keyof Text>key] !== props[<keyof Text>key]\n      ) {\n        return false\n      }\n    }\n\n    return true\n  },\n\n  decorations(node: Text, decorations: Range[]): Text[] {\n    let leaves: Text[] = [{ ...node }]\n\n    for (const dec of decorations) {\n      const { anchor, focus, ...rest } = dec\n      const [start, end] = Range.edges(dec)\n      const next = []\n      let leafEnd = 0\n      const decorationStart = start.offset\n      const decorationEnd = end.offset\n\n      for (const leaf of leaves) {\n        const { length } = leaf.text\n        const leafStart = leafEnd\n        leafEnd += length\n\n        // If the range encompasses the entire leaf, add the range.\n        if (decorationStart <= leafStart && leafEnd <= decorationEnd) {\n          Object.assign(leaf, rest)\n          next.push(leaf)\n          continue\n        }\n\n        // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n        if (\n          (decorationStart !== decorationEnd &&\n            (decorationStart === leafEnd || decorationEnd === leafStart)) ||\n          decorationStart > leafEnd ||\n          decorationEnd < leafStart ||\n          (decorationEnd === leafStart && leafStart !== 0)\n        ) {\n          next.push(leaf)\n          continue\n        }\n\n        // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n        let middle = leaf\n        let before\n        let after\n\n        if (decorationEnd < leafEnd) {\n          const off = decorationEnd - leafStart\n          after = { ...middle, text: middle.text.slice(off) }\n          middle = { ...middle, text: middle.text.slice(0, off) }\n        }\n\n        if (decorationStart > leafStart) {\n          const off = decorationStart - leafStart\n          before = { ...middle, text: middle.text.slice(0, off) }\n          middle = { ...middle, text: middle.text.slice(off) }\n        }\n\n        Object.assign(middle, rest)\n\n        if (before) {\n          next.push(before)\n        }\n\n        next.push(middle)\n\n        if (after) {\n          next.push(after)\n        }\n      }\n\n      leaves = next\n    }\n\n    return leaves\n  },\n}\n","import { Editor, Location } from '../interfaces'\n\n/**\n * Get the default location to insert content into the editor.\n * By default, use the selection as the target location. But if there is\n * no selection, insert at the end of the document since that is such a\n * common use case when inserting from a non-selected state.\n */\nexport const getDefaultInsertLocation = (editor: Editor): Location => {\n  if (editor.selection) {\n    return editor.selection\n  } else if (editor.children.length > 0) {\n    return Editor.end(editor, [])\n  } else {\n    return [0]\n  }\n}\n","// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\n * Get the distance to the end of the first character in a string of text.\n */\n\nexport const getCharacterDistance = (str: string, isRTL = false): number => {\n  const isLTR = !isRTL\n  const codepoints = isRTL ? codepointsIteratorRTL(str) : str\n\n  let left: CodepointType = CodepointType.None\n  let right: CodepointType = CodepointType.None\n  let distance = 0\n  // Evaluation of these conditions are deferred.\n  let gb11: boolean | null = null // Is GB11 applicable?\n  let gb12Or13: boolean | null = null // Is GB12 or GB13 applicable?\n\n  for (const char of codepoints) {\n    const code = char.codePointAt(0)\n    if (!code) break\n\n    const type = getCodepointType(char, code)\n    ;[left, right] = isLTR ? [right, type] : [type, left]\n\n    if (\n      intersects(left, CodepointType.ZWJ) &&\n      intersects(right, CodepointType.ExtPict)\n    ) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance))\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance))\n      }\n      if (!gb11) break\n    }\n\n    if (\n      intersects(left, CodepointType.RI) &&\n      intersects(right, CodepointType.RI)\n    ) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13\n      } else {\n        if (isLTR) {\n          gb12Or13 = true\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(\n            str.substring(0, str.length - distance)\n          )\n        }\n      }\n      if (!gb12Or13) break\n    }\n\n    if (\n      left !== CodepointType.None &&\n      right !== CodepointType.None &&\n      isBoundaryPair(left, right)\n    ) {\n      break\n    }\n\n    distance += char.length\n  }\n\n  return distance || 1\n}\n\nconst SPACE = /\\s/\nconst PUNCTUATION =\n  /[\\u002B\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\nconst CHAMELEON = /['\\u2018\\u2019]/\n\n/**\n * Get the distance to the end of the first word in a string of text.\n */\n\nexport const getWordDistance = (text: string, isRTL = false): number => {\n  let dist = 0\n  let started = false\n\n  while (text.length > 0) {\n    const charDist = getCharacterDistance(text, isRTL)\n    const [char, remaining] = splitByCharacterDistance(text, charDist, isRTL)\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true\n      dist += charDist\n    } else if (!started) {\n      dist += charDist\n    } else {\n      break\n    }\n\n    text = remaining\n  }\n\n  return dist\n}\n\n/**\n * Split a string in two parts at a given distance starting from the end when\n * `isRTL` is set to `true`.\n */\n\nexport const splitByCharacterDistance = (\n  str: string,\n  dist: number,\n  isRTL?: boolean\n): [string, string] => {\n  if (isRTL) {\n    const at = str.length - dist\n    return [str.slice(at, str.length), str.slice(0, at)]\n  }\n\n  return [str.slice(0, dist), str.slice(dist)]\n}\n\n/**\n * Check if a character is a word character. The `remaining` argument is used\n * because sometimes you must read subsequent characters to truly determine it.\n */\n\nconst isWordCharacter = (\n  char: string,\n  remaining: string,\n  isRTL = false\n): boolean => {\n  if (SPACE.test(char)) {\n    return false\n  }\n\n  // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n  if (CHAMELEON.test(char)) {\n    const charDist = getCharacterDistance(remaining, isRTL)\n    const [nextChar, nextRemaining] = splitByCharacterDistance(\n      remaining,\n      charDist,\n      isRTL\n    )\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Iterate on codepoints from right to left.\n */\n\nexport const codepointsIteratorRTL = function* (str: string) {\n  const end = str.length - 1\n\n  for (let i = 0; i < str.length; i++) {\n    const char1 = str.charAt(end - i)\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      const char2 = str.charAt(end - i - 1)\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1\n\n        i++\n        continue\n      }\n    }\n\n    yield char1\n  }\n}\n\n/**\n * Is `charCode` a high surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isHighSurrogate = (charCode: number) => {\n  return charCode >= 0xd800 && charCode <= 0xdbff\n}\n\n/**\n * Is `charCode` a low surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isLowSurrogate = (charCode: number) => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff\n}\n\nenum CodepointType {\n  None = 0,\n  Extend = 1 << 0,\n  ZWJ = 1 << 1,\n  RI = 1 << 2,\n  Prepend = 1 << 3,\n  SpacingMark = 1 << 4,\n  L = 1 << 5,\n  V = 1 << 6,\n  T = 1 << 7,\n  LV = 1 << 8,\n  LVT = 1 << 9,\n  ExtPict = 1 << 10,\n  Any = 1 << 11,\n}\n\nconst reExtend = /^[\\p{Gr_Ext}\\p{EMod}]$/u\nconst rePrepend =\n  /^[\\u0600-\\u0605\\u06DD\\u070F\\u0890-\\u0891\\u08E2\\u0D4E\\u{110BD}\\u{110CD}\\u{111C2}-\\u{111C3}\\u{1193F}\\u{11941}\\u{11A3A}\\u{11A84}-\\u{11A89}\\u{11D46}]$/u\nconst reSpacingMark =\n  /^[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BF-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC1\\u0CC3-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0D02-\\u0D03\\u0D3F-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82-\\u0D83\\u0DD0-\\u0DD1\\u0DD8-\\u0DDE\\u0DF2-\\u0DF3\\u0E33\\u0EB3\\u0F3E-\\u0F3F\\u0F7F\\u1031\\u103B-\\u103C\\u1056-\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF7\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BE-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC\\u{11000}\\u{11002}\\u{11082}\\u{110B0}-\\u{110B2}\\u{110B7}-\\u{110B8}\\u{1112C}\\u{11145}-\\u{11146}\\u{11182}\\u{111B3}-\\u{111B5}\\u{111BF}-\\u{111C0}\\u{111CE}\\u{1122C}-\\u{1122E}\\u{11232}-\\u{11233}\\u{11235}\\u{112E0}-\\u{112E2}\\u{11302}-\\u{11303}\\u{1133F}\\u{11341}-\\u{11344}\\u{11347}-\\u{11348}\\u{1134B}-\\u{1134D}\\u{11362}-\\u{11363}\\u{11435}-\\u{11437}\\u{11440}-\\u{11441}\\u{11445}\\u{114B1}-\\u{114B2}\\u{114B9}\\u{114BB}-\\u{114BC}\\u{114BE}\\u{114C1}\\u{115B0}-\\u{115B1}\\u{115B8}-\\u{115BB}\\u{115BE}\\u{11630}-\\u{11632}\\u{1163B}-\\u{1163C}\\u{1163E}\\u{116AC}\\u{116AE}-\\u{116AF}\\u{116B6}\\u{11726}\\u{1182C}-\\u{1182E}\\u{11838}\\u{11931}-\\u{11935}\\u{11937}-\\u{11938}\\u{1193D}\\u{11940}\\u{11942}\\u{119D1}-\\u{119D3}\\u{119DC}-\\u{119DF}\\u{119E4}\\u{11A39}\\u{11A57}-\\u{11A58}\\u{11A97}\\u{11C2F}\\u{11C3E}\\u{11CA9}\\u{11CB1}\\u{11CB4}\\u{11D8A}-\\u{11D8E}\\u{11D93}-\\u{11D94}\\u{11D96}\\u{11EF5}-\\u{11EF6}\\u{16F51}-\\u{16F87}\\u{16FF0}-\\u{16FF1}\\u{1D166}\\u{1D16D}]$/u\nconst reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/u\nconst reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/u\nconst reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/u\nconst reLV =\n  /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/u\nconst reLVT =\n  /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/u\nconst reExtPict = /^\\p{ExtPict}$/u\n\nconst getCodepointType = (char: string, code: number): CodepointType => {\n  let type = CodepointType.Any\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend\n  }\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ\n  }\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI\n  }\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend\n  }\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark\n  }\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L\n  }\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V\n  }\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T\n  }\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV\n  }\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT\n  }\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict\n  }\n\n  return type\n}\n\nfunction intersects(x: CodepointType, y: CodepointType) {\n  return (x & y) !== 0\n}\n\nconst NonBoundaryPairs: [CodepointType, CodepointType][] = [\n  // GB6\n  [\n    CodepointType.L,\n    CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT,\n  ],\n  // GB7\n  [CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T],\n  // GB8\n  [CodepointType.LVT | CodepointType.T, CodepointType.T],\n  // GB9\n  [CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ],\n  // GB9a\n  [CodepointType.Any, CodepointType.SpacingMark],\n  // GB9b\n  [CodepointType.Prepend, CodepointType.Any],\n  // GB11\n  [CodepointType.ZWJ, CodepointType.ExtPict],\n  // GB12 and GB13\n  [CodepointType.RI, CodepointType.RI],\n]\n\nfunction isBoundaryPair(left: CodepointType, right: CodepointType) {\n  return (\n    NonBoundaryPairs.findIndex(\n      r => intersects(left, r[0]) && intersects(right, r[1])\n    ) === -1\n  )\n}\n\nconst endingEmojiZWJ = /\\p{ExtPict}[\\p{Gr_Ext}\\p{EMod}]*\\u200D$/u\nconst endsWithEmojiZWJ = (str: string): boolean => {\n  return str.search(endingEmojiZWJ) !== -1\n}\n\nconst endingRIs = /\\p{RI}+$/gu\nconst endsWithOddNumberOfRIs = (str: string): boolean => {\n  const match = str.match(endingRIs)\n  if (match === null) {\n    return false\n  } else {\n    // A RI is represented by a surrogate pair.\n    const numRIs = match[0].length / 2\n    return numRIs % 2 === 1\n  }\n}\n","import { Editor, Location, Node, Path, Range, Transforms } from '../../index'\nimport { TextUnit } from '../../types/types'\nimport { getDefaultInsertLocation } from '../../utils'\n\nexport interface TextDeleteOptions {\n  at?: Location\n  distance?: number\n  unit?: TextUnit\n  reverse?: boolean\n  hanging?: boolean\n  voids?: boolean\n}\n\nexport interface TextInsertFragmentOptions {\n  at?: Location\n  hanging?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface TextInsertTextOptions {\n  at?: Location\n  voids?: boolean\n}\n\nexport interface TextTransforms {\n  /**\n   * Delete content in the editor.\n   */\n  delete: (editor: Editor, options?: TextDeleteOptions) => void\n\n  /**\n   * Insert a fragment in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Insert a string of text in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const TextTransforms: TextTransforms = {\n  delete(editor, options) {\n    editor.delete(options)\n  },\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n  insertText(\n    editor: Editor,\n    text: string,\n    options: TextInsertTextOptions = {}\n  ): void {\n    Editor.withoutNormalizing(editor, () => {\n      const { voids = false } = options\n      let { at = getDefaultInsertLocation(editor) } = options\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at)\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor\n        } else {\n          const end = Range.end(at)\n          if (!voids && Editor.void(editor, { at: end })) {\n            return\n          }\n          const start = Range.start(at)\n          const startRef = Editor.pointRef(editor, start)\n          const endRef = Editor.pointRef(editor, end)\n          Transforms.delete(editor, { at, voids })\n          const startPoint = startRef.unref()\n          const endPoint = endRef.unref()\n\n          at = startPoint || endPoint!\n          Transforms.setSelection(editor, { anchor: at, focus: at })\n        }\n      }\n\n      if (\n        (!voids && Editor.void(editor, { at })) ||\n        Editor.elementReadOnly(editor, { at })\n      ) {\n        return\n      }\n\n      const { path, offset } = at\n      if (text.length > 0)\n        editor.apply({ type: 'insert_text', path, offset, text })\n    })\n  },\n}\n","import { GeneralTransforms } from './general'\nimport { NodeTransforms } from './node'\nimport { SelectionTransforms } from './selection'\nimport { TextTransforms } from './text'\n\nexport const Transforms: GeneralTransforms &\n  NodeTransforms &\n  SelectionTransforms &\n  TextTransforms = {\n  ...GeneralTransforms,\n  ...NodeTransforms,\n  ...SelectionTransforms,\n  ...TextTransforms,\n}\n","import { getRootBlockElement, YooEditor } from '@yoopta/editor';\n\ntype Params = {\n  editor: YooEditor;\n  onClose: () => void;\n  empty?: boolean;\n  view?: 'small' | 'default';\n};\n\nexport function buildActionMenuRenderProps({ editor, view, onClose }: Params) {\n  function filterToggleActions(editor: YooEditor, type: string) {\n    const block = editor.blocks[type];\n    if (!block) return false;\n\n    const rootBlock = getRootBlockElement(block.elements);\n    if (rootBlock?.props?.nodeType === 'void') return false;\n    return true;\n  }\n\n  const getActions = () => {\n    const items = Object.keys(editor.blocks)\n      .filter((type) => filterToggleActions(editor, type))\n      .map((action) => {\n        const title = editor.blocks[action].options?.display?.title || action;\n        const description = editor.blocks[action].options?.display?.description;\n        return { type: action, title, description };\n      });\n\n    return items;\n  };\n\n  const getRootProps = () => ({\n    'data-action-menu-list': true,\n  });\n\n  const getItemProps = (type) => ({\n    onMouseEnter: () => undefined,\n    'data-action-menu-item': true,\n    'data-action-menu-item-type': type,\n    'aria-selected': false,\n    onClick: () => {\n      editor.blocks[type].toggle({ focus: true });\n      onClose();\n    },\n  });\n\n  return {\n    actions: getActions(),\n    onClose,\n    empty: false,\n    getItemProps,\n    getRootProps,\n    editor,\n    view,\n  };\n}\n","import {\n  FontBoldIcon,\n  FontItalicIcon,\n  StrikethroughIcon,\n  CodeIcon,\n  UnderlineIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n} from '@radix-ui/react-icons';\nimport * as Toolbar from '@radix-ui/react-toolbar';\nimport {\n  useFloating,\n  offset,\n  flip,\n  shift,\n  inline,\n  autoUpdate,\n  FloatingPortal,\n  FloatingOverlay,\n} from '@floating-ui/react';\nimport { CSSProperties, MouseEvent, useEffect, useRef, useState } from 'react';\nimport { HighlightColor } from './HighlightColor';\nimport {\n  findSlateBySelectionPath,\n  getRootBlockElement,\n  HOTKEYS,\n  SlateElement,\n  useYooptaTools,\n  YooEditor,\n  YooptaBlock,\n} from '@yoopta/editor';\nimport { Editor, Element, NodeEntry, Range, Transforms } from 'slate';\nimport { ToolbarRenderProps } from '../types';\nimport { buildActionMenuRenderProps } from './utils';\n\ntype LinkValues = {\n  title?: string;\n  url: string;\n};\n\nfunction filterToggleActions(editor: YooEditor, type: string) {\n  const block = editor.blocks[type];\n  if (!block) return false;\n\n  const rootBlock = getRootBlockElement(block.elements);\n  if (rootBlock?.props?.nodeType === 'void') return false;\n  return true;\n}\n\nconst getLinkEntry = (slate) => {\n  const [link] = Editor.nodes(slate, {\n    match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\n  });\n\n  return link;\n};\n\nconst DEFAULT_MODALS = { link: false, highlight: false, actionMenu: false };\ntype ModalsState = typeof DEFAULT_MODALS;\n\nconst DefaultToolbarRender = ({ activeBlock, editor, toggleHoldToolbar }: ToolbarRenderProps) => {\n  const [modals, setModals] = useState<ModalsState>({ link: false, highlight: false, actionMenu: false });\n  const [linkValues, setLinkValues] = useState<LinkValues>({ title: '', url: '' });\n  const lastSelection = useRef<Range | null>(null);\n\n  const tools = useYooptaTools();\n\n  const onChangeModal = (modal: keyof ModalsState, value: boolean) => {\n    setModals(() => ({ ...DEFAULT_MODALS, [modal]: value }));\n  };\n\n  const { refs: actionMenuRefs, floatingStyles: actionMenuStyles } = useFloating({\n    placement: 'bottom-start',\n    open: modals.actionMenu,\n    onOpenChange: (open) => onChangeModal('actionMenu', open),\n    middleware: [inline(), flip(), shift(), offset({ mainAxis: 10, crossAxis: 50 })],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { refs: highlightPickerRefs, floatingStyles: highlightPickerStyles } = useFloating({\n    placement: 'top-end',\n    open: modals.highlight,\n    onOpenChange: (open) => onChangeModal('highlight', open),\n    middleware: [inline(), flip(), shift(), offset({ mainAxis: 10, crossAxis: 50 })],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { refs: linkToolRefs, floatingStyles: linkToolStyles } = useFloating({\n    placement: 'top-start',\n    open: modals.link,\n    onOpenChange: (open) => onChangeModal('link', open),\n    middleware: [inline(), flip(), shift(), offset({ mainAxis: 10, crossAxis: 50 })],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const getItemStyle = (type) => ({\n    backgroundColor: editor.formats[type]?.isActive() ? '#1183ff' : undefined,\n    color: editor.formats[type]?.isActive() ? '#fff' : undefined,\n  });\n\n  const highlight = editor.formats.highlight;\n  const highlightColors = highlight?.getValue();\n  const getHighlightTriggerStyle = (): CSSProperties => {\n    const buttonStyles = getModalTriggerStyle('highlight');\n\n    return {\n      color: highlightColors?.color,\n      backgroundColor: buttonStyles.backgroundColor || highlightColors?.backgroundColor,\n      backgroundImage: highlightColors?.backgroundImage,\n      WebkitTextFillColor: highlightColors?.webkitTextFillColor,\n    };\n  };\n\n  const blockLabel = activeBlock?.options?.display?.title || activeBlock?.type || '';\n\n  const ActionMenu = tools.ActionMenu;\n  const LinkTool = tools.LinkTool;\n\n  useEffect(() => {\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (HOTKEYS.isEscape(e)) {\n        setModals(DEFAULT_MODALS);\n        toggleHoldToolbar?.(false);\n        return;\n      }\n\n      // [TODO]: Implement this accessibility feature\n      // if (HOTKEYS.isEnter(e)) {\n      //   if (modals.link) {\n      //     onUpdateLink(linkValues);\n      //   }\n      // }\n    };\n\n    if (modals.link) {\n      const slate = findSlateBySelectionPath(editor);\n      if (!slate || !slate.selection) return;\n\n      lastSelection.current = slate.selection;\n\n      const title = Editor.string(slate, slate?.selection);\n      const linkNodeEntry = getLinkEntry(slate);\n      const link: LinkValues = { title, url: '' };\n\n      if (linkNodeEntry) {\n        const [linkNode] = linkNodeEntry as NodeEntry<SlateElement>;\n        link.url = linkNode.props.url;\n      }\n\n      setLinkValues(link);\n    }\n\n    document.addEventListener('keydown', onKeyDown);\n\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [editor.selection, editor.children, modals.link]);\n\n  const onUpdateLink = (link: LinkValues) => {\n    const slate = findSlateBySelectionPath(editor);\n    if (!slate) return;\n\n    Editor.withoutNormalizing(slate, () => {\n      if (!slate.selection) return;\n\n      const linkNodeEntry = getLinkEntry(slate);\n\n      if (linkNodeEntry) {\n        const [linkNode] = linkNodeEntry as NodeEntry<SlateElement>;\n        const updatedNode = { props: { ...linkNode?.props, url: link.url, title: link.title } };\n\n        Transforms.setNodes<SlateElement>(slate, updatedNode, {\n          match: (n) => Element.isElement(n) && (n as SlateElement).type === 'link',\n        });\n\n        Editor.insertText(slate, link.title || link.url, { at: slate.selection });\n        Transforms.collapse(slate, { edge: 'end' });\n      } else {\n        const linkNode = {\n          type: 'link',\n          children: [{ text: link.title }],\n          props: {\n            target: '_blank',\n            rel: 'noreferrer',\n            nodeType: 'inline',\n            url: link.url,\n            title: link.title,\n          },\n        } as SlateElement;\n\n        Transforms.wrapNodes(slate, linkNode, { split: true, at: slate.selection });\n        Transforms.setNodes(\n          slate,\n          { text: link.title },\n          {\n            at: slate.selection,\n            mode: 'lowest',\n            match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\n          },\n        );\n\n        Editor.insertText(slate, link.title || link.url, { at: slate.selection });\n        Transforms.collapse(slate, { edge: 'end' });\n      }\n\n      editor.applyChanges();\n      editor.emit('change', editor.children);\n\n      onChangeModal('link', false);\n      setLinkValues({ title: '', url: '' });\n      toggleHoldToolbar?.(false);\n\n      // if (lastSelection.current) {\n      //   try {\n      //     Transforms.select(slate, lastSelection.current);\n      //     Transforms.setSelection(slate, lastSelection.current);\n      //     lastSelection.current = null;\n      //   } catch (error) {}\n      // }\n    });\n  };\n\n  const onDeleteLink = () => {\n    const slate = findSlateBySelectionPath(editor);\n    if (!slate || !slate.selection) return;\n    const linkNodeEntry = getLinkEntry(slate);\n    if (linkNodeEntry) {\n      Transforms.unwrapNodes(slate, {\n        match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\n      });\n    }\n    onChangeModal('link', false);\n    setLinkValues({ title: '', url: '' });\n    toggleHoldToolbar?.(false);\n  };\n\n  const onClickLinkOverlay = (e: MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (linkToolRefs.floating.current?.contains(e.target as Node)) return;\n\n    toggleHoldToolbar?.(false);\n    setModals(DEFAULT_MODALS);\n  };\n\n  const isActiveTriggerModal = (modal: keyof ModalsState) => modals[modal];\n  const getModalTriggerStyle = (modal: keyof ModalsState) => ({\n    backgroundColor: isActiveTriggerModal(modal) ? '#f4f4f5' : undefined,\n  });\n\n  const onToggleMark = (format: string) => {\n    setModals(DEFAULT_MODALS);\n    editor.formats[format].toggle();\n  };\n\n  const onCloseActionMenu = () => onChangeModal('actionMenu', false);\n\n  const actionMenuRenderProps = buildActionMenuRenderProps({ editor, onClose: onCloseActionMenu, view: 'small' });\n\n  return (\n    <Toolbar.Root className=\"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-flex yoo-toolbar-z-50 yoo-toolbar-p-[5px] yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border-[1px] yoo-toolbar-border-solid yoo-toolbar-border-[#e3e3e3] yoo-toolbar-shadow-y-[4px]\">\n      <Toolbar.ToggleGroup\n        className=\"yoo-toolbar-flex yoo-toolbar-items-center\"\n        type=\"single\"\n        aria-label=\"Block formatting\"\n      >\n        <Toolbar.ToggleItem\n          className=\"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md\"\n          value={blockLabel}\n          aria-label={blockLabel}\n          ref={actionMenuRefs.setReference}\n          onClick={() => onChangeModal('actionMenu', !modals.actionMenu)}\n          style={getModalTriggerStyle('actionMenu')}\n        >\n          <span className=\"yoo-toolbar-mr-0\">{blockLabel}</span>\n          {modals.actionMenu && !!ActionMenu && (\n            <FloatingPortal id=\"yoo-toolbar-action-menu-list-portal\" root={document.getElementById('yoopta-editor')}>\n              <div style={actionMenuStyles} ref={actionMenuRefs.setFloating} onClick={(e) => e.stopPropagation()}>\n                <ActionMenu {...actionMenuRenderProps} />\n              </div>\n            </FloatingPortal>\n          )}\n        </Toolbar.ToggleItem>\n      </Toolbar.ToggleGroup>\n      <Toolbar.Separator className=\"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]\" />\n      <Toolbar.ToggleGroup\n        className=\"yoo-toolbar-flex yoo-toolbar-items-center\"\n        type=\"single\"\n        aria-label=\"Block formatting\"\n      >\n        <Toolbar.ToggleItem\n          className=\"yoo-toolbar-h-full yoo-toolbar-text-[16px] yoo-toolbar-px-[10px] yoo-toolbar-py-0 hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md\"\n          value=\"LinkTool\"\n          aria-label=\"LinkTool\"\n          ref={linkToolRefs.setReference}\n          onClick={() => {\n            onChangeModal('link', !modals.link);\n            toggleHoldToolbar?.(true);\n          }}\n          style={getModalTriggerStyle('link')}\n        >\n          <span className=\"yoo-toolbar-mr-0\">Link</span>\n          {modals.link && !!LinkTool && (\n            <FloatingPortal id=\"yoo-link-tool-portal\" root={document.getElementById('yoopta-editor')}>\n              <FloatingOverlay lockScroll className=\"z-[100]\" onClick={onClickLinkOverlay}>\n                <div style={linkToolStyles} ref={linkToolRefs.setFloating}>\n                  <LinkTool link={linkValues} onSave={onUpdateLink} onDelete={onDeleteLink} />\n                </div>\n              </FloatingOverlay>\n            </FloatingPortal>\n          )}\n        </Toolbar.ToggleItem>\n      </Toolbar.ToggleGroup>\n      <Toolbar.Separator className=\"yoo-toolbar-bg-[#dbd8e0] yoo-toolbar-mx-[6px] yoo-toolbar-my-0 yoo-toolbar-w-[1px]\" />\n      <Toolbar.ToggleGroup\n        className=\"yoo-toolbar-flex yoo-toolbar-items-center\"\n        type=\"multiple\"\n        aria-label=\"Text formatting\"\n      >\n        {editor.formats.bold && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"bold\"\n            aria-label=\"Bold\"\n            style={getItemStyle('bold')}\n            onClick={() => onToggleMark('bold')}\n          >\n            <FontBoldIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.italic && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"italic\"\n            aria-label=\"Italic\"\n            style={getItemStyle('italic')}\n            onClick={() => onToggleMark('italic')}\n          >\n            <FontItalicIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.underline && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"underline\"\n            aria-label=\"Underline\"\n            style={getItemStyle('underline')}\n            onClick={() => onToggleMark('underline')}\n          >\n            <UnderlineIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.strike && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"strike\"\n            aria-label=\"Strike\"\n            style={getItemStyle('strike')}\n            onClick={() => onToggleMark('strike')}\n          >\n            <StrikethroughIcon width={20} height={20} />\n            {/* <span className=\"yoo-toolbar-w-[20px] yoo-toolbar-h-[20px] yoo-toolbar-line-through\">S</span> */}\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.code && (\n          <Toolbar.ToggleItem\n            className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n            value=\"code\"\n            aria-label=\"Code\"\n            style={getItemStyle('code')}\n            onClick={() => onToggleMark('code')}\n          >\n            <CodeIcon width={20} height={20} />\n          </Toolbar.ToggleItem>\n        )}\n        {editor.formats.highlight && (\n          <>\n            {modals.highlight && (\n              <HighlightColor\n                editor={editor}\n                floatingStyles={highlightPickerStyles}\n                refs={highlightPickerRefs}\n                onClose={() => onChangeModal('highlight', false)}\n                highlightColors={highlightColors}\n              />\n            )}\n\n            <Toolbar.ToggleItem\n              className=\"yoo-toolbar-ml-[2px] yoo-toolbar-h-[32px] hover:yoo-toolbar-bg-[#f4f4f5] yoo-toolbar-rounded-md yoo-toolbar-cursor-pointer yoo-toolbar-inline-flex yoo-toolbar-px-[5px] yoo-toolbar-py-0 yoo-toolbar-items-center yoo-toolbar-justify-center\"\n              value=\"highlight\"\n              aria-label=\"Highlight\"\n              style={getHighlightTriggerStyle()}\n              ref={highlightPickerRefs.setReference}\n              onClick={() => onChangeModal('highlight', !modals.highlight)}\n            >\n              <span className=\"yoo-toolbar-text-lg yoo-toolbar-px-1 yoo-toolbar-font-serif yoo-toolbar-text-col\">\n                A\n              </span>\n              {modals.highlight ? <ChevronUpIcon width={10} /> : <ChevronDownIcon width={10} />}\n            </Toolbar.ToggleItem>\n          </>\n        )}\n      </Toolbar.ToggleGroup>\n    </Toolbar.Root>\n  );\n};\n\nexport { DefaultToolbarRender };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import { useEffect, useState } from 'react';\nimport { DefaultToolbarRender } from './DefaultToolbarRender';\nimport {\n  useFloating,\n  offset,\n  flip,\n  shift,\n  inline,\n  autoUpdate,\n  FloatingPortal,\n  useTransitionStyles,\n} from '@floating-ui/react';\nimport throttle from 'lodash.throttle';\nimport { useYooptaEditor } from '@yoopta/editor';\nimport { ToolbarToolProps } from '../types';\n\nconst Toolbar = ({ render }: ToolbarToolProps) => {\n  const editor = useYooptaEditor();\n  const [isToolbarOpen, setIsToolbarOpen] = useState(false);\n  const [hold, setHold] = useState(false);\n\n  const { refs, floatingStyles, context } = useFloating({\n    placement: 'top',\n    open: isToolbarOpen,\n    onOpenChange: setIsToolbarOpen,\n    middleware: [inline(), flip(), shift(), offset({ mainAxis: 10, crossAxis: 50 })],\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { isMounted, styles: transitionStyles } = useTransitionStyles(context, {\n    duration: 50,\n  });\n\n  const selectionChange = () => {\n    if (hold) return;\n\n    const domSelection = window.getSelection();\n\n    if (!domSelection || domSelection?.isCollapsed) return setIsToolbarOpen(false);\n\n    const domRange = domSelection.getRangeAt(0);\n    const selectionRect = domRange.getBoundingClientRect();\n    const text = domRange.toString().trim();\n\n    const pluginWithCustomEditor = document.querySelectorAll('[data-custom-editor]');\n    const yooptaEditorEl = document.getElementById('yoopta-editor');\n    const ancestor = domRange?.commonAncestorContainer;\n\n    let isInsideCustomEditor = false;\n    for (let i = 0; i < pluginWithCustomEditor.length; i++) {\n      if (pluginWithCustomEditor[i].contains(ancestor)) {\n        isInsideCustomEditor = true;\n        break;\n      }\n    }\n\n    if (!yooptaEditorEl?.contains(ancestor) || isInsideCustomEditor) {\n      return setIsToolbarOpen(false);\n    }\n\n    if (domRange && text.length > 0) {\n      refs.setReference({\n        getBoundingClientRect: () => selectionRect,\n        getClientRects: () => domRange.getClientRects(),\n      });\n\n      setIsToolbarOpen(true);\n    }\n  };\n\n  const onSelectionChange = throttle(selectionChange, 200);\n\n  useEffect(() => {\n    window.document.addEventListener('selectionchange', onSelectionChange);\n    return () => window.document.removeEventListener('selectionchange', onSelectionChange);\n  }, [editor.selectedBlocks, hold, editor.children]);\n\n  if (!isMounted) return null;\n\n  const activeBlock = Object.values(editor.blocks).find((block) => block.isActive());\n  const style = { ...floatingStyles, ...transitionStyles };\n\n  const toggleHoldToolbar = (hold: boolean) => setHold(hold);\n\n  if (render) {\n    const RenderComponent = render;\n\n    return (\n      <FloatingPortal id=\"yoo-toolbar-portal\" root={document.getElementById('yoopta-editor')}>\n        <div style={style} ref={refs.setFloating} onClick={(e) => e.stopPropagation()}>\n          <RenderComponent activeBlock={activeBlock} editor={editor} toggleHoldToolbar={toggleHoldToolbar} />\n        </div>\n      </FloatingPortal>\n    );\n  }\n\n  return (\n    // [TODO] - take care about SSR\n    <FloatingPortal id=\"yoo-toolbar-portal\" root={document.getElementById('yoopta-editor')}>\n      <div style={style} ref={refs.setFloating} onClick={(e) => e.stopPropagation()}>\n        <DefaultToolbarRender activeBlock={activeBlock} editor={editor} toggleHoldToolbar={toggleHoldToolbar} />\n      </div>\n    </FloatingPortal>\n  );\n};\n\nexport { Toolbar };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"names":["ChevronDownIcon","React","forwardedRef","color","props","width","height","viewBox","fill","xmlns","ref","d","fillRule","clipRule","ChevronUpIcon","CodeIcon","FontBoldIcon","FontItalicIcon","StrikethroughIcon","UnderlineIcon","_extends","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","handleEvent","event","defaultPrevented","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext","rootComponentName","defaultContext","BaseContext","index","length","Provider","scope","children","context","Context","value","Object","values","$3bkAK$createElement","useContext","consumerName","undefined","Error","displayName","createScope","scopeContexts","map","useScope","contexts","composeContextScopes","scopes","baseScope","scopeHooks","useComposedScopes","overrideScopes","nextScopes","reduce","scopeProps","currentScope","setRef","current","composeRefs","refs","node","forEach","useComposedRefs","Slot","slotProps","childrenArray","toArray","slottable","find","isSlottable","newElement","newChildren","child","count","only","$9IrjX$createElement","$9IrjX$babelruntimehelpersesmextends","SlotClone","mergeProps","Slottable","$9IrjX$Fragment","type","childProps","overrideProps","propName","slotPropValue","childPropValue","isHandler","test","args","filter","Boolean","join","createCollection","name","PROVIDER_NAME","createCollectionContext","createCollectionScope","CollectionProviderImpl","useCollectionContext","collectionRef","itemMap","Map","CollectionProvider","useRef","$6vYhU$react","COLLECTION_SLOT_NAME","CollectionSlot","forwardRef","composedRefs","$6vYhU$Slot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlot","itemData","useEffect","set","delete","useCollection","getItems","useCallback","collectionNode","orderedNodes","Array","from","querySelectorAll","items","orderedItems","sort","a","b","indexOf","ItemSlot","useLayoutEffect","globalThis","document","useReactId","toString","useId","deterministicId","id","setId","useState","reactId","String","NODES","Primitive","primitive","Node","asChild","primitiveProps","Comp","window","Symbol","for","$4q5Fq$createElement","$4q5Fq$babelruntimehelpersesmextends","useCallbackRef","callback","callbackRef","useControllableState","prop","defaultProp","onChange","uncontrolledProp","setUncontrolledProp","useUncontrolledState","isControlled","handleChange","setValue","nextValue","setter","uncontrolledState","prevValueRef","DirectionContext","useDirection","localDir","globalDir","ENTRY_FOCUS","EVENT_OPTIONS","bubbles","cancelable","GROUP_NAME","Collection","createRovingFocusGroupContext","createRovingFocusGroupScope","RovingFocusProvider","useRovingFocusContext","RovingFocusGroup","$98Iye$createElement","__scopeRovingFocusGroup","$98Iye$babelruntimehelpersesmextends","RovingFocusGroupImpl","orientation","loop","dir","currentTabStopId","currentTabStopIdProp","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","groupProps","direction","setCurrentTabStopId","isTabbingBackOut","setIsTabbingBackOut","handleEntryFocus","isClickFocusRef","focusableItemsCount","setFocusableItemsCount","addEventListener","removeEventListener","tabStopId","prevCount","$98Iye$Primitive","outline","style","onMouseDown","onFocus","isKeyboardFocus","target","currentTarget","entryFocusEvent","CustomEvent","dispatchEvent","item","focusable","activeItem","active","currentItem","candidateItems","candidateNodes","focusFirst","onBlur","ITEM_NAME","RovingFocusGroupItem","itemProps","autoId","isCurrentTabStop","onFocusableItemAdd","onFocusableItemRemove","preventDefault","onItemFocus","onKeyDown","key","shiftKey","onItemShiftTab","focusIntent","getFocusIntent","reverse","currentIndex","wrapArray","slice","setTimeout","MAP_KEY_TO_FOCUS_INTENT","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageUp","Home","PageDown","End","getDirectionAwareKey","includes","candidates","PREVIOUSLY_FOCUSED_ELEMENT","activeElement","candidate","focus","array","startIndex","_","Root","Item","DEFAULT_ORIENTATION","ORIENTATIONS","Separator","decorative","orientationProp","domProps","isValidOrientation","ariaOrientation","semanticProps","role","$5WXm8$createElement","$5WXm8$Primitive","$5WXm8$babelruntimehelpersesmextends","propTypes","componentName","propValue","strVal","getInvalidOrientationError","Toggle","pressed","pressedProp","defaultPressed","onPressedChange","buttonProps","setPressed","$5AXX7$createElement","$5AXX7$Primitive","$5AXX7$babelruntimehelpersesmextends","disabled","onClick","TOGGLE_GROUP_NAME","createToggleGroupContext","createToggleGroupScope","useRovingFocusGroupScope","ToggleGroup","toggleGroupProps","singleProps","$jFibJ$react","$jFibJ$babelruntimehelpersesmextends","multipleProps","ToggleGroupValueProvider","useToggleGroupValueContext","ToggleGroupImplSingle","valueProp","defaultValue","onValueChange","toggleGroupSingleProps","__scopeToggleGroup","ToggleGroupImplMultiple","toggleGroupMultipleProps","handleButtonActivate","itemValue","prevValue","handleButtonDeactivate","ToggleGroupContext","useToggleGroupContext","ToggleGroupImpl","rovingFocus","rovingFocusGroupScope","commonProps","$jFibJ$Root","$jFibJ$Primitive","ToggleGroupItem","valueContext","$jFibJ$Item","ToggleGroupItemImpl","typeProps","$jFibJ$Toggle","onItemActivate","onItemDeactivate","TOOLBAR_NAME","createToolbarContext","createToolbarScope","useToggleGroupScope","ToolbarProvider","useToolbarContext","Toolbar","__scopeToolbar","toolbarProps","$72MJ6$createElement","$72MJ6$Root","$72MJ6$babelruntimehelpersesmextends","$72MJ6$Primitive","SEPARATOR_NAME","ToolbarSeparator","separatorProps","$72MJ6$Root1","ToolbarButton","$72MJ6$Item","ToolbarToggleGroup","toggleGroupScope","$72MJ6$Root2","ToolbarToggleItem","toggleItemProps","$72MJ6$Item1","ToggleItem","isElement","getComputedStyle","computePosition","flip","inline","shift","useLatestRef","useFloating","candidateSelectors","candidateSelector","NoElement","Element","matches","prototype","msMatchesSelector","webkitMatchesSelector","getRootNode","element","_element$getRootNode","call","ownerDocument","isInert","lookUp","_node$getAttribute","inertAtt","getAttribute","inert","result","parentNode","isContentEditable","_node$getAttribute2","attValue","getCandidates","el","includeContainer","apply","unshift","getCandidatesIteratively","elements","options","elementsToCheck","tagName","assigned","assignedElements","content","nestedCandidates","flatten","push","scopeParent","validCandidate","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","hasTabIndex","isNaN","parseInt","getTabIndex","tabIndex","getSortOrderTabIndex","isScope","sortOrderedTabbables","documentOrder","isInput","isHiddenInput","isDetailsWithSummary","r","some","getCheckedRadio","nodes","form","i","checked","isTabbableRadio","radioScope","queryRadios","radioSet","CSS","escape","err","console","error","message","isRadio","isNonTabbableRadio","isNodeAttached","_nodeRoot","nodeRoot","nodeRootHost","host","attached","_nodeRootHost","_nodeRootHost$ownerDo","_node$ownerDocument","contains","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isZeroArea","_node$getBoundingClie","getBoundingClientRect","isHidden","_ref","displayCheck","visibility","isDirectSummary","nodeUnderDetails","parentElement","originalNode","rootNode","assignedSlot","getClientRects","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","acc","sortable","concat","tabbable","container","bind","_jsx","_jsxs","isObject","isPlainObject","immer","isSet","Immer","base","Path","ancestors","path","arguments","paths","levels","common","another","av","bv","compare","min","Math","endsAfter","as","bs","equals","endsAt","endsBefore","every","n","hasPrevious","isAfter","isAncestor","isBefore","isChild","isCommon","isDescendant","isParent","isPath","isArray","isSibling","al","bl","list","next","last","operationCanTransformPath","operation","parent","previous","relative","ancestor","transform","p","affinity","op","position","newPath","onp","copy","toPrimitive","toPropertyKey","applyToDraft","editor","selection","splice","point","Range","points","Point","offset","text","leaf","before","after","get","prevPath","prev","Text","isText","Scrubber","stringify","truePath","newParent","newIndex","texts","preferNext","properties","newProperties","hasOwnProperty","isRange","_objectSpread","newNode","GeneralTransforms","createDraft","finishDraft","isDraft","NodeTransforms","insertNodes","liftNodes","mergeNodes","moveNodes","removeNodes","setNodes","splitNodes","unsetNodes","unwrapNodes","wrapNodes","SelectionTransforms","collapse","deselect","move","select","setPoint","setSelection","isDeepEqual","objectWithoutPropertiesLoose","edges","range","anchor","isBackward","end","rs","re","ts","te","start","isAfterStart","isBeforeEnd","isPoint","intersection","rest","_objectWithoutProperties","_excluded","s1","e1","s2","e2","isCollapsed","isExpanded","isForward","produce","affinityAnchor","affinityFocus","isNodeList","Editor","isEditor","isElementList","val","isElementProps","isElementType","elementVal","elementKey","IS_NODE_LIST_CACHE","WeakMap","root","entry","c","childPath","descendant","descendants","extractProps","_excluded2","first","fragment","newRoot","nodeEntries","pass","has","isNode","cachedResult","isTextProps","to","visited","Set","add","nextIndex","parentPath","string","Operation","isNodeOperation","isOperation","endsWith","isOperationList","isSelectionOperation","isTextOperation","inverse","inversePath","inverseNewPath","IS_EDITOR_CACHE","cachedIsEditor","addMark","deleteFragment","insertBreak","insertSoftBreak","insertFragment","insertNode","insertText","isElementReadOnly","isInline","isSelectable","isVoid","normalizeNode","removeMark","getDirtyPaths","marks","operations","above","at","deleteBackward","unit","deleteForward","elementReadOnly","hasBlocks","hasInlines","hasPath","hasTexts","isBlock","isEdge","isEmpty","isEnd","isNormalizing","isStart","getMarks","normalize","pathRef","pathRefs","pointRef","pointRefs","positions","rangeRef","rangeRefs","setNormalizing","unhangRange","void","withoutNormalizing","fn","_scrubber","setScrubber","scrubber","JSON","loose","omitText","obj","isTextList","decorations","leaves","dec","leafEnd","decorationStart","decorationEnd","leafStart","assign","middle","off","getDefaultInsertLocation","CodepointType","L","V","LV","LVT","T","Any","Extend","ZWJ","SpacingMark","Prepend","ExtPict","RI","TextTransforms","voids","startRef","endRef","Transforms","startPoint","unref","endPoint","Toolbar.Root","Toolbar.ToggleGroup","Toolbar.ToggleItem","Toolbar.Separator","_Fragment","global","throttle"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,70,72]}
\ No newline at end of file
