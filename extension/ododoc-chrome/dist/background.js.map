{"version":3,"file":"background.js","mappings":";;;;;;;;;;;;;;;;AAAO,MAAMA,iBAAiB,GAAGA,CAACC,MAAc,EAAEC,IAAU,KAAK;EAC7DC,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;IAAEJ,MAAM;IAAE,GAAGC;EAAK,CAAC,CAAC;AACnD,CAAC;;AAED;AACA,IAAII,MAAwB,GAAG,IAAI;AAE5B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAClCD,MAAM,GAAG,IAAIE,SAAS,CAAC,+BAA+B,CAAC;EAEvDF,MAAM,CAACG,MAAM,GAAG,MAAM;IACpBC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;EACjD,CAAC;EAEDL,MAAM,CAACM,OAAO,GAAIC,KAAK,IAAK;IAC1BH,OAAO,CAACG,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;EAC1C,CAAC;EAEDP,MAAM,CAACQ,OAAO,GAAG,MAAM;IACrBJ,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC5C,CAAC;EAED,OAAOL,MAAM;AACf,CAAC;AAEM,MAAMS,oBAAoB,GAAIb,IAAS,IAAK;EAC/C,IAAII,MAAM,IAAIA,MAAM,CAACU,UAAU,KAAKR,SAAS,CAACS,IAAI,EAAE;IAClDX,MAAM,CAACY,IAAI,CAACC,IAAI,CAACC,SAAS,CAAClB,IAAI,CAAC,CAAC;EACnC,CAAC,MAAM;IACLQ,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;IACjEL,MAAM,GAAGC,cAAc,CAAC,CAAC;EAC3B;AACF,CAAC;;;;;;UChCH;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACN8E;AAE9EJ,MAAM,CAACC,OAAO,CAACiB,SAAS,CAACC,WAAW,CAAC,CAACC,OAAO,EAAEC,MAAM,EAAEC,YAAY,KAAK;EACtE,IAAIF,OAAO,CAACtB,MAAM,KAAK,cAAc,EAAE;IACrCc,2FAAoB,CAACQ,OAAO,CAACrB,IAAI,CAAC;EACpC;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M","sources":["webpack://ododoc-chrome/./src/components/textCollect/chromeMessage.ts","webpack://ododoc-chrome/webpack/bootstrap","webpack://ododoc-chrome/webpack/runtime/define property getters","webpack://ododoc-chrome/webpack/runtime/hasOwnProperty shorthand","webpack://ododoc-chrome/webpack/runtime/make namespace object","webpack://ododoc-chrome/./src/background.ts"],"sourcesContent":["export const sendChromeMessage = (action: string, data?: any) => {\r\n    chrome.runtime.sendMessage({ action, ...data });\r\n};\r\n\r\n// 웹소켓\r\nlet socket: WebSocket | null = null;\r\n\r\nexport const setupWebSocket = () => {\r\n  socket = new WebSocket('wss://localhost:18080/process');\r\n\r\n  socket.onopen = () => {\r\n    console.log('WebSocket connection established');\r\n  };\r\n\r\n  socket.onerror = (error) => {\r\n    console.error('WebSocket error:', error);\r\n  };\r\n\r\n  socket.onclose = () => {\r\n    console.log('WebSocket connection closed');\r\n  };\r\n\r\n  return socket;\r\n};\r\n\r\nexport const sendWebSocketMessage = (data: any) => {\r\n    if (socket && socket.readyState === WebSocket.OPEN) {\r\n      socket.send(JSON.stringify(data));\r\n    } else {\r\n      console.log('WebSocket is not connected, trying to reconnect...');\r\n      socket = setupWebSocket();\r\n    }\r\n  };\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { sendWebSocketMessage } from \"./components/textCollect/chromeMessage\";\r\n\r\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n  if (message.action === 'sendPageData') {\r\n    sendWebSocketMessage(message.data);\r\n  }\r\n});\r\n\r\n// chrome.action.onClicked.addListener((tab: chrome.tabs.Tab) => {\r\n//     chrome.windows.create({\r\n//       url: chrome.runtime.getURL(\"window.html\"),\r\n//       type: \"popup\",\r\n//       width: 400,\r\n//       height: 600\r\n//     });\r\n//   });\r\n\r\n// chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n//   switch (message.action) {\r\n//     case 'startTracking':\r\n//       collectStart = true;\r\n//       break;\r\n//     case 'stopTracking':\r\n//       collectStart = false;\r\n//       break;\r\n//     case 'sendText':\r\n//       console.log('Received text:', message.html);\r\n//       break;\r\n//     case 'searchText':\r\n//       console.log('Search text:', message.text);\r\n//       break;\r\n//     default:\r\n//       console.error('Unknown action:', message.action);\r\n//   }\r\n// });"],"names":["sendChromeMessage","action","data","chrome","runtime","sendMessage","socket","setupWebSocket","WebSocket","onopen","console","log","onerror","error","onclose","sendWebSocketMessage","readyState","OPEN","send","JSON","stringify","onMessage","addListener","message","sender","sendResponse"],"sourceRoot":""}